/*! For license information please see main.613aed49.js.LICENSE.txt */
(function(){var __webpack_modules__={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},76:function(e,t,r){"use strict";r.d(t,{Z:function(){return ne}});var i=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),n=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,r){return e.replace(t,r)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function h(e,t,r){return e.slice(t,r)}function d(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var v=1,m=1,g=0,b=0,y=0,_="";function C(e,t,r,i,n,o,s){return{value:e,root:t,parent:r,type:i,props:n,children:o,line:v,column:m,length:s,return:""}}function x(e,t){return s(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function w(){return y=b>0?u(_,--b):0,m--,10===y&&(m=1,v--),y}function P(){return y=b<g?u(_,b++):0,m++,10===y&&(m=1,v++),y}function S(){return u(_,b)}function E(){return b}function O(e,t){return h(_,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function k(e){return v=m=1,g=d(_=e),b=0,[]}function N(e){return _="",e}function M(e){return a(O(b-1,L(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(y=S())&&y<33;)P();return T(e)>2||T(y)>3?"":" "}function R(e,t){for(;--t&&P()&&!(y<48||y>102||y>57&&y<65||y>70&&y<97););return O(e,E()+(t<6&&32==S()&&32==P()))}function L(e){for(;P();)switch(y){case e:return b;case 34:case 39:34!==e&&39!==e&&L(y);break;case 40:41===e&&L(e);break;case 92:P()}return b}function I(e,t){for(;P()&&e+y!==57&&(e+y!==84||47!==S()););return"/*"+O(t,b-1)+"*"+o(47===e?e:P())}function D(e){for(;!T(S());)P();return O(e,b)}var j="-ms-",B="-moz-",Y="-webkit-",z="comm",F="rule",X="decl",Z="@keyframes";function U(e,t){for(var r="",i=p(e),n=0;n<i;n++)r+=t(e[n],n,e,t)||"";return r}function G(e,t,r,i){switch(e.type){case"@import":case X:return e.return=e.return||e.value;case z:return"";case Z:return e.return=e.value+"{"+U(e.children,i)+"}";case F:e.value=e.props.join(",")}return d(r=U(e.children,i))?e.return=e.value+"{"+r+"}":""}function J(e,t){switch(function(e,t){return(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3)}(e,t)){case 5103:return Y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+e+B+e+j+e+e;case 6828:case 4268:return Y+e+j+e+e;case 6165:return Y+e+j+"flex-"+e+e;case 5187:return Y+e+l(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Y+e+j+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return Y+e+j+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return Y+e+j+l(e,"shrink","negative")+e;case 5292:return Y+e+j+l(e,"basis","preferred-size")+e;case 6060:return Y+"box-"+l(e,"-grow","")+Y+e+j+l(e,"grow","positive")+e;case 4554:return Y+l(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,Y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+B+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?J(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,d(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+Y)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Y+(45===u(e,14)?"inline-":"")+"box$3$1"+Y+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return Y+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Y+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Y+e+j+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Y+e+j+e+e}return e}function H(e){return N(V("",null,null,null,[""],e=k(e),0,[0],e))}function V(e,t,r,i,n,s,a,u,h){for(var p=0,v=0,m=a,g=0,b=0,y=0,_=1,C=1,x=1,O=0,T="",k=n,N=s,L=i,j=T;C;)switch(y=O,O=P()){case 40:if(108!=y&&58==j.charCodeAt(m-1)){-1!=c(j+=l(M(O),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:j+=M(O);break;case 9:case 10:case 13:case 32:j+=A(y);break;case 92:j+=R(E()-1,7);continue;case 47:switch(S()){case 42:case 47:f(W(I(P(),E()),t,r),h);break;default:j+="/"}break;case 123*_:u[p++]=d(j)*x;case 125*_:case 59:case 0:switch(O){case 0:case 125:C=0;case 59+v:b>0&&d(j)-m&&f(b>32?$(j+";",i,r,m-1):$(l(j," ","")+";",i,r,m-2),h);break;case 59:j+=";";default:if(f(L=q(j,t,r,p,v,n,u,T,k=[],N=[],m),s),123===O)if(0===v)V(j,t,L,L,k,s,m,u,N);else switch(g){case 100:case 109:case 115:V(e,L,L,i&&f(q(e,L,L,0,0,n,u,T,n,k=[],m),N),n,N,m,u,i?k:N);break;default:V(j,L,L,L,[""],N,0,u,N)}}p=v=b=0,_=x=1,T=j="",m=a;break;case 58:m=1+d(j),b=y;default:if(_<1)if(123==O)--_;else if(125==O&&0==_++&&125==w())continue;switch(j+=o(O),O*_){case 38:x=v>0?1:(j+="\f",-1);break;case 44:u[p++]=(d(j)-1)*x,x=1;break;case 64:45===S()&&(j+=M(P())),g=S(),v=m=d(T=j+=D(E())),O++;break;case 45:45===y&&2==d(j)&&(_=0)}}return s}function q(e,t,r,i,o,s,c,u,d,f,v){for(var m=o-1,g=0===o?s:[""],b=p(g),y=0,_=0,x=0;y<i;++y)for(var w=0,P=h(e,m+1,m=n(_=c[y])),S=e;w<b;++w)(S=a(_>0?g[w]+" "+P:l(P,/&\f/g,g[w])))&&(d[x++]=S);return C(e,t,r,0===o?F:u,d,f,v)}function W(e,t,r){return C(e,t,r,z,o(y),h(e,2,-2),0)}function $(e,t,r,i){return C(e,t,r,X,h(e,0,i),h(e,i+1,-1),i)}var K=function(e,t,r){for(var i=0,n=0;i=n,n=S(),38===i&&12===n&&(t[r]=1),!T(n);)P();return O(e,b)},Q=function(e,t){return N(function(e,t){var r=-1,i=44;do{switch(T(i)){case 0:38===i&&12===S()&&(t[r]=1),e[r]+=K(b-1,t,r);break;case 2:e[r]+=M(i);break;case 4:if(44===i){e[++r]=58===S()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=o(i)}}while(i=P());return e}(k(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(r))&&!i){ee.set(e,!0);for(var n=[],o=Q(t,n),s=r.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=n[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},re=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ie=[function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case X:e.return=J(e.value,e.length);break;case Z:return U([x(e,{value:l(e.value,"@","@"+Y)})],i);case F:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([x(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return U([x(e,{props:[l(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[l(t,/:(plac\w+)/,j+"input-$1")]})],i)}return""}))}}],ne=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||ie;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;l.push(e)}));var c,u,h=[G,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=p(e);return function(r,i,n,o){for(var s="",a=0;a<t;a++)s+=e[a](r,i,n,o)||"";return s}}([te,re].concat(n,h));s=function(e,t,r,i){c=r,U(H(e?e+"{"+t.styles+"}":t.styles),d),i&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new i({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return f.sheet.hydrate(l),f}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},1688:function(e,t,r){"use strict";var i;r.d(t,{T:function(){return l},w:function(){return a}});var n=r(2791),o=r(76),s=(r(1346),(0,n.createContext)("undefined"!==typeof HTMLElement?(0,o.Z)({key:"css"}):null));s.Provider;var a=function(e){return(0,n.forwardRef)((function(t,r){var i=(0,n.useContext)(s);return e(t,i,r)}))},l=(0,n.createContext)({});(i||(i=r.t(n,2))).useInsertionEffect&&(i||(i=r.t(n,2))).useInsertionEffect},1346:function(e,t,r){"use strict";r.d(t,{O:function(){return v}});var i=function(e){for(var t,r=0,i=0,n=e.length;n>=4;++i,n-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},n={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=r(3782),s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},u=(0,o.Z)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,r){return p={name:t,styles:r,next:p},t}))}return 1===n[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;if(void 0!==r.styles){var i=r.next;if(void 0!==i)for(;void 0!==i;)p={name:i.name,styles:i.styles,next:p},i=i.next;return r.styles+";"}return function(e,t,r){var i="";if(Array.isArray(r))for(var n=0;n<r.length;n++)i+=d(e,t,r[n])+";";else for(var o in r){var s=r[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?i+=o+"{"+t[s]+"}":c(s)&&(i+=u(o)+":"+h(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":i+=u(o)+":"+a+";";break;default:i+=o+"{"+a+"}"}}else for(var l=0;l<s.length;l++)c(s[l])&&(i+=u(o)+":"+h(o,s[l])+";")}return i}(e,t,r);case"function":if(void 0!==e){var n=p,o=r(e);return p=n,d(e,t,o)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var p,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";p=void 0;var s=e[0];null==s||void 0===s.raw?(n=!1,o+=d(r,t,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=d(r,t,e[a]),n&&(o+=s[a]);f.lastIndex=0;for(var l,c="";null!==(l=f.exec(o));)c+="-"+l[1];return{name:i(o)+c,styles:o,next:p}}},5438:function(e,t,r){"use strict";r.d(t,{My:function(){return o},fp:function(){return i},hC:function(){return n}});function i(e,t,r){var i="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):i+=r+" "})),i}var n=function(e,t,r){var i=e.key+"-"+t.name;!1===r&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},o=function(e,t,r){n(e,t,r);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+i:"",o,e.sheet,!0);o=o.next}while(void 0!==o)}}},7829:function(e,t){"use strict";var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();t.Z=i},767:function(e,t,r){"use strict";function i(e,t,r){var i={};return Object.keys(e).forEach((function(n){i[n]=e[n].reduce((function(e,i){return i&&(r&&r[i]&&e.push(r[i]),e.push(t(i))),e}),[]).join(" ")})),i}r.d(t,{Z:function(){return i}})},5159:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(7829),n={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return n[t]||"".concat(i.Z.generate(e),"-").concat(t)}},208:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(5159);function n(e,t){var r={};return t.forEach((function(t){r[t]=(0,i.Z)(e,t)})),r}},9823:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=s},7247:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=s},6843:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)((0,o.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2zM5 8V7h2v3.82C5.84 10.4 5 9.3 5 8zm14 0c0 1.3-.84 2.4-2 2.82V7h2v1z"}),"EmojiEvents");t.Z=s},8008:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=s},2503:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)([(0,o.jsx)("circle",{cx:"4.5",cy:"9.5",r:"2.5"},"0"),(0,o.jsx)("circle",{cx:"9",cy:"5.5",r:"2.5"},"1"),(0,o.jsx)("circle",{cx:"15",cy:"5.5",r:"2.5"},"2"),(0,o.jsx)("circle",{cx:"19.5",cy:"9.5",r:"2.5"},"3"),(0,o.jsx)("path",{d:"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z"},"4")],"Pets");t.Z=s},7122:function(e,t,r){"use strict";var i=r(5318);t.Z=void 0;var n=i(r(5649)),o=r(184),s=(0,n.default)((0,o.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=s},5649:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=r(8610)},7107:function(e,t,r){"use strict";r.d(t,{Z:function(){return Y}});var i=r(7462),n=r(3366),o=r(2466),s=r(5080),a=r(4942);function l(e,t,r){var n;return(0,i.Z)({toolbar:(n={minHeight:56},(0,a.Z)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,a.Z)(n,e.up("sm"),{minHeight:64}),n)},r)}var c=r(6189),u=r(2065),h={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=["mode","contrastThreshold","tonalOffset"],_={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.white,default:h.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},C={text:{primary:h.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:h.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,r,i){var n=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,u.$n)(e.main,n):"dark"===t&&(e.dark=(0,u._j)(e.main,o)))}function w(e){var t=e.mode,r=void 0===t?"light":t,s=e.contrastThreshold,a=void 0===s?3:s,l=e.tonalOffset,w=void 0===l?.2:l,P=(0,n.Z)(e,y),S=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(r),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(r),O=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(r),T=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(r),k=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b[400],light:b[300],dark:b[700]}:{main:b[800],light:b[500],dark:b[900]}}(r),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(r);function M(e){return(0,u.mi)(e,C.text.primary)>=a?C.text.primary:_.text.primary}var A=function(e){var t=e.color,r=e.name,n=e.mainShade,o=void 0===n?500:n,s=e.lightShade,a=void 0===s?300:s,l=e.darkShade,u=void 0===l?700:l;if(!(t=(0,i.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,c.Z)(11,r?" (".concat(r,")"):"",o));if("string"!==typeof t.main)throw new Error((0,c.Z)(12,r?" (".concat(r,")"):"",JSON.stringify(t.main)));return x(t,"light",a,w),x(t,"dark",u,w),t.contrastText||(t.contrastText=M(t.main)),t},R={dark:C,light:_};return(0,o.Z)((0,i.Z)({common:h,mode:r,primary:A({color:S,name:"primary"}),secondary:A({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:O,name:"error"}),warning:A({color:N,name:"warning"}),info:A({color:T,name:"info"}),success:A({color:k,name:"success"}),grey:d,contrastThreshold:a,getContrastText:M,augmentColor:A,tonalOffset:w},R[r]),P)}var P=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var S={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function O(e,t){var r="function"===typeof t?t(e):t,s=r.fontFamily,a=void 0===s?E:s,l=r.fontSize,c=void 0===l?14:l,u=r.fontWeightLight,h=void 0===u?300:u,d=r.fontWeightRegular,p=void 0===d?400:d,f=r.fontWeightMedium,v=void 0===f?500:f,m=r.fontWeightBold,g=void 0===m?700:m,b=r.htmlFontSize,y=void 0===b?16:b,_=r.allVariants,C=r.pxToRem,x=(0,n.Z)(r,P);var w=c/14,O=C||function(e){return"".concat(e/y*w,"rem")},T=function(e,t,r,n,o){return(0,i.Z)({fontFamily:a,fontWeight:e,fontSize:O(t),lineHeight:r},a===E?{letterSpacing:"".concat((s=n/t,Math.round(1e5*s)/1e5),"em")}:{},o,_);var s},k={h1:T(h,96,1.167,-1.5),h2:T(h,60,1.2,-.5),h3:T(p,48,1.167,0),h4:T(p,34,1.235,.25),h5:T(p,24,1.334,0),h6:T(v,20,1.6,.15),subtitle1:T(p,16,1.75,.15),subtitle2:T(v,14,1.57,.1),body1:T(p,16,1.5,.15),body2:T(p,14,1.43,.15),button:T(v,14,1.75,.4,S),caption:T(p,12,1.66,.4),overline:T(p,12,2.66,1,S)};return(0,o.Z)((0,i.Z)({htmlFontSize:y,pxToRem:O,fontFamily:a,fontSize:c,fontWeightLight:h,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:g},k),x,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var k=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],M={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},A={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function R(e){return"".concat(Math.round(e),"ms")}function L(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function I(e){var t=(0,i.Z)({},M,e.easing),r=(0,i.Z)({},A,e.duration);return(0,i.Z)({getAutoHeightDuration:L,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.duration,s=void 0===o?r.standard:o,a=i.easing,l=void 0===a?t.easeInOut:a,c=i.delay,u=void 0===c?0:c;(0,n.Z)(i,N);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:R(s)," ").concat(l," ").concat("string"===typeof u?u:R(u))})).join(",")}},e,{easing:t,duration:r})}var D={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,r=void 0===t?{}:t,a=e.palette,c=void 0===a?{}:a,u=e.transitions,h=void 0===u?{}:u,d=e.typography,p=void 0===d?{}:d,f=(0,n.Z)(e,j),v=w(c),m=(0,s.Z)(e),g=(0,o.Z)(m,{mixins:l(m.breakpoints,m.spacing,r),palette:v,shadows:k.slice(),typography:O(v,p),transitions:I(h),zIndex:(0,i.Z)({},D)});g=(0,o.Z)(g,f);for(var b=arguments.length,y=new Array(b>1?b-1:0),_=1;_<b;_++)y[_-1]=arguments[_];return g=y.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var Y=B},6482:function(e,t,r){"use strict";var i=(0,r(7107).Z)();t.Z=i},7630:function(e,t,r){"use strict";r.d(t,{ZP:function(){return E},FO:function(){return P}});var i=r(2982),n=r(885),o=r(7462),s=r(3366),a=r(594),l=r(5080),c=r(7312),u=["variant"];function h(e){return 0===e.length}function d(e){var t=e.variant,r=(0,s.Z)(e,u),i=t||"";return Object.keys(r).sort().forEach((function(t){i+="color"===t?h(i)?e[t]:(0,c.Z)(e[t]):"".concat(h(i)?t:(0,c.Z)(t)).concat((0,c.Z)(e[t].toString()))})),i}var p=r(104),f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],v=["theme"],m=["theme"];function g(e){return 0===Object.keys(e).length}var b=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},y=function(e,t){var r=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(r=t.components[e].variants);var i={};return r.forEach((function(e){var t=d(e.props);i[t]=e.style})),i},_=function(e,t,r,i){var n,o,s=e.ownerState,a=void 0===s?{}:s,l=[],c=null==r||null==(n=r.components)||null==(o=n[i])?void 0:o.variants;return c&&c.forEach((function(r){var i=!0;Object.keys(r.props).forEach((function(t){a[t]!==r.props[t]&&e[t]!==r.props[t]&&(i=!1)})),i&&l.push(t[d(r.props)])})),l};function C(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var x=(0,l.Z)();var w=r(6482),P=function(e){return C(e)&&"classes"!==e},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,r=void 0===t?x:t,l=e.rootShouldForwardProp,c=void 0===l?C:l,u=e.slotShouldForwardProp,h=void 0===u?C:u,d=e.styleFunctionSx,w=void 0===d?p.Z:d;return function(e){var t,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.name,d=l.slot,p=l.skipVariantsResolver,x=l.skipSx,P=l.overridesResolver,S=(0,s.Z)(l,f),E=void 0!==p?p:d&&"Root"!==d||!1,O=x||!1;var T=C;"Root"===d?T=c:d&&(T=h);var k=(0,a.ZP)(e,(0,o.Z)({shouldForwardProp:T,label:t},S)),N=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),l=1;l<t;l++)a[l-1]=arguments[l];var c=a?a.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var i=t.theme,n=(0,s.Z)(t,v);return e((0,o.Z)({theme:g(i)?r:i},n))}:e})):[],h=e;u&&P&&c.push((function(e){var t=g(e.theme)?r:e.theme,i=b(u,t);if(i){var o={};return Object.entries(i).forEach((function(t){var r=(0,n.Z)(t,2),i=r[0],s=r[1];o[i]="function"===typeof s?s(e):s})),P(e,o)}return null})),u&&!E&&c.push((function(e){var t=g(e.theme)?r:e.theme;return _(e,y(u,t),t,u)})),O||c.push((function(e){var t=g(e.theme)?r:e.theme;return w((0,o.Z)({},e,{theme:t}))}));var d=c.length-a.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(h=[].concat((0,i.Z)(e),(0,i.Z)(p))).raw=[].concat((0,i.Z)(e.raw),(0,i.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(h=function(t){var i=t.theme,n=(0,s.Z)(t,m);return e((0,o.Z)({theme:g(i)?r:i},n))});var f=k.apply(void 0,[h].concat((0,i.Z)(c)));return f};return k.withConfig&&(N.withConfig=k.withConfig),N}}({defaultTheme:w.Z,rootShouldForwardProp:P}),E=S},1046:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(5735);var n=r(3459);function o(e){var t=e.props,r=e.name,o=e.defaultTheme,s=function(e){var t=e.theme,r=e.name,n=e.props;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,i.Z)(t.components[r].defaultProps,n):n}({theme:(0,n.Z)(o),name:r,props:t});return s}var s=r(6482);function a(e){return o({props:e.props,name:e.name,defaultTheme:s.Z})}},4036:function(e,t,r){"use strict";var i=r(7312);t.Z=i.Z},1260:function(e,t,r){"use strict";var i=r(8949);t.Z=i.Z},9201:function(e,t,r){"use strict";r.d(t,{Z:function(){return b}});var i=r(7462),n=r(2791),o=r(3366),s=r(8182),a=r(767),l=r(4036),c=r(1046),u=r(7630),h=r(5159);function d(e){return(0,h.Z)("MuiSvgIcon",e)}(0,r(208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=r(184),f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"inherit"!==r.color&&t["color".concat((0,l.Z)(r.color))],t["fontSize".concat((0,l.Z)(r.fontSize))]]}})((function(e){var t,r,i,n,o,s,a,l,c,u,h,d,p,f,v,m,g,b=e.theme,y=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=b.transitions)||null==(r=t.create)?void 0:r.call(t,"fill",{duration:null==(i=b.transitions)||null==(n=i.duration)?void 0:n.shorter}),fontSize:{inherit:"inherit",small:(null==(o=b.typography)||null==(s=o.pxToRem)?void 0:s.call(o,20))||"1.25rem",medium:(null==(a=b.typography)||null==(l=a.pxToRem)?void 0:l.call(a,24))||"1.5rem",large:(null==(c=b.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875"}[y.fontSize],color:null!=(h=null==(d=b.palette)||null==(p=d[y.color])?void 0:p.main)?h:{action:null==(f=b.palette)||null==(v=f.action)?void 0:v.active,disabled:null==(m=b.palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[y.color]}})),m=n.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiSvgIcon"}),n=r.children,u=r.className,h=r.color,m=void 0===h?"inherit":h,g=r.component,b=void 0===g?"svg":g,y=r.fontSize,_=void 0===y?"medium":y,C=r.htmlColor,x=r.inheritViewBox,w=void 0!==x&&x,P=r.titleAccess,S=r.viewBox,E=void 0===S?"0 0 24 24":S,O=(0,o.Z)(r,f),T=(0,i.Z)({},r,{color:m,component:b,fontSize:_,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:E}),k={};w||(k.viewBox=E);var N=function(e){var t=e.color,r=e.fontSize,i=e.classes,n={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(r))]};return(0,a.Z)(n,d,i)}(T);return(0,p.jsxs)(v,(0,i.Z)({as:b,className:(0,s.Z)(N.root,u),ownerState:T,focusable:"false",color:C,"aria-hidden":!P||void 0,role:P?"img":void 0,ref:t},k,O,{children:[n,P?(0,p.jsx)("title",{children:P}):null]}))}));m.muiName="SvgIcon";var g=m;function b(e,t){var r=function(r,n){return(0,p.jsx)(g,(0,i.Z)({"data-testid":"".concat(t,"Icon"),ref:n},r,{children:e}))};return r.muiName=g.muiName,n.memo(n.forwardRef(r))}},3199:function(e,t,r){"use strict";var i=r(3981);t.Z=i.Z},8610:function(e,t,r){"use strict";r.r(t),r.d(t,{capitalize:function(){return n.Z},createChainedFunction:function(){return o.Z},createSvgIcon:function(){return s.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return c.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return h.Z},requirePropFactory:function(){return d},setRef:function(){return p},unstable_ClassNameGenerator:function(){return C},unstable_useEnhancedEffect:function(){return f.Z},unstable_useId:function(){return v.Z},unsupportedProp:function(){return m},useControlled:function(){return g.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return _.Z}});var i=r(7829),n=r(4036),o=r(1260),s=r(9201),a=r(3199);var l=function(e,t){return function(){return null}},c=r(9103),u=r(8301),h=r(7602);r(7462);var d=function(e,t){return function(){return null}},p=r(2971).Z,f=r(162),v=r(5836);var m=function(e,t,r,i,n){return null},g=r(8744),b=r(9683),y=r(2071),_=r(3031),C={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),i.Z.configure(e)}}},9103:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(2791);var n=function(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8301:function(e,t,r){"use strict";var i=r(9723);t.Z=i.Z},7602:function(e,t,r){"use strict";var i=r(7979);t.Z=i.Z},8744:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(885),n=r(2791);var o=function(e){var t=e.controlled,r=e.default,o=(e.name,e.state,n.useRef(void 0!==t).current),s=n.useState(r),a=(0,i.Z)(s,2),l=a[0],c=a[1];return[o?t:l,n.useCallback((function(e){o||c(e)}),[])]}},162:function(e,t,r){"use strict";var i=r(5721);t.Z=i.Z},9683:function(e,t,r){"use strict";var i=r(8956);t.Z=i.Z},2071:function(e,t,r){"use strict";var i=r(7563);t.Z=i.Z},5836:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(885),n=r(2791),o=0;var s=r.t(n,2).useId;var a=function(e){if(void 0!==s){var t=s();return null!=e?e:t}return function(e){var t=n.useState(e),r=(0,i.Z)(t,2),s=r[0],a=r[1],l=e||s;return n.useEffect((function(){null==s&&a("mui-".concat(o+=1))}),[s]),l}(e)}},3031:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var i,n=r(2791),o=!0,s=!1,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(r){}return o||function(e){var t=e.type,r=e.tagName;return!("INPUT"!==r||!a[t]||e.readOnly)||"TEXTAREA"===r&&!e.readOnly||!!e.isContentEditable}(t)}var d=function(){var e=n.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,window.clearTimeout(i),i=window.setTimeout((function(){s=!1}),100),t.current=!1,!0)},ref:e}}},8023:function(e,t,r){"use strict";var i=r(2791).createContext(null);t.Z=i},9598:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(2791),n=r(8023);function o(){return i.useContext(n.Z)}},594:function(e,t,r){"use strict";r.d(t,{ZP:function(){return C}});var i=r(2791),n=r.t(i,2),o=r(7462),s=r(3782),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(1688),u=r(5438),h=r(1346),d=l,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:p},v=function(e,t,r){var i;if(t){var n=t.shouldForwardProp;i=e.__emotion_forwardProp&&n?function(t){return e.__emotion_forwardProp(t)&&n(t)}:n}return"function"!==typeof i&&r&&(i=e.__emotion_forwardProp),i},m=n.useInsertionEffect?n.useInsertionEffect:function(e){e()};var g=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;(0,u.hC)(t,r,i);m((function(){return(0,u.My)(t,r,i)}));return null},b=function e(t,r){var n,s,a=t.__emotion_real===t,l=a&&t.__emotion_base||t;void 0!==r&&(n=r.label,s=r.target);var d=v(t,r,a),p=d||f(l),m=!p("as");return function(){var b=arguments,y=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==n&&y.push("label:"+n+";"),null==b[0]||void 0===b[0].raw)y.push.apply(y,b);else{0,y.push(b[0][0]);for(var _=b.length,C=1;C<_;C++)y.push(b[C],b[0][C])}var x=(0,c.w)((function(e,t,r){var n=m&&e.as||l,o="",a=[],v=e;if(null==e.theme){for(var b in v={},e)v[b]=e[b];v.theme=(0,i.useContext)(c.T)}"string"===typeof e.className?o=(0,u.fp)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var _=(0,h.O)(y.concat(a),t.registered,v);o+=t.key+"-"+_.name,void 0!==s&&(o+=" "+s);var C=m&&void 0===d?f(n):p,x={};for(var w in e)m&&"as"===w||C(w)&&(x[w]=e[w]);return x.className=o,x.ref=r,(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g,{cache:t,serialized:_,isStringTag:"string"===typeof n}),(0,i.createElement)(n,x))}));return x.displayName=void 0!==n?n:"Styled("+("string"===typeof l?l:l.displayName||l.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=l,x.__emotion_styles=y,x.__emotion_forwardProp=d,Object.defineProperty(x,"toString",{value:function(){return"."+s}}),x.withComponent=function(t,i){return e(t,(0,o.Z)({},r,i,{shouldForwardProp:v(x,i,!0)})).apply(void 0,y)},x}},y=b.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));var _=y;function C(e,t){return _(e,t)}},1184:function(e,t,r){"use strict";r.d(t,{L7:function(){return a},VO:function(){return i},W8:function(){return s},k9:function(){return o}});var i={xs:0,sm:600,md:900,lg:1200,xl:1536},n={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,r){var o=e.theme||{};if(Array.isArray(t)){var s=o.breakpoints||n;return t.reduce((function(e,i,n){return e[s.up(s.keys[n])]=r(t[n]),e}),{})}if("object"===typeof t){var a=o.breakpoints||n;return Object.keys(t).reduce((function(e,n){if(-1!==Object.keys(a.values||i).indexOf(n)){e[a.up(n)]=r(t[n],n)}else{var o=n;e[o]=t[o]}return e}),{})}return r(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,r){return e[t.up(r)]={},e}),{});return r||{}}function a(e,t){return e.reduce((function(e,t){var r=e[t];return(!r||0===Object.keys(r).length)&&delete e[t],e}),t)}},2065:function(e,t,r){"use strict";r.d(t,{$n:function(){return h},Fq:function(){return c},_j:function(){return u},mi:function(){return l}});var i=r(6189);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),r)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb".concat(4===r.length?"a":"","(").concat(r.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),r=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(r))throw new Error((0,i.Z)(9,e));var n,s=e.substring(t+1,e.length-1);if("color"===r){if(n=(s=s.split(" ")).shift(),4===s.length&&"/"===s[3].charAt(0)&&(s[3]=s[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n))throw new Error((0,i.Z)(10,n))}else s=s.split(",");return{type:r,values:s=s.map((function(e){return parseFloat(e)})),colorSpace:n}}function s(e){var t=e.type,r=e.colorSpace,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(r," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function a(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,r=t[0],i=t[1]/100,n=t[2]/100,a=i*Math.min(n,1-n),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+r/30)%12;return n-a*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),s({type:c,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){var r=a(e),i=a(t);return(Math.max(r,i)+.05)/(Math.min(r,i)+.05)}function c(e,t){return e=o(e),t=n(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,s(e)}function u(e,t){if(e=o(e),t=n(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return s(e)}function h(e,t){if(e=o(e),t=n(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(-1!==e.type.indexOf("color"))for(var i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return s(e)}},5080:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var i=r(7462),n=r(3366),o=r(2466),s=r(4942),a=["values","unit","step"];function l(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,o=e.unit,l=void 0===o?"px":o,c=e.step,u=void 0===c?5:c,h=(0,n.Z)(e,a),d=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,i.Z)({},e,(0,s.Z)({},t.key,t.val))}),{})}(r),p=Object.keys(d);function f(e){var t="number"===typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function v(e){var t="number"===typeof r[e]?r[e]:e;return"@media (max-width:".concat(t-u/100).concat(l,")")}function m(e,t){var i=p.indexOf(t);return"@media (min-width:".concat("number"===typeof r[e]?r[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof r[p[i]]?r[p[i]]:t)-u/100).concat(l,")")}return(0,i.Z)({keys:p,values:d,up:f,down:v,between:m,only:function(e){return p.indexOf(e)+1<p.length?m(e,p[p.indexOf(e)+1]):f(e)},not:function(e){var t=p.indexOf(e);return 0===t?f(p[1]):t===p.length-1?v(p[t]):m(e,p[p.indexOf(e)+1]).replace("@media","@media not all and")},unit:l},h)}var c={borderRadius:4},u=r(5682);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,u.hB)({spacing:e}),r=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var n=0===r.length?[1]:r;return n.map((function(e){var r=t(e);return"number"===typeof r?"".concat(r,"px"):r})).join(" ")};return r.mui=!0,r}var d=["breakpoints","palette","spacing","shape"];var p=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,s=e.palette,a=void 0===s?{}:s,u=e.spacing,p=e.shape,f=void 0===p?{}:p,v=(0,n.Z)(e,d),m=l(r),g=h(u),b=(0,o.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},a),spacing:g,shape:(0,i.Z)({},c,f)},v),y=arguments.length,_=new Array(y>1?y-1:0),C=1;C<y;C++)_[C-1]=arguments[C];return b=_.reduce((function(e,t){return(0,o.Z)(e,t)}),b)}},6001:function(e,t,r){"use strict";r.d(t,{Gc:function(){return q},G$:function(){return V}});var i=r(8529),n=r(8247);var o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.reduce((function(e,t){return t.filterProps.forEach((function(r){e[r]=t})),e}),{}),o=function(e){return Object.keys(e).reduce((function(t,r){return i[r]?(0,n.Z)(t,i[r](e)):t}),{})};return o.propTypes={},o.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),o},s=r(5682),a=r(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,i.Z)({prop:"border",themeKey:"borders",transform:l}),u=(0,i.Z)({prop:"borderTop",themeKey:"borders",transform:l}),h=(0,i.Z)({prop:"borderRight",themeKey:"borders",transform:l}),d=(0,i.Z)({prop:"borderBottom",themeKey:"borders",transform:l}),p=(0,i.Z)({prop:"borderLeft",themeKey:"borders",transform:l}),f=(0,i.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,i.Z)({prop:"borderTopColor",themeKey:"palette"}),m=(0,i.Z)({prop:"borderRightColor",themeKey:"palette"}),g=(0,i.Z)({prop:"borderBottomColor",themeKey:"palette"}),b=(0,i.Z)({prop:"borderLeftColor",themeKey:"palette"}),y=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,s.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,a.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,s.NA)(t,e)}}))}return null};y.propTypes={},y.filterProps=["borderRadius"];var _=o(c,u,h,d,p,f,v,m,g,b,y),C=o((0,i.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,i.Z)({prop:"display"}),(0,i.Z)({prop:"overflow"}),(0,i.Z)({prop:"textOverflow"}),(0,i.Z)({prop:"visibility"}),(0,i.Z)({prop:"whiteSpace"})),x=o((0,i.Z)({prop:"flexBasis"}),(0,i.Z)({prop:"flexDirection"}),(0,i.Z)({prop:"flexWrap"}),(0,i.Z)({prop:"justifyContent"}),(0,i.Z)({prop:"alignItems"}),(0,i.Z)({prop:"alignContent"}),(0,i.Z)({prop:"order"}),(0,i.Z)({prop:"flex"}),(0,i.Z)({prop:"flexGrow"}),(0,i.Z)({prop:"flexShrink"}),(0,i.Z)({prop:"alignSelf"}),(0,i.Z)({prop:"justifyItems"}),(0,i.Z)({prop:"justifySelf"})),w=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,s.eI)(e.theme,"spacing",8,"gap");return(0,a.k9)(e,e.gap,(function(e){return{gap:(0,s.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["gap"];var P=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,s.eI)(e.theme,"spacing",8,"columnGap");return(0,a.k9)(e,e.columnGap,(function(e){return{columnGap:(0,s.NA)(t,e)}}))}return null};P.propTypes={},P.filterProps=["columnGap"];var S=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,s.eI)(e.theme,"spacing",8,"rowGap");return(0,a.k9)(e,e.rowGap,(function(e){return{rowGap:(0,s.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["rowGap"];var E=o(w,P,S,(0,i.Z)({prop:"gridColumn"}),(0,i.Z)({prop:"gridRow"}),(0,i.Z)({prop:"gridAutoFlow"}),(0,i.Z)({prop:"gridAutoColumns"}),(0,i.Z)({prop:"gridAutoRows"}),(0,i.Z)({prop:"gridTemplateColumns"}),(0,i.Z)({prop:"gridTemplateRows"}),(0,i.Z)({prop:"gridTemplateAreas"}),(0,i.Z)({prop:"gridArea"})),O=o((0,i.Z)({prop:"position"}),(0,i.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,i.Z)({prop:"top"}),(0,i.Z)({prop:"right"}),(0,i.Z)({prop:"bottom"}),(0,i.Z)({prop:"left"})),T=o((0,i.Z)({prop:"color",themeKey:"palette"}),(0,i.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,i.Z)({prop:"backgroundColor",themeKey:"palette"})),k=(0,i.Z)({prop:"boxShadow",themeKey:"shadows"});function N(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var M=(0,i.Z)({prop:"width",transform:N}),A=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,a.k9)(e,e.maxWidth,(function(t){var r,i,n;return{maxWidth:(null==(r=e.theme)||null==(i=r.breakpoints)||null==(n=i.values)?void 0:n[t])||a.VO[t]||N(t)}}))}return null};A.filterProps=["maxWidth"];var R=(0,i.Z)({prop:"minWidth",transform:N}),L=(0,i.Z)({prop:"height",transform:N}),I=(0,i.Z)({prop:"maxHeight",transform:N}),D=(0,i.Z)({prop:"minHeight",transform:N}),j=((0,i.Z)({prop:"size",cssProperty:"width",transform:N}),(0,i.Z)({prop:"size",cssProperty:"height",transform:N}),o(M,A,R,L,I,D,(0,i.Z)({prop:"boxSizing"}))),B=(0,i.Z)({prop:"fontFamily",themeKey:"typography"}),Y=(0,i.Z)({prop:"fontSize",themeKey:"typography"}),z=(0,i.Z)({prop:"fontStyle",themeKey:"typography"}),F=(0,i.Z)({prop:"fontWeight",themeKey:"typography"}),X=(0,i.Z)({prop:"letterSpacing"}),Z=(0,i.Z)({prop:"textTransform"}),U=(0,i.Z)({prop:"lineHeight"}),G=(0,i.Z)({prop:"textAlign"}),J=o((0,i.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),B,Y,z,F,X,U,G,Z),H={borders:_.filterProps,display:C.filterProps,flexbox:x.filterProps,grid:E.filterProps,positions:O.filterProps,palette:T.filterProps,shadows:k.filterProps,sizing:j.filterProps,spacing:s.ZP.filterProps,typography:J.filterProps},V={borders:_,display:C,flexbox:x,grid:E,positions:O,palette:T,shadows:k,sizing:j,spacing:s.ZP,typography:J},q=Object.keys(H).reduce((function(e,t){return H[t].forEach((function(r){e[r]=V[t]})),e}),{})},8247:function(e,t,r){"use strict";var i=r(2466);t.Z=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e}},5682:function(e,t,r){"use strict";r.d(t,{hB:function(){return v},eI:function(){return f},ZP:function(){return x},NA:function(){return m}});var i=r(885),n=r(1184),o=r(8529),s=r(8247);var a={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),r=(0,i.Z)(t,2),n=r[0],o=r[1],s=a[n],u=l[o]||"";return Array.isArray(u)?u.map((function(e){return s+e})):[s+u]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[].concat(h,d);function f(e,t,r,i){var n=(0,o.D)(e,t)||r;return"number"===typeof n?function(e){return"string"===typeof e?e:n*e}:Array.isArray(n)?function(e){return"string"===typeof e?e:n[e]}:"function"===typeof n?n:function(){}}function v(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var r=e(Math.abs(t));return t>=0?r:"number"===typeof r?-r:"-".concat(r)}function g(e,t,r,i){if(-1===t.indexOf(r))return null;var o=function(e,t){return function(r){return e.reduce((function(e,i){return e[i]=m(t,r),e}),{})}}(u(r),i),s=e[r];return(0,n.k9)(e,s,o)}function b(e,t){var r=v(e.theme);return Object.keys(e).map((function(i){return g(e,t,i,r)})).reduce(s.Z,{})}function y(e){return b(e,h)}function _(e){return b(e,d)}function C(e){return b(e,p)}y.propTypes={},y.filterProps=h,_.propTypes={},_.filterProps=d,C.propTypes={},C.filterProps=p;var x=C},8529:function(e,t,r){"use strict";r.d(t,{D:function(){return s}});var i=r(4942),n=r(7312),o=r(1184);function s(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function a(e,t,r){var i,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return i="function"===typeof e?e(r):Array.isArray(e)?e[r]||n:s(e,r)||n,t&&(i=t(i)),i}t.Z=function(e){var t=e.prop,r=e.cssProperty,l=void 0===r?e.prop:r,c=e.themeKey,u=e.transform,h=function(e){if(null==e[t])return null;var r=e[t],h=s(e.theme,c)||{};return(0,o.k9)(e,r,(function(e){var r=a(h,u,e);return e===r&&"string"===typeof e&&(r=a(h,u,"".concat(t).concat("default"===e?"":(0,n.Z)(e)),e)),!1===l?r:(0,i.Z)({},l,r)}))};return h.propTypes={},h.filterProps=[t],h}},104:function(e,t,r){"use strict";var i=r(4942),n=r(8247),o=r(6001),s=r(1184);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),n=new Set(i);return t.every((function(e){return n.size===Object.keys(e).length}))}function l(e,t){return"function"===typeof e?e(t):e}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.G$,t=Object.keys(e).reduce((function(t,r){return e[r].filterProps.forEach((function(i){t[i]=e[r]})),t}),{});function r(e,r,n){var o,s=(o={},(0,i.Z)(o,e,r),(0,i.Z)(o,"theme",n),o),a=t[e];return a?a(s):(0,i.Z)({},e,r)}function c(e){var o=e||{},u=o.sx,h=o.theme,d=void 0===h?{}:h;if(!u)return null;function p(e){var o=e;if("function"===typeof e)o=e(d);else if("object"!==typeof e)return e;if(!o)return null;var u=(0,s.W8)(d.breakpoints),h=Object.keys(u),p=u;return Object.keys(o).forEach((function(e){var u=l(o[e],d);if(null!==u&&void 0!==u)if("object"===typeof u)if(t[e])p=(0,n.Z)(p,r(e,u,d));else{var h=(0,s.k9)({theme:d},u,(function(t){return(0,i.Z)({},e,t)}));a(h,u)?p[e]=c({sx:u,theme:d}):p=(0,n.Z)(p,h)}else p=(0,n.Z)(p,r(e,u,d))})),(0,s.L7)(h,p)}return Array.isArray(u)?u.map(p):p(u)}return c}();c.filterProps=["sx"],t.Z=c},3459:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var i=r(5080),n=r(9598);function o(e){return 0===Object.keys(e).length}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,n.Z)();return!t||o(t)?e:t},a=(0,i.Z)();var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return s(e)}},7312:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(6189);function n(e){if("string"!==typeof e)throw new Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8949:function(e,t,r){"use strict";function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i),t.apply(this,i)}}),(function(){}))}r.d(t,{Z:function(){return i}})},3981:function(e,t,r){"use strict";function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=this,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];var a=function(){e.apply(i,o)};clearTimeout(t),t=setTimeout(a,r)}return i.clear=function(){clearTimeout(t)},i}r.d(t,{Z:function(){return i}})},2466:function(e,t,r){"use strict";r.d(t,{P:function(){return n},Z:function(){return o}});var i=r(7462);function n(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=r.clone?(0,i.Z)({},e):e;return n(e)&&n(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(n(t[i])&&i in e&&n(e[i])?s[i]=o(e[i],t[i],r):s[i]=t[i])})),s}},6189:function(e,t,r){"use strict";function i(e){for(var t="https://mui.com/production-error/?code="+e,r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}r.d(t,{Z:function(){return i}})},9723:function(e,t,r){"use strict";function i(e){return e&&e.ownerDocument||document}r.d(t,{Z:function(){return i}})},7979:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(9723);function n(e){return(0,i.Z)(e).defaultView||window}},5735:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(7462);function n(e,t){var r=(0,i.Z)({},t);return Object.keys(e).forEach((function(t){void 0===r[t]&&(r[t]=e[t])})),r}},2971:function(e,t,r){"use strict";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}r.d(t,{Z:function(){return i}})},5721:function(e,t,r){"use strict";var i=r(2791),n="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;t.Z=n},8956:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(2791),n=r(5721);function o(e){var t=i.useRef(e);return(0,n.Z)((function(){t.current=e})),i.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(2791),n=r(2971);function o(e,t){return i.useMemo((function(){return null==e&&null==t?null:function(r){(0,n.Z)(e,r),(0,n.Z)(t,r)}}),[e,t])}},1694:function(e,t){var r;!function(){"use strict";var i={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var s=n.apply(null,r);s&&e.push(s)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var a in r)i.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},8182:function(e,t,r){"use strict";function i(e){var t,r,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=i(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function n(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=i(e))&&(n&&(n+=" "),n+=t);return n}r.d(t,{Z:function(){return n}})},8262:function(e){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,o;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!==n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!==n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=i;0!==n--;){var s=o[n];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}},2110:function(e,t,r){"use strict";var i=r(8309),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||n}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,i){if("string"!==typeof r){if(f){var n=p(r);n&&n!==f&&e(t,n,i)}var s=u(r);h&&(s=s.concat(h(r)));for(var a=l(t),v=l(r),m=0;m<s.length;++m){var g=s[m];if(!o[g]&&(!i||!i[g])&&(!v||!v[g])&&(!a||!a[g])){var b=d(r,g);try{c(t,g,b)}catch(y){}}}}return t}},746:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case h:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case l:return e;default:return t}}case n:return t}}}function x(e){return C(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=n,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||C(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return C(e)===c},t.isContextProvider=function(e){return C(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return C(e)===d},t.isFragment=function(e){return C(e)===o},t.isLazy=function(e){return C(e)===m},t.isMemo=function(e){return C(e)===v},t.isPortal=function(e){return C(e)===n},t.isProfiler=function(e){return C(e)===a},t.isStrictMode=function(e){return C(e)===s},t.isSuspense=function(e){return C(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_||e.$$typeof===g)},t.typeOf=C},8309:function(e,t,r){"use strict";e.exports=r(746)},1712:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,e;module=__webpack_require__.nmd(module),e=function(){var requirejs,require,define;return function(e){var t,r,i,n,o={},s={},a={},l={},c=Object.prototype.hasOwnProperty,u=[].slice,h=/\.js$/;function d(e,t){return c.call(e,t)}function p(e,t){var r,i,n,o,s,l,c,u,d,p,f,v=t&&t.split("/"),m=a.map,g=m&&m["*"]||{};if(e){for(s=(e=e.split("/")).length-1,a.nodeIdCompat&&h.test(e[s])&&(e[s]=e[s].replace(h,"")),"."===e[0].charAt(0)&&v&&(e=v.slice(0,v.length-1).concat(e)),d=0;d<e.length;d++)if("."===(f=e[d]))e.splice(d,1),d-=1;else if(".."===f){if(0===d||1===d&&".."===e[2]||".."===e[d-1])continue;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}if((v||g)&&m){for(d=(r=e.split("/")).length;d>0;d-=1){if(i=r.slice(0,d).join("/"),v)for(p=v.length;p>0;p-=1)if((n=m[v.slice(0,p).join("/")])&&(n=n[i])){o=n,l=d;break}if(o)break;!c&&g&&g[i]&&(c=g[i],u=d)}!o&&c&&(o=c,l=u),o&&(r.splice(0,l,o),e=r.join("/"))}return e}function f(t,i){return function(){var n=u.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),r.apply(e,n.concat([t,i]))}}function v(e){return function(t){o[e]=t}}function m(r){if(d(s,r)){var i=s[r];delete s[r],l[r]=!0,t.apply(e,i)}if(!d(o,r)&&!d(l,r))throw new Error("No "+r);return o[r]}function g(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function b(e){return e?g(e):[]}function y(e){return function(){return a&&a.config&&a.config[e]||{}}}i=function(e,t){var r,i,n=g(e),o=n[0],s=t[1];return e=n[1],o&&(r=m(o=p(o,s))),o?e=r&&r.normalize?r.normalize(e,(i=s,function(e){return p(e,i)})):p(e,s):(o=(n=g(e=p(e,s)))[0],e=n[1],o&&(r=m(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:r}},n={require:function(e){return f(e)},exports:function(e){var t=o[e];return void 0!==t?t:o[e]={}},module:function(e){return{id:e,uri:"",exports:o[e],config:y(e)}}},t=function(t,r,a,c){var u,h,p,g,y,_,C,x=[],w=typeof a;if(_=b(c=c||t),"undefined"===w||"function"===w){for(r=!r.length&&a.length?["require","exports","module"]:r,y=0;y<r.length;y+=1)if("require"===(h=(g=i(r[y],_)).f))x[y]=n.require(t);else if("exports"===h)x[y]=n.exports(t),C=!0;else if("module"===h)u=x[y]=n.module(t);else if(d(o,h)||d(s,h)||d(l,h))x[y]=m(h);else{if(!g.p)throw new Error(t+" missing "+h);g.p.load(g.n,f(c,!0),v(h),{}),x[y]=o[h]}p=a?a.apply(o[t],x):void 0,t&&(u&&u.exports!==e&&u.exports!==o[t]?o[t]=u.exports:p===e&&C||(o[t]=p))}else t&&(o[t]=a)},requirejs=require=r=function(o,s,l,c,u){if("string"==typeof o)return n[o]?n[o](s):m(i(o,b(s)).f);if(!o.splice){if((a=o).deps&&r(a.deps,a.callback),!s)return;s.splice?(o=s,s=l,l=null):o=e}return s=s||function(){},"function"==typeof l&&(l=c,c=u),c?t(e,o,s,l):setTimeout((function(){t(e,o,s,l)}),4),r},r.config=function(e){return r(e)},requirejs._defined=o,(define=function(e,t,r){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(r=t,t=[]),d(o,e)||d(s,e)||(s[e]=[e,t,r])}).amd={jQuery:!0}}(),define("../node_modules/almond/almond",(function(){})),define("jxg",[],(function(){"use strict";var e={};return"object"!=typeof JXG||JXG.extend||(e=JXG),e.extend=function(e,t,r,i){var n;for(n in r=r||!1,i=i||!1,t)(!r||r&&t.hasOwnProperty(n))&&(e[i?n.toLowerCase():n]=t[n])},e.defineConstant=function(t,r,i,n){(n=n||!1)&&e.exists(t[r])||Object.defineProperty(t,r,{value:i,writable:!1,enumerable:!0,configurable:!1})},e.extendConstants=function(e,t,r,i){var n,o;for(n in r=r||!1,i=i||!1,t)(!r||r&&t.hasOwnProperty(n))&&(o=i?n.toUpperCase():n,this.defineConstant(e,o,t[n]))},e.extend(e,{boards:{},readers:{},elements:{},registerElement:function(e,t){e=e.toLowerCase(),this.elements[e]=t},registerReader:function(e,t){var r,i;for(r=0;r<t.length;r++)i=t[r].toLowerCase(),"function"!=typeof this.readers[i]&&(this.readers[i]=e)},shortcut:function(e,t){return function(){return e[t].apply(this,arguments)}},getRef:function(t,r){return e.deprecated("JXG.getRef()","Board.select()"),t.select(r)},getReference:function(t,r){return e.deprecated("JXG.getReference()","Board.select()"),t.select(r)},getBoardByContainerId:function(e){var t;for(t in JXG.boards)if(JXG.boards.hasOwnProperty(t)&&JXG.boards[t].container===e)return JXG.boards[t];return null},deprecated:function(t,r){var i=t+" is deprecated.";r&&(i+=" Please use "+r+" instead."),e.warn(i)},warn:function(e){"object"==typeof window&&window.console&&console.warn?console.warn("WARNING:",e):"object"==typeof document&&document.getElementById("warning")&&(document.getElementById("debug").innerHTML+="WARNING: "+e+"<br />")},debugInt:function(e){var t,r;for(t=0;t<arguments.length;t++)r=arguments[t],"object"==typeof window&&window.console&&console.log?console.log(r):"object"==typeof document&&document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=r+"<br/>")},debugWST:function(t){var r=new Error;e.debugInt.apply(this,arguments),r&&r.stack&&(e.debugInt("stacktrace"),e.debugInt(r.stack.split("\n").slice(1).join("\n")))},debugLine:function(t){var r=new Error;e.debugInt.apply(this,arguments),r&&r.stack&&e.debugInt("Called from",r.stack.split("\n").slice(2,3).join("\n"))},debug:function(t){e.debugInt.apply(this,arguments)}}),e})),define("base/constants",["jxg"],(function(e){"use strict";var t;return t={version:"1.4.2",licenseText:"JSXGraph v1.4.2 Copyright (C) see https://jsxgraph.org",COORDS_BY_USER:1,COORDS_BY_SCREEN:2,OBJECT_TYPE_ARC:1,OBJECT_TYPE_ARROW:2,OBJECT_TYPE_AXIS:3,OBJECT_TYPE_AXISPOINT:4,OBJECT_TYPE_TICKS:5,OBJECT_TYPE_CIRCLE:6,OBJECT_TYPE_CONIC:7,OBJECT_TYPE_CURVE:8,OBJECT_TYPE_GLIDER:9,OBJECT_TYPE_IMAGE:10,OBJECT_TYPE_LINE:11,OBJECT_TYPE_POINT:12,OBJECT_TYPE_SLIDER:13,OBJECT_TYPE_CAS:14,OBJECT_TYPE_GXTCAS:15,OBJECT_TYPE_POLYGON:16,OBJECT_TYPE_SECTOR:17,OBJECT_TYPE_TEXT:18,OBJECT_TYPE_ANGLE:19,OBJECT_TYPE_INTERSECTION:20,OBJECT_TYPE_TURTLE:21,OBJECT_TYPE_VECTOR:22,OBJECT_TYPE_OPROJECT:23,OBJECT_TYPE_GRID:24,OBJECT_TYPE_TANGENT:25,OBJECT_TYPE_HTMLSLIDER:26,OBJECT_TYPE_CHECKBOX:27,OBJECT_TYPE_INPUT:28,OBJECT_TYPE_BUTTON:29,OBJECT_TYPE_TRANSFORMATION:30,OBJECT_TYPE_FOREIGNOBJECT:31,OBJECT_TYPE_VIEW3D:32,OBJECT_CLASS_POINT:1,OBJECT_CLASS_LINE:2,OBJECT_CLASS_CIRCLE:3,OBJECT_CLASS_CURVE:4,OBJECT_CLASS_AREA:5,OBJECT_CLASS_OTHER:6,OBJECT_CLASS_TEXT:7,GENTYPE_ABC:1,GENTYPE_AXIS:2,GENTYPE_MID:3,GENTYPE_REFLECTION:4,GENTYPE_MIRRORELEMENT:5,GENTYPE_REFLECTION_ON_LINE:4,GENTYPE_REFLECTION_ON_POINT:5,GENTYPE_TANGENT:6,GENTYPE_PARALLEL:7,GENTYPE_BISECTORLINES:8,GENTYPE_BOARDIMG:9,GENTYPE_BISECTOR:10,GENTYPE_NORMAL:11,GENTYPE_POINT:12,GENTYPE_GLIDER:13,GENTYPE_INTERSECTION:14,GENTYPE_CIRCLE:15,GENTYPE_CIRCLE2POINTS:16,GENTYPE_LINE:17,GENTYPE_TRIANGLE:18,GENTYPE_QUADRILATERAL:19,GENTYPE_TEXT:20,GENTYPE_POLYGON:21,GENTYPE_REGULARPOLYGON:22,GENTYPE_SECTOR:23,GENTYPE_ANGLE:24,GENTYPE_PLOT:25,GENTYPE_SLIDER:26,GENTYPE_TRUNCATE:27,GENTYPE_JCODE:28,GENTYPE_MOVEMENT:29,GENTYPE_COMBINED:30,GENTYPE_RULER:31,GENTYPE_SLOPETRIANGLE:32,GENTYPE_PERPSEGMENT:33,GENTYPE_LABELMOVEMENT:34,GENTYPE_VECTOR:35,GENTYPE_NONREFLEXANGLE:36,GENTYPE_REFLEXANGLE:37,GENTYPE_PATH:38,GENTYPE_DERIVATIVE:39,GENTYPE_DELETE:41,GENTYPE_COPY:42,GENTYPE_MIRROR:43,GENTYPE_ROTATE:44,GENTYPE_ABLATION:45,GENTYPE_MIGRATE:46,GENTYPE_VECTORCOPY:47,GENTYPE_POLYGONCOPY:48,GENTYPE_CTX_TYPE_G:51,GENTYPE_CTX_TYPE_P:52,GENTYPE_CTX_TRACE:53,GENTYPE_CTX_VISIBILITY:54,GENTYPE_CTX_CCVISIBILITY:55,GENTYPE_CTX_MPVISIBILITY:56,GENTYPE_CTX_WITHLABEL:57,GENTYPE_CTX_LABEL:58,GENTYPE_CTX_FIXED:59,GENTYPE_CTX_STROKEWIDTH:60,GENTYPE_CTX_LABELSIZE:61,GENTYPE_CTX_SIZE:62,GENTYPE_CTX_FACE:63,GENTYPE_CTX_STRAIGHT:64,GENTYPE_CTX_ARROW:65,GENTYPE_CTX_COLOR:66,GENTYPE_CTX_RADIUS:67,GENTYPE_CTX_COORDS:68,GENTYPE_CTX_TEXT:69,GENTYPE_CTX_ANGLERADIUS:70,GENTYPE_CTX_DOTVISIBILITY:71,GENTYPE_CTX_FILLOPACITY:72,GENTYPE_CTX_PLOT:73,GENTYPE_CTX_SCALE:74,GENTYPE_CTX_INTVAL:75,GENTYPE_CTX_POINT1:76,GENTYPE_CTX_POINT2:77,GENTYPE_CTX_LABELSTICKY:78,GENTYPE_CTX_TYPE_I:79,GENTYPE_CTX_HASINNERPOINTS:80,GENTYPE_CTX_SNAPWIDTH:81,GENTYPE_CTX_SNAPTOGRID:82},e.extendConstants(e,t),t})),define("utils/type",["jxg","base/constants"],(function(e,t){"use strict";return e.extend(e,{isId:function(e,t){return"string"==typeof t&&!!e.objects[t]},isName:function(e,t){return"string"==typeof t&&!!e.elementsByName[t]},isGroup:function(e,t){return"string"==typeof t&&!!e.groups[t]},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e||"[Object Number]"===Object.prototype.toString.call(e)},isFunction:function(e){return"function"==typeof e},isArray:function(e){return Array.isArray?Array.isArray(e):null!==e&&"object"==typeof e&&"function"==typeof e.splice&&"function"==typeof e.join},isObject:function(e){return"object"==typeof e&&!this.isArray(e)},isPoint:function(e){return null!==e&&"object"==typeof e&&e.elementClass===t.OBJECT_CLASS_POINT},isPointType:function(e,t){var r,i;return!!this.isArray(t)||!!(this.isFunction(t)&&(r=t(),this.isArray(r)&&r.length>1))||(i=e.select(t),this.isPoint(i))},isTransformationOrArray:function(e){if(null!==e){if(this.isArray(e)&&e.length>0)return this.isTransformationOrArray(e[0]);if("object"==typeof e)return e.type===t.OBJECT_TYPE_TRANSFORMATION}return!1},exists:function(e,t){var r=!(null==e||null===e);return(t=t||!1)?r&&""!==e:r},isEmpty:function(e){return 0===Object.keys(e).length},def:function(e,t){return this.exists(e)?e:t},str2Bool:function(e){return!this.exists(e)||("boolean"==typeof e?e:!!this.isString(e)&&"true"===e.toLowerCase())},createEvalFunction:function(t,r,i){var n,o=[];for(n=0;n<i;n++)o[n]=e.createFunction(r[n],t,"",!0);return function(e){return o[e]()}},createFunction:function(e,t,r,i){var n=null;return this.exists(i)&&!i||!this.isString(e)?this.isFunction(e)?n=e:(this.isNumber(e)||this.isString(e))&&(n=function(){return e}):n=t.jc.snippet(e,!0,r,!0),null!==n&&(n.origin=e),n},providePoints:function(e,t,r,i,n){var o,s,a,l,c,u=0,h=[];for(this.isArray(t)||(t=[t]),a=t.length,this.exists(n)&&(u=n.length),0===u&&(l=this.copyAttributes(r,e.options,i)),o=0;o<a;++o)if(u>0&&(s=Math.min(o,u-1),l=this.copyAttributes(r,e.options,i,n[s])),this.isArray(t[o])&&t[o].length>1?(h.push(e.create("point",t[o],l)),h[h.length-1]._is_new=!0):this.isFunction(t[o])?(c=t[o](),this.isArray(c)&&c.length>1&&(h.push(e.create("point",[t[o]],l)),h[h.length-1]._is_new=!0)):h.push(e.select(t[o])),!this.isPoint(h[o]))return!1;return h},bind:function(e,t){return function(){return e.apply(t,arguments)}},evaluate:function(e){return this.isFunction(e)?e():e},indexOf:function(e,t,r){var i,n=this.exists(r);if(Array.indexOf&&!n)return e.indexOf(t);for(i=0;i<e.length;i++)if(n&&e[i][r]===t||!n&&e[i]===t)return i;return-1},eliminateDuplicates:function(e){var t,r=e.length,i=[],n={};for(t=0;t<r;t++)n[e[t]]=0;for(t in n)n.hasOwnProperty(t)&&i.push(t);return i},swap:function(e,t,r){var i;return i=e[t],e[t]=e[r],e[r]=i,e},uniqueArray:function(t){var r,i,n,o=[];if(0===t.length)return[];for(r=0;r<t.length;r++)if(n=this.isArray(t[r]),this.exists(t[r]))for(i=r+1;i<t.length;i++)n&&e.cmpArrays(t[r],t[i])?t[r]=[]:n||t[r]!==t[i]||(t[r]="");else t[r]="";for(i=0,r=0;r<t.length;r++)(n=this.isArray(t[r]))||""===t[r]?n&&0!==t[r].length&&(o[i]=t[r].slice(0),i++):(o[i]=t[r],i++);return t=o,o},isInArray:function(t,r){return e.indexOf(t,r)>-1},coordsArrayToMatrix:function(e,t){var r,i=[],n=[];for(r=0;r<e.length;r++)t?(i.push(e[r].usrCoords[1]),n.push(e[r].usrCoords[2])):n.push([e[r].usrCoords[1],e[r].usrCoords[2]]);return t&&(n=[i,n]),n},cmpArrays:function(e,t){var r;if(e===t)return!0;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(this.isArray(e[r])&&this.isArray(t[r])){if(!this.cmpArrays(e[r],t[r]))return!1}else if(e[r]!==t[r])return!1;return!0},removeElementFromArray:function(e,t){var r;for(r=0;r<e.length;r++)if(e[r]===t)return e.splice(r,1),e;return e},trunc:function(t,r){return r=e.def(r,0),this.toFixed(t,r)},_decimalAdjust:function(e,t,r){return void 0===r||0==+r?Math[e](t):(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-r:-r)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+r:r))))},_round10:function(e,t){return this._decimalAdjust("round",e,t)},_floor10:function(e,t){return this._decimalAdjust("floor",e,t)},_ceil10:function(e,t){return this._decimalAdjust("ceil",e,t)},toFixed:function(e,t){return this._round10(e,-t).toFixed(t)},autoDigits:function(e){var t=Math.abs(e);return t>.1?this.toFixed(e,2):t>=.01?this.toFixed(e,4):t>=1e-4?this.toFixed(e,6):e},keys:function(e,t){var r,i=[];for(r in e)t?e.hasOwnProperty(r)&&i.push(r):i.push(r);return i},clone:function(e){var t={};return t.prototype=e,t},cloneAndCopy:function(e,t){var r,i=function(){};for(r in i.prototype=e,t)i[r]=t[r];return i},merge:function(e,t){var r,i;for(r in t)if(t.hasOwnProperty(r))if(this.isArray(t[r]))for(e[r]||(e[r]=[]),i=0;i<t[r].length;i++)"object"==typeof t[r][i]?e[r][i]=this.merge(e[r][i],t[r][i]):e[r][i]=t[r][i];else"object"==typeof t[r]?(e[r]||(e[r]={}),e[r]=this.merge(e[r],t[r])):e[r]=t[r];return e},deepCopy:function(e,t,r){var i,n,o,s;if(r=r||!1,"object"!=typeof e||null===e)return e;if(this.isArray(e))for(i=[],n=0;n<e.length;n++)"object"==typeof(o=e[n])?this.exists(o.board)?i[n]=o.id:i[n]=this.deepCopy(o):i[n]=o;else{for(n in i={},e)e.hasOwnProperty(n)&&(s=r?n.toLowerCase():n,null!==(o=e[n])&&"object"==typeof o?this.exists(o.board)?i[s]=o.id:i[s]=this.deepCopy(o):i[s]=o);for(n in t)t.hasOwnProperty(n)&&(s=r?n.toLowerCase():n,"object"==typeof(o=t[n])?this.isArray(o)||!this.exists(i[s])?i[s]=this.deepCopy(o):i[s]=this.deepCopy(i[s],o,r):i[s]=o)}return i},copyAttributes:function(t,r,i){var n,o,s,a,l,c={circle:1,curve:1,image:1,line:1,point:1,polygon:1,text:1,ticks:1,integral:1};for(n=(s=arguments.length)<3||c[i]?e.deepCopy(r.elements,null,!0):{},s<4&&this.exists(i)&&this.exists(r.layer[i])&&(n.layer=r.layer[i]),a=r,l=!0,o=2;o<s;o++){if(!this.exists(a[arguments[o]])){l=!1;break}a=a[arguments[o]]}for(l&&(n=e.deepCopy(n,a,!0)),a=t,l=!0,o=3;o<s;o++){if(!this.exists(a[arguments[o]])){l=!1;break}a=a[arguments[o]]}if(l&&this.extend(n,a,null,!0),"board"===arguments[2])return n;for(a=r,l=!0,o=2;o<s;o++){if(!this.exists(a[arguments[o]])){l=!1;break}a=a[arguments[o]]}return l&&this.exists(a.label)&&(n.label=e.deepCopy(a.label,n.label)),n.label=e.deepCopy(r.label,n.label),n},copyPrototypeMethods:function(e,t,r){var i;for(i in e.prototype[r]=t.prototype.constructor,t.prototype)t.prototype.hasOwnProperty(i)&&(e.prototype[i]=t.prototype[i])},toJSON:function(t,r){var i,n,o,s;if(r=e.def(r,!1),JSON.stringify&&!r)try{return JSON.stringify(t)}catch(e){}switch(typeof t){case"object":if(t){if(i=[],this.isArray(t)){for(o=0;o<t.length;o++)i.push(e.toJSON(t[o],r));return"["+i.join(",")+"]"}for(n in t)if(t.hasOwnProperty(n)){try{s=e.toJSON(t[n],r)}catch(e){s=""}r?i.push(n+":"+s):i.push('"'+n+'":'+s)}return"{"+i.join(",")+"} "}return"null";case"string":return"'"+t.replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return t.toString()}return"0"},clearVisPropOld:function(e){return e.visPropOld={cssclass:"",cssdefaultstyle:"",cssstyle:"",fillcolor:"",fillopacity:"",firstarrow:!1,fontsize:-1,lastarrow:!1,left:-1e5,linecap:"",shadow:!1,strokecolor:"",strokeopacity:"",strokewidth:"",tabindex:-1e5,transitionduration:0,top:-1e5,visible:null},e},isInObject:function(e,t){var r;for(r in e)if(e.hasOwnProperty(r)&&e[r]===t)return!0;return!1},escapeHTML:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},unescapeHTML:function(e){return e.replace(/<\/?[^>]+>/gi,"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},capitalize:function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},trimNumber:function(e){return"."!==(e=(e=e.replace(/^0+/,"")).replace(/0+$/,""))[e.length-1]&&","!==e[e.length-1]||(e=e.slice(0,-1)),"."!==e[0]&&","!==e[0]||(e="0"+e),e},filterElements:function(e,t){var r,i,n,o,s,a,l,c=e.length,u=[];if("function"!=typeof t&&"object"!=typeof t)return u;for(r=0;r<c;r++){if(l=!0,n=e[r],"object"==typeof t){for(i in t)if(t.hasOwnProperty(i)&&(o=i.toLowerCase(),s="function"==typeof n[i]?n[i]():n[i],a=n.visProp&&"function"==typeof n.visProp[o]?n.visProp[o]():n.visProp&&n.visProp[o],!(l="function"==typeof t[i]?t[i](s)||t[i](a):s===t[i]||a===t[i])))break}else"function"==typeof t&&(l=t(n));l&&u.push(n)}return u},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},sanitizeHTML:function(e,t){return"function"==typeof html_sanitize&&t?html_sanitize(e,(function(){}),(function(e){return e})):(e&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")),e)},evalSlider:function(e){return e&&e.type===t.OBJECT_TYPE_GLIDER&&"function"==typeof e.Value?e.Value():e}}),e})),define("utils/env",["jxg","utils/type"],(function(e,t){"use strict";return e.extendConstants(e,{touchProperty:"touches"}),e.extend(e,{isTouchEvent:function(t){return e.exists(t[e.touchProperty])},isPointerEvent:function(t){return e.exists(t.pointerId)},isMouseEvent:function(t){return!e.isTouchEvent(t)&&!e.isPointerEvent(t)},getNumberOfTouchPoints:function(t){var r=-1;return e.isTouchEvent(t)&&(r=t[e.touchProperty].length),r},isFirstTouch:function(t){var r=e.getNumberOfTouchPoints(t);return e.isPointerEvent(t)?t.isPrimary:1===r},isBrowser:"object"==typeof window&&"object"==typeof document,supportsES6:function(){try{return new Function("(a = 0) => a"),!0}catch(e){return!1}},supportsVML:function(){return this.isBrowser&&!!document.namespaces},supportsSVG:function(){return this.isBrowser&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")},supportsCanvas:function(){var e=!1;if(this.isNode())try{e=!!__webpack_require__(Object(function(){var e=new Error("Cannot find module 'canvas'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}return e||this.isBrowser&&!!document.createElement("canvas").getContext},isNode:function(){return!this.isBrowser&&(!!module.exports||"object"==typeof __webpack_require__.g&&__webpack_require__.g.requirejsVars&&!__webpack_require__.g.requirejsVars.isBrowser)},isWebWorker:function(){return!this.isBrowser&&"object"==typeof self&&"function"==typeof self.postMessage},supportsPointerEvents:function(){return!!(this.isBrowser&&window.navigator&&(window.PointerEvent||window.navigator.pointerEnabled||window.navigator.msPointerEnabled))},isTouchDevice:function(){return this.isBrowser&&void 0!==window.ontouchstart},isAndroid:function(){return t.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("android")>-1},isWebkitAndroid:function(){return this.isAndroid()&&navigator.userAgent.indexOf(" AppleWebKit/")>-1},isApple:function(){return t.exists(navigator)&&(navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1)},isWebkitApple:function(){return this.isApple()&&navigator.userAgent.search(/Mobile\/[0-9A-Za-z.]*Safari/)>-1},isMetroApp:function(){return"object"==typeof window&&window.clientInformation&&window.clientInformation.appVersion&&window.clientInformation.appVersion.indexOf("MSAppHost")>-1},isMozilla:function(){return t.exists(navigator)&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("apple")},isFirefoxOS:function(){return t.exists(navigator)&&-1===navigator.userAgent.toLowerCase().indexOf("android")&&-1===navigator.userAgent.toLowerCase().indexOf("apple")&&navigator.userAgent.toLowerCase().indexOf("mobile")>-1&&navigator.userAgent.toLowerCase().indexOf("mozilla")>-1},ieVersion:function(){var e,t,r=3;if("object"!=typeof document)return 0;t=(e=document.createElement("div")).getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++r+"]><i></i><![endif]--\x3e"}while(t[0]);return r>4?r:void 0}(),getDimensions:function(e,r){var i,n,o,s,a,l,c,u,h,d=/\d+(\.\d*)?px/;if(!this.isBrowser||null===e)return{width:500,height:500};if(i=(r=r||document).getElementById(e),!t.exists(i))throw new Error("\nJSXGraph: HTML container element '"+e+"' not found.");return"none"!==(n=i.style.display)&&null!==n?i.clientWidth>0&&i.clientHeight>0?{width:i.clientWidth,height:i.clientHeight}:(h=window.getComputedStyle?window.getComputedStyle(i):i.style,{width:d.test(h.width)?parseFloat(h.width):0,height:d.test(h.height)?parseFloat(h.height):0}):(s=(o=i.style).visibility,a=o.position,l=o.display,o.visibility="hidden",o.position="absolute",o.display="block",c=i.clientWidth,u=i.clientHeight,o.display=l,o.position=a,o.visibility=s,{width:c,height:u})},addEvent:function(e,r,i,n){var o=function(){return i.apply(n,arguments)};o.origin=i,n["x_internal"+r]=n["x_internal"+r]||[],n["x_internal"+r].push(o),t.exists(e)&&t.exists(e.addEventListener)&&e.addEventListener(r,o,!1),t.exists(e)&&t.exists(e.attachEvent)&&e.attachEvent("on"+r,o)},removeEvent:function(r,i,n,o){var s;if(t.exists(o))if(t.exists(o["x_internal"+i]))if(t.isArray(o["x_internal"+i]))if(-1!==(s=t.indexOf(o["x_internal"+i],n,"origin"))){try{t.exists(r)&&t.exists(r.removeEventListener)&&r.removeEventListener(i,o["x_internal"+i][s],!1),t.exists(r)&&t.exists(r.detachEvent)&&r.detachEvent("on"+i,o["x_internal"+i][s])}catch(t){e.debug("event not registered in browser: ("+i+" -- "+n+")")}o["x_internal"+i].splice(s,1)}else e.debug("removeEvent: no such event function in internal list: "+n);else e.debug("owner[x_internal + "+i+"] is not an array");else e.debug("no such type: "+i);else e.debug("no such owner")},removeAllEvents:function(t,r,i){var n;if(i["x_internal"+r]){for(n=i["x_internal"+r].length-1;n>=0;n--)e.removeEvent(t,r,i["x_internal"+r][n].origin,i);i["x_internal"+r].length>0&&e.debug("removeAllEvents: Not all events could be removed.")}},getPosition:function(r,i,n){var o,s,a,l=0,c=0;if(r||(r=window.event),n=n||document,a=r[e.touchProperty],t.exists(a)&&0===a.length&&(a=r.changedTouches),t.exists(i)&&t.exists(a))if(-1===i){for(s=a.length,o=0;o<s;o++)if(a[o]){r=a[o];break}}else r=a[i];return r.clientX&&(l=r.clientX,c=r.clientY),[l,c]},getOffset:function(e){var t,r=e,i=e,n=r.offsetLeft-r.scrollLeft,o=r.offsetTop-r.scrollTop;for(n=(t=this.getCSSTransform([n,o],r))[0],o=t[1],r=r.offsetParent;r;){for(n+=r.offsetLeft,o+=r.offsetTop,r.offsetParent&&(n+=r.clientLeft-r.scrollLeft,o+=r.clientTop-r.scrollTop),n=(t=this.getCSSTransform([n,o],r))[0],o=t[1],i=i.parentNode;i!==r;)n+=i.clientLeft-i.scrollLeft,o+=i.clientTop-i.scrollTop,n=(t=this.getCSSTransform([n,o],i))[0],o=t[1],i=i.parentNode;r=r.offsetParent}return[n,o]},getStyle:function(t,r){var i,n=t.ownerDocument;return n.defaultView&&n.defaultView.getComputedStyle?i=n.defaultView.getComputedStyle(t,null).getPropertyValue(r):t.currentStyle&&e.ieVersion>=9?i=t.currentStyle[r]:t.style&&(r=r.replace(/-([a-z]|[0-9])/gi,(function(e,t){return t.toUpperCase()})),i=t.style[r]),i},getProp:function(e,t){var r=parseInt(this.getStyle(e,t),10);return isNaN(r)?0:r},getCSSTransform:function(e,r){var i,n,o,s,a,l,c,u=["transform","webkitTransform","MozTransform","msTransform","oTransform"];for(a=u.length,i=0,o="";i<a;i++)if(t.exists(r.style[u[i]])){o=r.style[u[i]];break}if(""!==o&&(s=o.indexOf("("))>0){for(a=o.length,n=0,l=(c=o.substring(s+1,a-1).split(",")).length;n<l;n++)c[n]=parseFloat(c[n]);0===o.indexOf("matrix")?(e[0]+=c[4],e[1]+=c[5]):0===o.indexOf("translateX")?e[0]+=c[0]:0===o.indexOf("translateY")?e[1]+=c[0]:0===o.indexOf("translate")&&(e[0]+=c[0],e[1]+=c[1])}return t.exists(r.style.zoom)&&""!==(o=r.style.zoom)&&(e[0]*=parseFloat(o),e[1]*=parseFloat(o)),e},getCSSTransformMatrix:function(e){var r,i,n,o,s,a,l,c,u=e.ownerDocument,h=["transform","webkitTransform","MozTransform","msTransform","oTransform"],d=[[1,0,0],[0,1,0],[0,0,1]];if(u.defaultView&&u.defaultView.getComputedStyle)n=(c=u.defaultView.getComputedStyle(e,null)).getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");else for(s=h.length,r=0,n="";r<s;r++)if(t.exists(e.style[h[r]])){n=e.style[h[r]];break}if(""!==n&&(o=n.indexOf("("))>0){for(s=n.length,i=0,a=(l=n.substring(o+1,s-1).split(",")).length;i<a;i++)l[i]=parseFloat(l[i]);0===n.indexOf("matrix")?d=[[1,0,0],[0,l[0],l[1]],[0,l[2],l[3]]]:0===n.indexOf("scaleX")?d[1][1]=l[0]:0===n.indexOf("scaleY")?d[2][2]=l[0]:0===n.indexOf("scale")&&(d[1][1]=l[0],d[2][2]=l[1])}return t.exists(e.style.zoom)&&""!==(n=e.style.zoom)&&(d[1][1]*=parseFloat(n),d[2][2]*=parseFloat(n)),d},timedChunk:function(e,t,r,i){var n=e.concat();window.setTimeout((function o(){var s=+new Date;do{t.call(r,n.shift())}while(n.length>0&&+new Date-s<300);n.length>0?window.setTimeout(o,1):i(e)}),1)},_getScaleFactors:function(e){var t=e.getBoundingClientRect().width,r=e.getBoundingClientRect().height,i=window.screen.width/t,n=window.screen.height/r,o=.5*(window.screen.height-r),s=Math.min(i,n);return window.matchMedia&&window.matchMedia("(orientation:landscape)").matches&&window.screen.width<window.screen.height&&(i=window.screen.height/t,n=window.screen.width/r,s=Math.min(i,n),o=.5*(window.screen.width-r)),{scale:s*=.85,vshift:o,width:t}},scaleJSXGraphDiv:function(e,t,r,i){var n,o,s=document.styleSheets.length,a=[":fullscreen",":-webkit-full-screen",":-moz-full-screen",":-ms-fullscreen"],l=a.length,c="{margin:0 auto;transform:matrix("+r+",0,0,"+r+",0,"+i+");}",u=new RegExp(".*#"+e+":.*full.*screen.*#"+t+".*auto;.*transform:.*matrix");for(0===s&&((n=document.createElement("style")).appendChild(document.createTextNode("")),document.body.appendChild(n),s=document.styleSheets.length),document.styleSheets[s-1].cssRules.length>0&&u.test(document.styleSheets[s-1].cssRules[0].cssText)&&document.styleSheets[s-1].deleteRule&&document.styleSheets[s-1].deleteRule(0),o=0;o<l;o++)try{document.styleSheets[s-1].insertRule("#"+e+a[o]+" #"+t+c,0);break}catch(e){}o===l&&(console.log("JXG.scaleJSXGraphDiv: Could not add any CSS rule."),console.log("One possible reason could be that the id of the JSXGraph container does not start with a letter."))}}),e})),define("utils/xml",["jxg","utils/type"],(function(e,t){"use strict";return e.XML={cleanWhitespace:function(e){for(var r=e.firstChild;t.exists(r);)3!==r.nodeType||/\S/.test(r.nodeValue)?1===r.nodeType&&this.cleanWhitespace(r):e.removeChild(r),r=r.nextSibling},parse:function(e){var t,r;return r="function"==typeof DOMParser||"object"==typeof DOMParser?DOMParser:function(){this.parseFromString=function(e){var t;return"function"==typeof ActiveXObject&&(t=new ActiveXObject("MSXML.DomDocument")).loadXML(e),t}},t=(new r).parseFromString(e,"text/xml"),this.cleanWhitespace(t),t}},e.XML})),define("utils/event",["jxg","utils/type"],(function(e,t){"use strict";return e.EventEmitter={eventHandlers:{},suspended:{},trigger:function(e,t){var r,i,n,o,s,a;for(s=e.length,i=0;i<s;i++)if(o=this.eventHandlers[e[i]],!this.suspended[e[i]]){if(this.suspended[e[i]]=!0,o)for(a=o.length,r=0;r<a;r++)(n=o[r]).handler.apply(n.context,t);this.suspended[e[i]]=!1}return this},on:function(e,r,i){return t.isArray(this.eventHandlers[e])||(this.eventHandlers[e]=[]),i=t.def(i,this),this.eventHandlers[e].push({handler:r,context:i}),this},off:function(e,r){var i;return e&&t.isArray(this.eventHandlers[e])?(r?((i=t.indexOf(this.eventHandlers[e],r,"handler"))>-1&&this.eventHandlers[e].splice(i,1),0===this.eventHandlers[e].length&&delete this.eventHandlers[e]):delete this.eventHandlers[e],this):this},eventify:function(e){e.eventHandlers={},e.on=this.on,e.off=this.off,e.triggerEventHandlers=this.trigger,e.trigger=this.trigger,e.suspended={}}},e.EventEmitter})),define("math/math",["jxg","utils/type"],(function(e,t){"use strict";var r,i=function(e){var t,i;return e.memo||(t={},i=Array.prototype.join,e.memo=function(){var n=i.call(arguments);return t[n]!==r?t[n]:t[n]=e.apply(this,arguments)}),e.memo};return e.Math={eps:1e-6,relDif:function(e,t){var r=Math.abs(e),i=Math.abs(t);return 0===(i=Math.max(r,i))?0:Math.abs(e-t)/i},mod:function(e,t){return e-Math.floor(e/t)*t},vector:function(e,t){var r,i;for(t=t||0,r=[],i=0;i<e;i++)r[i]=t;return r},matrix:function(e,t,r){var i,n,o;for(r=r||0,t=t||e,i=[],n=0;n<e;n++)for(i[n]=[],o=0;o<t;o++)i[n][o]=r;return i},identity:function(e,t){var i,n;for(t===r&&"number"!=typeof t&&(t=e),i=this.matrix(e,t),n=0;n<Math.min(e,t);n++)i[n][n]=1;return i},frustum:function(e,t,r,i,n,o){var s=this.matrix(4,4);return s[0][0]=2*n/(t-e),s[0][1]=0,s[0][2]=(t+e)/(t-e),s[0][3]=0,s[1][0]=0,s[1][1]=2*n/(i-r),s[1][2]=(i+r)/(i-r),s[1][3]=0,s[2][0]=0,s[2][1]=0,s[2][2]=-(o+n)/(o-n),s[2][3]=-o*n*2/(o-n),s[3][0]=0,s[3][1]=0,s[3][2]=-1,s[3][3]=0,s},projection:function(e,t,r,i){var n=r*Math.tan(e/2),o=n*t;return this.frustum(-o,o,-n,n,r,i)},matVecMult:function(e,t){var r,i,n,o=e.length,s=t.length,a=[];if(3===s)for(r=0;r<o;r++)a[r]=e[r][0]*t[0]+e[r][1]*t[1]+e[r][2]*t[2];else for(r=0;r<o;r++){for(i=0,n=0;n<s;n++)i+=e[r][n]*t[n];a[r]=i}return a},matMatMult:function(e,t){var r,i,n,o,s=e.length,a=s>0?t[0].length:0,l=t.length,c=this.matrix(s,a);for(r=0;r<s;r++)for(i=0;i<a;i++){for(n=0,o=0;o<l;o++)n+=e[r][o]*t[o][i];c[r][i]=n}return c},transpose:function(e){var t,r,i,n,o;for(n=e.length,o=e.length>0?e[0].length:0,t=this.matrix(o,n),r=0;r<o;r++)for(i=0;i<n;i++)t[r][i]=e[i][r];return t},inverse:function(e){var t,r,i,n,o,s,a,l=e.length,c=[],u=[],h=[];for(t=0;t<l;t++){for(c[t]=[],r=0;r<l;r++)c[t][r]=e[t][r];u[t]=t}for(r=0;r<l;r++){for(o=Math.abs(c[r][r]),s=r,t=r+1;t<l;t++)Math.abs(c[t][r])>o&&(o=Math.abs(c[t][r]),s=t);if(o<=this.eps)return[];if(s>r){for(i=0;i<l;i++)a=c[r][i],c[r][i]=c[s][i],c[s][i]=a;a=u[r],u[r]=u[s],u[s]=a}for(n=1/c[r][r],t=0;t<l;t++)c[t][r]*=n;for(c[r][r]=n,i=0;i<l;i++)if(i!==r){for(t=0;t<l;t++)t!==r&&(c[t][i]-=c[t][r]*c[r][i]);c[r][i]=-n*c[r][i]}}for(t=0;t<l;t++){for(i=0;i<l;i++)h[u[i]]=c[t][i];for(i=0;i<l;i++)c[t][i]=h[i]}return c},innerProduct:function(e,i,n){var o,s=0;for(n!==r&&t.isNumber(n)||(n=e.length),o=0;o<n;o++)s+=e[o]*i[o];return s},crossProduct:function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},norm:function(e,i){var n,o=0;for(i!==r&&t.isNumber(i)||(i=e.length),n=0;n<i;n++)o+=e[n]*e[n];return Math.sqrt(o)},factorial:i((function(e){return e<0?NaN:0===(e=Math.floor(e))||1===e?1:e*this.factorial(e-1)})),binomial:i((function(e,t){var r,i;if(t>e||t<0)return NaN;if(t=Math.round(t),e=Math.round(e),0===t||t===e)return 1;for(r=1,i=0;i<t;i++)r*=e-i,r/=i+1;return r})),cosh:Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},sinh:Math.sinh||function(e){return.5*(Math.exp(e)-Math.exp(-e))},acosh:Math.acosh||function(e){return Math.log(e+Math.sqrt(e*e-1))},asinh:Math.asinh||function(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))},cot:function(e){return 1/Math.tan(e)},acot:function(e){return(e>=0?.5:-.5)*Math.PI-Math.atan(e)},nthroot:function(e,t){var r=1/t;return t<=0||Math.floor(t)!==t?NaN:0===e?0:e>0?Math.exp(r*Math.log(e)):t%2==1?-Math.exp(r*Math.log(-e)):NaN},cbrt:Math.cbrt||function(e){return this.nthroot(e,3)},pow:function(e,t){return 0===e?0===t?1:0:Math.floor(t)===t?Math.pow(e,t):e>0?Math.exp(t*Math.log(e)):NaN},ratpow:function(e,t,r){var i;return 0===t?1:0===r?NaN:(i=this.gcd(t,r),this.nthroot(this.pow(e,t/i),r/i))},log10:function(e){return Math.log(e)/Math.log(10)},log2:function(e){return Math.log(e)/Math.log(2)},log:function(e,r){return void 0!==r&&t.isNumber(r)?Math.log(e)/Math.log(r):Math.log(e)},sign:Math.sign||function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},squampow:function(e,t){var r;if(Math.floor(t)===t){for(r=1,t<0&&(e=1/e,t*=-1);0!==t;)1&t&&(r*=e),t>>=1,e*=e;return r}return this.pow(e,t)},gcd:function(e,r){if(e=Math.abs(e),r=Math.abs(r),!t.isNumber(e)||!t.isNumber(r))return NaN;if(r>e){var i=e;e=r,r=i}for(;;){if(0===(e%=r))return r;if(0===(r%=e))return e}},lcm:function(e,r){var i;return t.isNumber(e)&&t.isNumber(r)?0!==(i=e*r)?i/this.gcd(e,r):0:NaN},erf:function(e){return this.ProbFuncs.erf(e)},erfc:function(e){return this.ProbFuncs.erfc(e)},erfi:function(e){return this.ProbFuncs.erfi(e)},ndtr:function(e){return this.ProbFuncs.ndtr(e)},ndtri:function(e){return this.ProbFuncs.ndtri(e)},lt:function(e,t){return e<t},leq:function(e,t){return e<=t},gt:function(e,t){return e>t},geq:function(e,t){return e>=t},eq:function(e,t){return e===t},neq:function(e,t){return e!==t},and:function(e,t){return e&&t},not:function(e){return!e},or:function(e,t){return e||t},xor:function(e,t){return(e||t)&&!(e&&t)},normalize:function(e){var t,r,i=2*e[3],n=e[4]/i;return e[5]=n,e[6]=-e[1]/i,e[7]=-e[2]/i,isFinite(n)?Math.abs(n)>=1?(e[0]=(e[6]*e[6]+e[7]*e[7]-n*n)/(2*n),e[1]=-e[6]/n,e[2]=-e[7]/n,e[3]=1/(2*n),e[4]=1):(r=n<=0?-1:1,e[0]=r*(e[6]*e[6]+e[7]*e[7]-n*n)*.5,e[1]=-r*e[6],e[2]=-r*e[7],e[3]=r/2,e[4]=r*n):(t=Math.sqrt(e[1]*e[1]+e[2]*e[2]),e[0]/=t,e[1]/=t,e[2]/=t,e[3]=0,e[4]=1),e},toGL:function(e){var t,r,i;if(t="function"==typeof Float32Array?new Float32Array(16):new Array(16),4!==e.length&&4!==e[0].length)return t;for(r=0;r<4;r++)for(i=0;i<4;i++)t[r+4*i]=e[r][i];return t},Vieta:function(e){var t,r,i,n=e.length,o=[];for(o=e.slice(),t=1;t<n;++t){for(i=o[t],o[t]*=o[t-1],r=t-1;r>=1;--r)o[r]+=o[r-1]*i;o[0]+=i}return o}},e.Math})),define("base/coords",["jxg","base/constants","utils/event","utils/type","math/math"],(function(e,t,r,i,n){"use strict";return e.Coords=function(e,t,n,o){this.board=n,this.usrCoords=[],this.scrCoords=[],this.emitter=!i.exists(o)||o,this.emitter&&r.eventify(this),this.setCoordinates(e,t,!1,!0)},e.extend(e.Coords.prototype,{normalizeUsrCoords:function(){Math.abs(this.usrCoords[0])>n.eps&&(this.usrCoords[1]/=this.usrCoords[0],this.usrCoords[2]/=this.usrCoords[0],this.usrCoords[0]=1)},usr2screen:function(e){var t=Math.round,r=this.board,i=this.usrCoords,n=r.origin.scrCoords;!0===e?(this.scrCoords[0]=t(i[0]),this.scrCoords[1]=t(i[0]*n[1]+i[1]*r.unitX),this.scrCoords[2]=t(i[0]*n[2]-i[2]*r.unitY)):(this.scrCoords[0]=i[0],this.scrCoords[1]=i[0]*n[1]+i[1]*r.unitX,this.scrCoords[2]=i[0]*n[2]-i[2]*r.unitY)},screen2usr:function(){var e=this.board.origin.scrCoords,t=this.scrCoords,r=this.board;this.usrCoords[0]=1,this.usrCoords[1]=(t[1]-e[1])/r.unitX,this.usrCoords[2]=(e[2]-t[2])/r.unitY},distance:function(e,r){var i,o,s=0,a=this.usrCoords,l=this.scrCoords;if(e===t.COORDS_BY_USER){if(i=r.usrCoords,(s=(o=a[0]-i[0])*o)>n.eps*n.eps)return Number.POSITIVE_INFINITY;s+=(o=a[1]-i[1])*o,s+=(o=a[2]-i[2])*o}else i=r.scrCoords,s+=(o=l[1]-i[1])*o,s+=(o=l[2]-i[2])*o;return Math.sqrt(s)},setCoordinates:function(e,r,i,n){var o=this.usrCoords,s=this.scrCoords,a=[o[0],o[1],o[2]],l=[s[0],s[1],s[2]];return e===t.COORDS_BY_USER?(2===r.length?(o[0]=1,o[1]=r[0],o[2]=r[1]):(o[0]=r[0],o[1]=r[1],o[2]=r[2],this.normalizeUsrCoords()),this.usr2screen(i)):(2===r.length?(s[1]=r[0],s[2]=r[1]):(s[1]=r[1],s[2]=r[2]),this.screen2usr()),!this.emitter||n||l[1]===s[1]&&l[2]===s[2]||this.triggerEventHandlers(["update"],[a,l]),this},copy:function(e,t){return void 0===t&&(t=0),this[e].slice(t)},isReal:function(){return!isNaN(this.usrCoords[1]+this.usrCoords[2])&&Math.abs(this.usrCoords[0])>n.eps},__evt__update:function(e,t){},__evt:function(){}}),e.Coords})),define("utils/expect",["jxg","utils/type","base/constants","base/coords"],(function(e,t,r,i){"use strict";var n={each:function(e,r,i){var n,o,s=[];if(t.exists(e.length))for(o=e.length,n=0;n<o;n++)s.push(r.call(this,e[n],i));return s},coords:function(e,t){var n=e;return e&&e.elementClass===r.OBJECT_CLASS_POINT?n=e.coords:e.usrCoords&&e.scrCoords&&e.usr2screen&&(n=e),t&&(n=new i(r.COORDS_BY_USER,n.usrCoords,n.board)),n},coordsArray:function(e,r){var i;return(i=t.isArray(e)?e:this.coords(e).usrCoords).length<3&&i.unshift(1),r&&(i=[i[0],i[1],i[2]]),i}};return e.Expect=n,n})),define("math/probfuncs",["math/math","utils/type"],(function(e,t){"use strict";return e.ProbFuncs={MAXNUM:17014118346046923e22,SQRTH:.7071067811865476,SQRT2:1.4142135623730951,MAXLOG:708.3964185322641,P:[2.461969814735305e-10,.5641895648310689,7.463210564422699,48.63719709856814,196.5208329560771,526.4451949954773,934.5285271719576,1027.5518868951572,557.5353353693994],Q:[13.228195115474499,86.70721408859897,354.9377788878199,975.7085017432055,1823.9091668790973,2246.3376081871097,1656.6630919416134,557.5353408177277],R:[.5641895835477551,1.275366707599781,5.019050422511805,6.160210979930536,7.4097426995044895,2.9788666537210022],S:[2.2605286322011726,9.396035249380015,12.048953980809666,17.08144507475659,9.608968090632859,3.369076451000815],T:[9.604973739870516,90.02601972038427,2232.005345946843,7003.325141128051,55592.30130103949],U:[33.56171416475031,521.3579497801527,4594.323829709801,22629.000061389095,49267.39426086359],M:128,MINV:.0078125,expx2:function(e,t){var r,i,n,o;return e=Math.abs(e),t<0&&(e=-e),r=(n=this.MINV*Math.floor(this.M*e+.5))*n,i=2*n*(o=e-n)+o*o,t<0&&(r=-r,i=-i),r+i>this.MAXLOG?1/0:r=Math.exp(r)*Math.exp(i)},polevl:function(e,r,i){var n,o;if(t.exists(r.reduce))return r.reduce((function(t,r){return t*e+r}),0);for(o=0,n=0;o<=i;o++)n=n*e+r[o];return n},p1evl:function(e,r,i){var n,o;if(t.exists(r.reduce))return r.reduce((function(t,r){return t*e+r}),1);for(o=0,n=1;o<i;o++)n=n*e+r[o];return n},ndtr:function(e){var t,r,i;return t=e*this.SQRTH,(i=Math.abs(t))<1?r=.5+.5*this.erf(t):(r=.5*this.erfce(i),i=this.expx2(e,-1),r*=Math.sqrt(i),t>0&&(r=1-r)),r},_underflow:function(e){return console.log("erfc","UNDERFLOW"),e<0?2:0},erfc:function(e){var t,r,i,n,o;return(i=e<0?-e:e)<1?1-this.erf(e):(o=-e*e)<-this.MAXLOG?this._underflow(e):(o=this.expx2(e,-1),i<8?(t=this.polevl(i,this.P,8),r=this.p1evl(i,this.Q,8)):(t=this.polevl(i,this.R,5),r=this.p1evl(i,this.S,6)),n=o*t/r,e<0&&(n=2-n),0===n?this._underflow(e):n)},erfce:function(e){var t,r;return e<8?(t=this.polevl(e,this.P,8),r=this.p1evl(e,this.Q,8)):(t=this.polevl(e,this.R,5),r=this.p1evl(e,this.S,6)),t/r},erf:function(e){var t;return Math.abs(e)>1?1-this.erfc(e):(t=e*e,e*this.polevl(t,this.T,4)/this.p1evl(t,this.U,5))},s2pi:2.5066282746310007,P0:[-59.96335010141079,98.00107541859997,-56.67628574690703,13.931260938727968,-1.2391658386738125],Q0:[1.9544885833814176,4.676279128988815,86.36024213908905,-225.46268785411937,200.26021238006066,-82.03722561683334,15.90562251262117,-1.1833162112133],P1:[4.0554489230596245,31.525109459989388,57.16281922464213,44.08050738932008,14.684956192885803,2.1866330685079025,-.1402560791713545,-.03504246268278482,-.0008574567851546854],Q1:[15.779988325646675,45.39076351288792,41.3172038254672,15.04253856929075,2.504649462083094,-.14218292285478779,-.03808064076915783,-.0009332594808954574],P2:[3.2377489177694603,6.915228890689842,3.9388102529247444,1.3330346081580755,.20148538954917908,.012371663481782003,.00030158155350823543,26580697468673755e-22,6.239745391849833e-9],Q2:[6.02427039364742,3.6798356385616087,1.3770209948908132,.21623699359449663,.013420400608854318,.00032801446468212774,28924786474538068e-22,6.790194080099813e-9],ndtri:function(e){var t,r,i,n,o;return e<=0?-1/0:e>=1?1/0:(o=1,(r=e)>.8646647167633873&&(r=1-r,o=0),r>.1353352832366127?(t=(r-=.5)+r*((n=r*r)*this.polevl(n,this.P0,4)/this.p1evl(n,this.Q0,8)),t*=this.s2pi):(i=1/(t=Math.sqrt(-2*Math.log(r))),t=t-Math.log(t)/t-(t<8?i*this.polevl(i,this.P1,8)/this.p1evl(i,this.Q1,8):i*this.polevl(i,this.P2,8)/this.p1evl(i,this.Q2,8)),0!==o&&(t=-t),t))},erfi:function(e){return this.ndtri(.5*(e+1))*this.SQRTH}},e.ProbFuncs})),define("math/ia",["jxg","math/math","utils/type"],(function(e,t,r){"use strict";e.Math.DoubleBits=function(){var e,t,r,i,n,o,s,a,l=new Float64Array(1),c=new Uint32Array(l.buffer);void 0!==Float64Array&&(l[0]=1,1072693248===c[1]?(e=function(e){return l[0]=e,[c[0],c[1]]},t=function(e,t){return c[0]=e,c[1]=t,l[0]},r=function(e){return l[0]=e,c[0]},i=function(e){return l[0]=e,c[1]},this.doubleBits=e,this.pack=t,this.lo=r,this.hi=i):1072693248===c[0]&&(n=function(e){return l[0]=e,[c[1],c[0]]},o=function(e,t){return c[1]=e,c[0]=t,l[0]},s=function(e){return l[0]=e,c[1]},a=function(e){return l[0]=e,c[0]},this.doubleBits=n,this.pack=o,this.lo=s,this.hi=a))},e.extend(e.Math.DoubleBits.prototype,{sign:function(e){return this.hi(e)>>>31},exponent:function(e){return(this.hi(e)<<1>>>21)-1023},fraction:function(e){var t=this.lo(e),r=this.hi(e),i=1048575&r;return 2146435072&r&&(i+=1<<20),[t,i]},denormalized:function(e){return!(2146435072&this.hi(e))}});var i=new e.Math.DoubleBits,n=function e(r,i){if(void 0!==r&&void 0!==i){if(t.IntervalArithmetic.isInterval(r)){if(!t.IntervalArithmetic.isSingleton(r))throw new TypeError("JXG.Math.IntervalArithmetic: interval `lo` must be a singleton");this.lo=r.lo}else this.lo=r;if(t.IntervalArithmetic.isInterval(i)){if(!t.IntervalArithmetic.isSingleton(i))throw new TypeError("JXG.Math.IntervalArithmetic: interval `hi` must be a singleton");this.hi=i.hi}else this.hi=i}else{if(void 0!==r)return Array.isArray(r)?new e(r[0],r[1]):new e(r,r);this.lo=this.hi=0}};return e.extend(n.prototype,{print:function(){console.log("[",this.lo,this.hi,"]")},set:function(e,t){return this.lo=e,this.hi=t,this},bounded:function(e,r){return this.set(t.IntervalArithmetic.prev(e),t.IntervalArithmetic.next(r))},boundedSingleton:function(e){return this.bounded(e,e)},assign:function(e,t){if("number"!=typeof e||"number"!=typeof t)throw new TypeError("JXG.Math.Interval#assign: arguments must be numbers");return isNaN(e)||isNaN(t)||e>t?this.setEmpty():this.set(e,t)},setEmpty:function(){return this.set(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},setWhole:function(){return this.set(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)},open:function(e,r){return this.assign(t.IntervalArithmetic.next(e),t.IntervalArithmetic.prev(r))},halfOpenLeft:function(e,r){return this.assign(t.IntervalArithmetic.next(e),r)},halfOpenRight:function(e,r){return this.assign(e,t.IntervalArithmetic.prev(r))},toArray:function(){return[this.lo,this.hi]},clone:function(){return(new n).set(this.lo,this.hi)}}),e.Math.IntervalArithmetic={Interval:function(e,t){return new n(e,t)},isInterval:function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.lo&&"number"==typeof e.hi},isSingleton:function(e){return e.lo===e.hi},add:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),new n(this.addLo(e.lo,t.lo),this.addHi(e.hi,t.hi))},sub:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),new n(this.subLo(e.lo,t.hi),this.subHi(e.hi,t.lo))},mul:function(e,t){var i,o,s,a,l;return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(e)||this.isEmpty(t)?this.EMPTY.clone():(i=e.lo,o=e.hi,s=t.lo,a=t.hi,l=new n,i<0?o>0?s<0?a>0?(l.lo=Math.min(this.mulLo(i,a),this.mulLo(o,s)),l.hi=Math.max(this.mulHi(i,s),this.mulHi(o,a))):(l.lo=this.mulLo(o,s),l.hi=this.mulHi(i,s)):a>0?(l.lo=this.mulLo(i,a),l.hi=this.mulHi(o,a)):(l.lo=0,l.hi=0):s<0?a>0?(l.lo=this.mulLo(i,a),l.hi=this.mulHi(i,s)):(l.lo=this.mulLo(o,a),l.hi=this.mulHi(i,s)):a>0?(l.lo=this.mulLo(i,a),l.hi=this.mulHi(o,s)):(l.lo=0,l.hi=0):o>0?s<0?a>0?(l.lo=this.mulLo(o,s),l.hi=this.mulHi(o,a)):(l.lo=this.mulLo(o,s),l.hi=this.mulHi(i,a)):a>0?(l.lo=this.mulLo(i,s),l.hi=this.mulHi(o,a)):(l.lo=0,l.hi=0):(l.lo=0,l.hi=0),l)},div:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(e)||this.isEmpty(t)?this.EMPTY.clone():this.zeroIn(t)?0!==t.lo?0!==t.hi?this.divZero(e):this.divNegative(e,t.lo):0!==t.hi?this.divPositive(e,t.hi):this.EMPTY.clone():this.divNonZero(e,t)},positive:function(e){return new n(e.lo,e.hi)},negative:function(e){return r.isNumber(e)?new n(-e):new n(-e.hi,-e.lo)},isEmpty:function(e){return e.lo>e.hi},isWhole:function(e){return e.lo===-1/0&&e.hi===1/0},zeroIn:function(e){return this.hasValue(e,0)},hasValue:function(e,t){return!this.isEmpty(e)&&e.lo<=t&&t<=e.hi},hasInterval:function(e,t){return!!this.isEmpty(e)||!this.isEmpty(t)&&t.lo<=e.lo&&e.hi<=t.hi},intervalsOverlap:function(e,t){return!this.isEmpty(e)&&!this.isEmpty(t)&&(e.lo<=t.lo&&t.lo<=e.hi||t.lo<=e.lo&&e.lo<=t.hi)},divNonZero:function(e,t){var r=e.lo,i=e.hi,o=t.lo,s=t.hi,a=new n;return i<0?s<0?(a.lo=this.divLo(i,o),a.hi=this.divHi(r,s)):(a.lo=this.divLo(r,o),a.hi=this.divHi(i,s)):r<0?s<0?(a.lo=this.divLo(i,s),a.hi=this.divHi(r,s)):(a.lo=this.divLo(r,o),a.hi=this.divHi(i,o)):s<0?(a.lo=this.divLo(i,s),a.hi=this.divHi(r,o)):(a.lo=this.divLo(r,s),a.hi=this.divHi(i,o)),a},divPositive:function(e,t){return 0===e.lo&&0===e.hi?e:this.zeroIn(e)?this.WHOLE:e.hi<0?new n(Number.NEGATIVE_INFINITY,this.divHi(e.hi,t)):new n(this.divLo(e.lo,t),Number.POSITIVE_INFINITY)},divNegative:function(e,t){return 0===e.lo&&0===e.hi?e:this.zeroIn(e)?this.WHOLE:e.hi<0?new n(this.divLo(e.hi,t),Number.POSITIVE_INFINITY):new n(Number.NEGATIVE_INFINITY,this.divHi(e.lo,t))},divZero:function(e){return 0===e.lo&&0===e.hi?e:this.WHOLE},fmod:function(e,t){var i,o;return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),this.isEmpty(e)||this.isEmpty(t)?this.EMPTY.clone():(i=e.lo<0?t.lo:t.hi,o=(o=e.lo/i)<0?Math.ceil(o):Math.floor(o),this.sub(e,this.mul(t,new n(o))))},multiplicativeInverse:function(e){return r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():this.zeroIn(e)?0!==e.lo?0!==e.hi?this.WHOLE:new n(Number.NEGATIVE_INFINITY,this.divHi(1,e.lo)):0!==e.hi?new n(this.divLo(1,e.hi),Number.POSITIVE_INFINITY):this.EMPTY.clone():new n(this.divLo(1,e.hi),this.divHi(1,e.lo))},pow:function(e,t){var i,o;if(r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e))return this.EMPTY.clone();if(this.isInterval(t)){if(!this.isSingleton(t))return this.EMPTY.clone();t=t.lo}return 0===t?0===e.lo&&0===e.hi?this.EMPTY.clone():this.ONE.clone():t<0?this.pow(this.multiplicativeInverse(e),-t):t%1==0?e.hi<0?(i=this.powLo(-e.hi,t),o=this.powHi(-e.lo,t),1==(1&t)?new n(-o,-i):new n(i,o)):e.lo<0?1==(1&t)?new n(-this.powLo(-e.lo,t),this.powHi(e.hi,t)):new n(0,this.powHi(Math.max(-e.lo,e.hi),t)):new n(this.powLo(e.lo,t),this.powHi(e.hi,t)):(console.warn("power is not an integer, you should use nth-root instead, returning an empty interval"),this.EMPTY.clone())},sqrt:function(e){return r.isNumber(e)&&(e=this.Interval(e)),this.nthRoot(e,2)},nthRoot:function(e,t){var i,o,s,a,l;if(r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)||t<0)return this.EMPTY.clone();if(this.isInterval(t)){if(!this.isSingleton(t))return this.EMPTY.clone();t=t.lo}return i=1/t,e.hi<0?t%1==0&&1==(1&t)?(o=this.powHi(-e.lo,i),s=this.powLo(-e.hi,i),new n(-o,-s)):this.EMPTY.clone():e.lo<0?(a=this.powHi(e.hi,i),t%1==0&&1==(1&t)?(l=-this.powHi(-e.lo,i),new n(l,a)):new n(0,a)):new n(this.powLo(e.lo,i),this.powHi(e.hi,i))},exp:function(e){return r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():new n(this.expLo(e.lo),this.expHi(e.hi))},log:function(e){var t;return r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():(t=e.lo<=0?Number.NEGATIVE_INFINITY:this.logLo(e.lo),new n(t,this.logHi(e.hi)))},ln:function(e){return this.log(e)},log10:function(e){return this.isEmpty(e)?this.EMPTY.clone():this.div(this.log(e),this.log(new n(10,10)))},log2:function(e){return this.isEmpty(e)?this.EMPTY.clone():this.div(this.log(e),this.log(new n(2,2)))},hull:function(e,t){var r=this.isEmpty(e),i=this.isEmpty(t);return r&&i?this.EMPTY.clone():r?t.clone():i?e.clone():new n(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))},intersection:function(e,t){var r,i;return this.isEmpty(e)||this.isEmpty(t)?this.EMPTY.clone():(r=Math.max(e.lo,t.lo))<=(i=Math.min(e.hi,t.hi))?new n(r,i):this.EMPTY.clone()},union:function(e,t){if(!this.intervalsOverlap(e,t))throw new Error("Interval#unions do not overlap");return new n(Math.min(e.lo,t.lo),Math.max(e.hi,t.hi))},difference:function(e,t){if(this.isEmpty(e)||this.isWhole(t))return this.EMPTY.clone();if(this.intervalsOverlap(e,t)){if(e.lo<t.lo&&t.hi<e.hi)throw new Error("Interval.difference: difference creates multiple intervals");return t.lo<=e.lo&&t.hi===1/0||t.hi>=e.hi&&t.lo===-1/0?this.EMPTY.clone():t.lo<=e.lo?(new n).halfOpenLeft(t.hi,e.hi):(new n).halfOpenRight(e.lo,t.lo)}return e.clone()},width:function(e){return this.isEmpty(e)?0:this.subHi(e.hi,e.lo)},abs:function(e){return r.isNumber(e)&&(e=this.Interval(e)),this.isEmpty(e)?this.EMPTY.clone():e.lo>=0?e.clone():e.hi<=0?this.negative(e):new n(0,Math.max(-e.lo,e.hi))},max:function(e,t){var r=this.isEmpty(e),i=this.isEmpty(t);return r&&i?this.EMPTY.clone():r?t.clone():i?e.clone():new n(Math.max(e.lo,t.lo),Math.max(e.hi,t.hi))},min:function(e,t){var r=this.isEmpty(e),i=this.isEmpty(t);return r&&i?this.EMPTY.clone():r?t.clone():i?e.clone():new n(Math.min(e.lo,t.lo),Math.min(e.hi,t.hi))},onlyInfinity:function(e){return!isFinite(e.lo)&&e.lo===e.hi},_handleNegative:function(e){var t;return e.lo<0&&(e.lo===-1/0?(e.lo=0,e.hi=1/0):(t=Math.ceil(-e.lo/this.piTwiceLow),e.lo+=this.piTwiceLow*t,e.hi+=this.piTwiceLow*t)),e},cos:function(e){var t,r,i,o,s,a,l,c;return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():(t=(new n).set(e.lo,e.hi),this._handleNegative(t),r=this.PI_TWICE,i=this.fmod(t,r),this.width(i)>=r.lo?new n(-1,1):i.lo>=this.piHigh?(o=this.cos(this.sub(i,this.PI)),this.negative(o)):(s=i.lo,a=i.hi,l=this.cosLo(a),c=this.cosHi(s),a<=this.piLow?new n(l,c):a<=r.lo?new n(-1,Math.max(l,c)):new n(-1,1)))},sin:function(e){return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():this.cos(this.sub(e,this.PI_HALF))},tan:function(e){var t,r,i;return this.isEmpty(e)||this.onlyInfinity(e)?this.EMPTY.clone():(t=(new n).set(e.lo,e.hi),this._handleNegative(t),i=this.PI,(r=this.fmod(t,i)).lo>=this.piHalfLow&&(r=this.sub(r,i)),r.lo<=-this.piHalfLow||r.hi>=this.piHalfLow?this.WHOLE.clone():new n(this.tanLo(r.lo),this.tanHi(r.hi)))},asin:function(e){var t,r;return this.isEmpty(e)||e.hi<-1||e.lo>1?this.EMPTY.clone():(t=e.lo<=-1?-this.piHalfHigh:this.asinLo(e.lo),r=e.hi>=1?this.piHalfHigh:this.asinHi(e.hi),new n(t,r))},acos:function(e){var t,r;return this.isEmpty(e)||e.hi<-1||e.lo>1?this.EMPTY.clone():(t=e.hi>=1?0:this.acosLo(e.hi),r=e.lo<=-1?this.piHigh:this.acosHi(e.lo),new n(t,r))},atan:function(e){return this.isEmpty(e)?this.EMPTY.clone():new n(this.atanLo(e.lo),this.atanHi(e.hi))},sinh:function(e){return this.isEmpty(e)?this.EMPTY.clone():new n(this.sinhLo(e.lo),this.sinhHi(e.hi))},cosh:function(e){return this.isEmpty(e)?this.EMPTY.clone():e.hi<0?new n(this.coshLo(e.hi),this.coshHi(e.lo)):e.lo>=0?new n(this.coshLo(e.lo),this.coshHi(e.hi)):new n(1,this.coshHi(-e.lo>e.hi?e.lo:e.hi))},tanh:function(e){return this.isEmpty(e)?this.EMPTY.clone():new n(this.tanhLo(e.lo),this.tanhHi(e.hi))},equal:function(e,t){return this.isEmpty(e)?this.isEmpty(t):!this.isEmpty(t)&&e.lo===t.lo&&e.hi===t.hi},notEqual:function(e,t){return this.isEmpty(e)?!this.isEmpty(t):this.isEmpty(t)||e.hi<t.lo||e.lo>t.hi},lt:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),!this.isEmpty(e)&&!this.isEmpty(t)&&e.hi<t.lo},gt:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),!this.isEmpty(e)&&!this.isEmpty(t)&&e.lo>t.hi},leq:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),!this.isEmpty(e)&&!this.isEmpty(t)&&e.hi<=t.lo},geq:function(e,t){return r.isNumber(e)&&(e=this.Interval(e)),r.isNumber(t)&&(t=this.Interval(t)),!this.isEmpty(e)&&!this.isEmpty(t)&&e.lo>=t.hi},piLow:3.141592653589793,piHigh:3.1415926535897936,piHalfLow:1.5707963267948966,piHalfHigh:1.5707963267948968,piTwiceLow:6.283185307179586,piTwiceHigh:6.283185307179587,identity:function(e){return e},_prev:function(e){return e===1/0?e:this.nextafter(e,-1/0)},_next:function(e){return e===-1/0?e:this.nextafter(e,1/0)},prev:function(e){return this._prev(e)},next:function(e){return this._next(e)},toInteger:function(e){return e<0?Math.ceil(e):Math.floor(e)},addLo:function(e,t){return this.prev(e+t)},addHi:function(e,t){return this.next(e+t)},subLo:function(e,t){return this.prev(e-t)},subHi:function(e,t){return this.next(e-t)},mulLo:function(e,t){return this.prev(e*t)},mulHi:function(e,t){return this.next(e*t)},divLo:function(e,t){return this.prev(e/t)},divHi:function(e,t){return this.next(e/t)},intLo:function(e){return this.toInteger(this.prev(e))},intHi:function(e){return this.toInteger(this.next(e))},logLo:function(e){return this.prev(Math.log(e))},logHi:function(e){return this.next(Math.log(e))},expLo:function(e){return this.prev(Math.exp(e))},expHi:function(e){return this.next(Math.exp(e))},sinLo:function(e){return this.prev(Math.sin(e))},sinHi:function(e){return this.next(Math.sin(e))},cosLo:function(e){return this.prev(Math.cos(e))},cosHi:function(e){return this.next(Math.cos(e))},tanLo:function(e){return this.prev(Math.tan(e))},tanHi:function(e){return this.next(Math.tan(e))},asinLo:function(e){return this.prev(Math.asin(e))},asinHi:function(e){return this.next(Math.asin(e))},acosLo:function(e){return this.prev(Math.acos(e))},acosHi:function(e){return this.next(Math.acos(e))},atanLo:function(e){return this.prev(Math.atan(e))},atanHi:function(e){return this.next(Math.atan(e))},sinhLo:function(e){return this.prev(t.sinh(e))},sinhHi:function(e){return this.next(t.sinh(e))},coshLo:function(e){return this.prev(t.cosh(e))},coshHi:function(e){return this.next(t.cosh(e))},tanhLo:function(e){return this.prev(t.tanh(e))},tanhHi:function(e){return this.next(t.tanh(e))},sqrtLo:function(e){return this.prev(Math.sqrt(e))},sqrtHi:function(e){return this.next(Math.sqrt(e))},powLo:function(e,t){var r;if(t%1!=0)return this.prev(Math.pow(e,t));for(r=1==(1&t)?e:1,t>>=1;t>0;)e=this.mulLo(e,e),1==(1&t)&&(r=this.mulLo(e,r)),t>>=1;return r},powHi:function(e,t){var r;if(t%1!=0)return this.next(Math.pow(e,t));for(r=1==(1&t)?e:1,t>>=1;t>0;)e=this.mulHi(e,e),1==(1&t)&&(r=this.mulHi(e,r)),t>>=1;return r},disable:function(){this.next=this.prev=this.identity},enable:function(){this.prev=function(e){return this._prev(e)},this.next=function(e){return this._next(e)}},SMALLEST_DENORM:Math.pow(2,-1074),UINT_MAX:-1>>>0,nextafter:function(e,t){var r,n;return isNaN(e)||isNaN(t)?NaN:e===t?e:0===e?t<0?-this.SMALLEST_DENORM:this.SMALLEST_DENORM:(n=i.hi(e),r=i.lo(e),t>e==e>0?r===this.UINT_MAX?(n+=1,r=0):r+=1:0===r?(r=this.UINT_MAX,n-=1):r-=1,i.pack(r,n))}},e.Math.IntervalArithmetic.PI=new n(t.IntervalArithmetic.piLow,t.IntervalArithmetic.piHigh),e.Math.IntervalArithmetic.PI_HALF=new n(t.IntervalArithmetic.piHalfLow,t.IntervalArithmetic.piHalfHigh),e.Math.IntervalArithmetic.PI_TWICE=new n(t.IntervalArithmetic.piTwiceLow,t.IntervalArithmetic.piTwiceHigh),e.Math.IntervalArithmetic.ZERO=new n(0),e.Math.IntervalArithmetic.ONE=new n(1),e.Math.IntervalArithmetic.WHOLE=(new n).setWhole(),e.Math.IntervalArithmetic.EMPTY=(new n).setEmpty(),e.Math.IntervalArithmetic})),define("math/extrapolate",["math/math"],(function(e){"use strict";return e.Extrapolate={upper:15,infty:1e4,wynnEps:function(e,t,r){var i,n,o,s,a;if(r[t]=e,0===t)a=e;else{for(o=0,i=t;i>0;i--)n=o,o=r[i-1],s=r[i]-o,Math.abs(s)<=1e-15?r[i-1]=1e20:r[i-1]=1*n+1/s;a=r[t%2]}return a},aitken:function(e,t,r){var i,n,o,s,a,l;if(r[t]=e,t<2)i=e;else{for(s=t/2,a=1;a<=s;a++)n=r[2+(l=t-2*a)]-2*r[l+1]+r[l],Math.abs(n)<1e-15?r[l]=1e20:(o=r[l]-r[l+1],r[l]-=o*o/n);i=r[t%2]}return i},brezinski:function(e,t,r){var i,n,o,s,a,l,c,u;if(r[t]=e,t<3)i=e;else{for(l=t/3,u=t,c=1;c<=l;c++)o=r[1+(u-=3)]-r[u],s=r[u+2]-r[u+1],n=(a=r[u+3]-r[u+2])*(s-o)-o*(a-s),Math.abs(n)<1e-15?r[u]=1e20:r[u]=r[u+1]-o*s*(a-s)/n;i=r[t%3]}return i},iteration:function(e,t,r,i,n){var o,s,a,l,c=NaN,u=[],h="finite",d=t;for(n=n||0,o=1;o<=this.upper;o++){if(s=r(e+(d=0===n?t/(o+1):.5*d),!0),a=this[i](s,o-1,u),isNaN(a)){h="NaN";break}if(0!==s&&a/s>this.infty){c=a,h="infinite";break}if(l=a-c,Math.abs(l)<1e-7)break;c=a}return[c,h,1-(o-1)/this.upper]},levin:function(e,t,r,i,n,o){var s,a,l,c;if(c=1/(i+t),n[t]=e/r,o[t]=1/r,t>0&&(n[t-1]=n[t]-n[t-1],o[t-1]=o[t]-o[t-1],t>1))for(l=(i+t-1)*c,s=2;s<=t;s++)a=(i+t-s)*Math.pow(l,s-2)*c,n[t-s]=n[t-s+1]-a*n[t-s],o[t-s]=o[t-s+1]-a*o[t-s],c*=l;return Math.abs(o[0])<1e-15?1e20:n[0]/o[0]},iteration_levin:function(e,t,r,i){var n,o,s,a,l,c,u,h=NaN,d=[],p=[],f="finite",v=t;for(i=i||0,a=r(e+t,!0),n=1;n<=this.upper;n++){if(l=(o=r(e+(v=0===i?t/(n+1):.5*v),!0))-a,u="u"===(Math.abs(l)<1?"u":"t")?(1+n)*l:l,a=o,c=(s=this.levin(o,n-1,u,1,d,p))-h,isNaN(s)){f="NaN";break}if(0!==o&&s/o>this.infty){h=s,f="infinite";break}if(Math.abs(c)<1e-7)break;h=s}return[h,f,1-(n-1)/this.upper]},limit:function(e,t,r){return this.iteration_levin(e,t,r,0)}},e.Extrapolate})),define("math/qdt",["math/math","utils/type"],(function(e,t){"use strict";return e.Quadtree=function(e){this.capacity=10,this.points=[],this.xlb=e[0],this.xub=e[2],this.ylb=e[3],this.yub=e[1],this.northWest=null,this.northEast=null,this.southEast=null,this.southWest=null},t.extend(e.Quadtree.prototype,{contains:function(e,t){return this.xlb<e&&e<=this.xub&&this.ylb<t&&t<=this.yub},insert:function(e){return!!this.contains(e.usrCoords[1],e.usrCoords[2])&&(this.points.length<this.capacity?(this.points.push(e),!0):(null===this.northWest&&this.subdivide(),!!this.northWest.insert(e)||!!this.northEast.insert(e)||!!this.southEast.insert(e)||!!this.southWest.insert(e)))},subdivide:function(){var t,r=this.points.length,i=this.xlb+(this.xub-this.xlb)/2,n=this.ylb+(this.yub-this.ylb)/2;for(this.northWest=new e.Quadtree([this.xlb,this.yub,i,n]),this.northEast=new e.Quadtree([i,this.yub,this.xub,n]),this.southEast=new e.Quadtree([this.xlb,n,i,this.ylb]),this.southWest=new e.Quadtree([i,n,this.xub,this.ylb]),t=0;t<r;t+=1)this.northWest.insert(this.points[t]),this.northEast.insert(this.points[t]),this.southEast.insert(this.points[t]),this.southWest.insert(this.points[t])},_query:function(e,t){var r;if(this.contains(e,t)){if(null===this.northWest)return this;if(r=this.northWest._query(e,t))return r;if(r=this.northEast._query(e,t))return r;if(r=this.southEast._query(e,t))return r;if(r=this.southWest._query(e,t))return r}return!1},query:function(e,r){var i,n;return t.exists(r)?(i=e,n=r):(i=e.usrCoords[1],n=e.usrCoords[2]),this._query(i,n)}}),e.Quadtree})),define("math/numerics",["jxg","utils/type","utils/env","math/math"],(function(e,t,r,i){"use strict";var n={rk4:{s:4,A:[[0,0,0,0],[.5,0,0,0],[0,.5,0,0],[0,0,1,0]],b:[1/6,1/3,1/3,1/6],c:[0,.5,.5,1]},heun:{s:2,A:[[0,0],[1,0]],b:[.5,.5],c:[0,1]},euler:{s:1,A:[[0]],b:[1],c:[0]}};return i.Numerics={Gauss:function(e,r){var n,o,s,a,l,c=i.eps,u=e.length>0?e[0].length:0;if(u!==r.length||u!==e.length)throw new Error("JXG.Math.Numerics.Gauss: Dimensions don't match. A must be a square matrix and b must be of the same length as A.");for(a=[],l=r.slice(0,u),n=0;n<u;n++)a[n]=e[n].slice(0,u);for(o=0;o<u;o++){for(n=u-1;n>o;n--)if(Math.abs(a[n][o])>c)if(Math.abs(a[o][o])<c)t.swap(a,n,o),t.swap(l,n,o);else for(a[n][o]/=a[o][o],l[n]-=a[n][o]*l[o],s=o+1;s<u;s++)a[n][s]-=a[n][o]*a[o][s];if(Math.abs(a[o][o])<c)throw new Error("JXG.Math.Numerics.Gauss(): The given matrix seems to be singular.")}return this.backwardSolve(a,l,!0),l},backwardSolve:function(e,t,r){var i,n,o,s,a;for(i=r?t:t.slice(0,t.length),n=e.length,o=e.length>0?e[0].length:0,s=n-1;s>=0;s--){for(a=o-1;a>s;a--)i[s]-=e[s][a]*i[a];i[s]/=e[s][s]}return i},gaussBareiss:function(e){var t,r,n,o,s,a,l,c,u,h=i.eps;if((l=e.length)<=0)return 0;for(e[0].length<l&&(l=e[0].length),c=[],o=0;o<l;o++)c[o]=e[o].slice(0,l);for(r=1,n=1,t=0;t<l-1;t++){if(a=c[t][t],Math.abs(a)<h){for(o=t+1;o<l&&!(Math.abs(c[o][t])>=h);o++);if(o===l)return 0;for(s=t;s<l;s++)u=c[o][s],c[o][s]=c[t][s],c[t][s]=u;n=-n,a=c[t][t]}for(o=t+1;o<l;o++)for(s=t+1;s<l;s++)u=a*c[o][s]-c[o][t]*c[t][s],c[o][s]=u/r;r=a}return n*c[l-1][l-1]},det:function(e){return 2===e.length&&2===e[0].length?e[0][0]*e[1][1]-e[1][0]*e[0][1]:this.gaussBareiss(e)},Jacobi:function(e){var t,r,n,o,s,a,l,c,u,h=i.eps*i.eps,d=0,p=e.length,f=[[0,0,0],[0,0,0],[0,0,0]],v=[[0,0,0],[0,0,0],[0,0,0]],m=0;for(t=0;t<p;t++){for(r=0;r<p;r++)f[t][r]=0,v[t][r]=e[t][r],d+=Math.abs(v[t][r]);f[t][t]=1}if(1===p)return[v,f];if(d<=0)return[v,f];d/=p*p;do{for(c=0,u=0,r=1;r<p;r++)for(t=0;t<r;t++)if((o=Math.abs(v[t][r]))>u&&(u=o),c+=o,o>=h){for(o=.5*Math.atan2(2*v[t][r],v[t][t]-v[r][r]),s=Math.sin(o),a=Math.cos(o),n=0;n<p;n++)l=v[n][t],v[n][t]=a*l+s*v[n][r],v[n][r]=-s*l+a*v[n][r],l=f[n][t],f[n][t]=a*l+s*f[n][r],f[n][r]=-s*l+a*f[n][r];for(v[t][t]=a*v[t][t]+s*v[r][t],v[r][r]=-s*v[t][r]+a*v[r][r],v[t][r]=0,n=0;n<p;n++)v[t][n]=v[n][t],v[r][n]=v[n][r]}m+=1}while(Math.abs(c)/d>h&&m<2e3);return[v,f]},NewtonCotes:function(e,r,i){var n,o,s,a=0,l=i&&t.isNumber(i.number_of_nodes)?i.number_of_nodes:28,c={trapez:!0,simpson:!0,milne:!0},u=i&&i.integration_type&&c.hasOwnProperty(i.integration_type)&&c[i.integration_type]?i.integration_type:"milne",h=(e[1]-e[0])/l;switch(u){case"trapez":for(a=.5*(r(e[0])+r(e[1])),n=e[0],o=0;o<l-1;o++)a+=r(n+=h);a*=h;break;case"simpson":if(l%2>0)throw new Error("JSXGraph:  INT_SIMPSON requires config.number_of_nodes dividable by 2.");for(s=l/2,a=r(e[0])+r(e[1]),n=e[0],o=0;o<s-1;o++)a+=2*r(n+=2*h);for(n=e[0]-h,o=0;o<s;o++)a+=4*r(n+=2*h);a*=h/3;break;default:if(l%4>0)throw new Error("JSXGraph: Error in INT_MILNE: config.number_of_nodes must be a multiple of 4");for(s=.25*l,a=7*(r(e[0])+r(e[1])),n=e[0],o=0;o<s-1;o++)a+=14*r(n+=4*h);for(n=e[0]-3*h,o=0;o<s;o++)a+=32*(r(n+=4*h)+r(n+2*h));for(n=e[0]-2*h,o=0;o<s;o++)a+=12*r(n+=4*h);a*=2*h/45}return a},Romberg:function(e,r,i){var n,o,s,a,l,c,u,h,d=[],p=0,f=1/0,v=i&&t.isNumber(i.max_iterations)?i.max_iterations:20,m=i&&t.isNumber(i.eps)?i.eps:i.eps||1e-7;for(n=e[0],s=(o=e[1])-n,l=1,d[0]=.5*s*(r(n)+r(o)),c=0;c<v;++c){for(a=0,s*=.5,l*=2,h=1,u=1;u<l;u+=2)a+=r(n+u*s);for(d[c+1]=.5*d[c]+a*s,p=d[c+1],u=c-1;u>=0;--u)h*=4,d[u]=d[u+1]+(d[u+1]-d[u])/(h-1),p=d[u];if(Math.abs(p-f)<m*Math.abs(p))break;f=p}return p},GaussLegendre:function(e,r,i){var n,o,s,a,l,c,u,h,d=0,p=[],f=[],v=i&&t.isNumber(i.n)?i.n:12;if(v>18&&(v=18),p[2]=[.5773502691896257],f[2]=[1],p[4]=[.33998104358485626,.8611363115940526],f[4]=[.6521451548625461,.34785484513745385],p[6]=[.2386191860831969,.6612093864662645,.932469514203152],f[6]=[.46791393457269104,.3607615730481386,.17132449237917036],p[8]=[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],f[8]=[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],p[10]=[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],f[10]=[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],p[12]=[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],f[12]=[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],p[14]=[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],f[14]=[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],p[16]=[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499],f[16]=[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096],p[18]=[.0847750130417353,.2518862256915055,.41175116146284263,.5597708310739475,.6916870430603532,.8037049589725231,.8926024664975557,.9558239495713977,.9915651684209309],f[18]=[.1691423829631436,.16427648374583273,.15468467512626524,.14064291467065065,.12255520671147846,.10094204410628717,.07642573025488905,.0497145488949698,.02161601352648331],p[3]=[0,.7745966692414834],f[3]=[.8888888888888888,.5555555555555556],p[5]=[0,.5384693101056831,.906179845938664],f[5]=[.5688888888888889,.47862867049936647,.23692688505618908],p[7]=[0,.4058451513773972,.7415311855993945,.9491079123427585],f[7]=[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],p[9]=[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],f[9]=[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],p[11]=[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],f[11]=[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],p[13]=[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],f[13]=[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],p[15]=[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],f[15]=[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],p[17]=[0,.17848418149584785,.3512317634538763,.5126905370864769,.6576711592166907,.7815140038968014,.8802391537269859,.9506755217687678,.9905754753144174],f[17]=[.17944647035620653,.17656270536699264,.16800410215645004,.15404576107681028,.13513636846852548,.11188384719340397,.08503614831717918,.0554595293739872,.02414830286854793],n=e[0],o=e[1],a=v+1>>1,u=p[v],h=f[v],c=.5*(o-n),l=.5*(o+n),!0&v)for(d=h[0]*r(l),s=1;s<a;++s)d+=h[s]*(r(l+c*u[s])+r(l-c*u[s]));else for(d=0,s=0;s<a;++s)d+=h[s]*(r(l+c*u[s])+r(l-c*u[s]));return c*d},_rescale_error:function(e,t,r){var i,n;return e=Math.abs(e),0!==r&&0!==e&&(e=(i=Math.pow(200*e/r,1.5))<1?r*i:r),t>20041683600089728e-310&&(n=11102230246251565e-30*t)>e&&(e=n),e},_gaussKronrod:function(e,t,r,i,n,o,s){var a,l,c,u,h,d,p,f,v,m,g,b=e[0],y=e[1],_=.5*(b+y),C=.5*(y-b),x=Math.abs(C),w=t(_),P=0,S=w*o[r-1],E=Math.abs(S),O=0,T=[],k=[];for(r%2==0&&(P=w*n[r/2-1]),a=Math.floor((r-1)/2),h=0;h<a;h++)m=(f=t(_-(p=C*i[d=2*h+1])))+(v=t(_+p)),T[d]=f,k[d]=v,P+=n[h]*m,S+=o[d]*m,E+=o[d]*(Math.abs(f)+Math.abs(v));for(a=Math.floor(r/2),h=0;h<a;h++)f=t(_-(p=C*i[g=2*h])),v=t(_+p),T[g]=f,k[g]=v,S+=o[g]*(f+v),E+=o[g]*(Math.abs(f)+Math.abs(v));for(c=.5*S,O=o[r-1]*Math.abs(w-c),h=0;h<r-1;h++)O+=o[h]*(Math.abs(T[h]-c)+Math.abs(k[h]-c));return u=(S-P)*C,E*=x,O*=x,l=S*=C,s.abserr=this._rescale_error(u,E,O),s.resabs=E,s.resasc=O,l},GaussKronrod15:function(e,t,r){return this._gaussKronrod(e,t,8,[.9914553711208126,.9491079123427585,.8648644233597691,.7415311855993945,.5860872354676911,.4058451513773972,.20778495500789848,0],[.1294849661688697,.27970539148927664,.3818300505051189,.4179591836734694],[.022935322010529224,.06309209262997856,.10479001032225019,.14065325971552592,.1690047266392679,.19035057806478542,.20443294007529889,.20948214108472782],r)},GaussKronrod21:function(e,t,r){return this._gaussKronrod(e,t,11,[.9956571630258081,.9739065285171717,.9301574913557082,.8650633666889845,.7808177265864169,.6794095682990244,.5627571346686047,.4333953941292472,.2943928627014602,.14887433898163122,0],[.06667134430868814,.1494513491505806,.21908636251598204,.26926671930999635,.29552422471475287],[.011694638867371874,.032558162307964725,.054755896574351995,.07503967481091996,.0931254545836976,.10938715880229764,.12349197626206584,.13470921731147334,.14277593857706009,.14773910490133849,.1494455540029169],r)},GaussKronrod31:function(e,t,r){return this._gaussKronrod(e,t,16,[.9980022986933971,.9879925180204854,.9677390756791391,.937273392400706,.8972645323440819,.8482065834104272,.790418501442466,.7244177313601701,.650996741297417,.5709721726085388,.4850818636402397,.3941513470775634,.29918000715316884,.20119409399743451,.1011420669187175,0],[.03075324199611727,.07036604748810812,.10715922046717194,.13957067792615432,.16626920581699392,.1861610000155622,.19843148532711158,.2025782419255613],[.005377479872923349,.015007947329316122,.02546084732671532,.03534636079137585,.04458975132476488,.05348152469092809,.06200956780067064,.06985412131872826,.07684968075772038,.08308050282313302,.08856444305621176,.09312659817082532,.09664272698362368,.09917359872179196,.10076984552387559,.10133000701479154],r)},_workspace:function(e,t){return{limit:t,size:0,nrmax:0,i:0,alist:[e[0]],blist:[e[1]],rlist:[0],elist:[0],order:[0],level:[0],qpsrt:function(){var e,t,r,i,n,o=this.size-1,s=this.limit,a=this.nrmax,l=this.order[a];if(o<2)return this.order[0]=0,this.order[1]=1,void(this.i=l);for(e=this.elist[l];a>0&&e>this.elist[this.order[a-1]];)this.order[a]=this.order[a-1],a--;for(n=o<s/2+2?o:s-o+1,r=a+1;r<n&&e<this.elist[this.order[r]];)this.order[r-1]=this.order[r],r++;for(this.order[r-1]=l,t=this.elist[o],i=n-1;i>r-2&&t>=this.elist[this.order[i]];)this.order[i+1]=this.order[i],i--;this.order[i+1]=o,l=this.order[a],this.i=l,this.nrmax=a},set_initial_result:function(e,t){this.size=1,this.rlist[0]=e,this.elist[0]=t},update:function(e,t,r,i,n,o,s,a){var l=this.i,c=this.size,u=this.level[this.i]+1;a>i?(this.alist[l]=n,this.rlist[l]=s,this.elist[l]=a,this.level[l]=u,this.alist[c]=e,this.blist[c]=t,this.rlist[c]=r,this.elist[c]=i,this.level[c]=u):(this.blist[l]=t,this.rlist[l]=r,this.elist[l]=i,this.level[l]=u,this.alist[c]=n,this.blist[c]=o,this.rlist[c]=s,this.elist[c]=a,this.level[c]=u),this.size++,u>this.maximum_level&&(this.maximum_level=u),this.qpsrt()},retrieve:function(){var e=this.i;return{a:this.alist[e],b:this.blist[e],r:this.rlist[e],e:this.elist[e]}},sum_results:function(){var e,t=this.size,r=0;for(e=0;e<t;e++)r+=this.rlist[e];return r},subinterval_too_small:function(e,t,r){var i=1.0000000000000222*(Math.abs(t)+22250738585072014e-321);return Math.abs(e)<=i&&Math.abs(r)<=i}}},Qag:function(r,n,o){var s,a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P=this._workspace(r,1e3),S=o&&t.isNumber(o.limit)?o.limit:15,E=o&&t.isNumber(o.epsrel)?o.epsrel:1e-7,O=o&&t.isNumber(o.epsabs)?o.epsabs:1e-7,T=o&&t.isFunction(o.q)?o.q:this.GaussKronrod15,k={},N=0,M=0,A=0,R=0,L=0,I=0,D=0,j=0,B=0,Y=0;if(S>P.limit&&e.warn("iteration limit exceeds available workspace"),O<=0&&(E<50*i.eps||E<5e-29)&&e.warn("tolerance cannot be acheived with given epsabs and epsrel"),l=T.apply(this,[r,n,k]),c=k.abserr,u=k.resabs,h=k.resasc,P.set_initial_result(l,c),d=Math.max(O,E*Math.abs(l)),c<=11102230246251565e-30*u&&c>d)return e.warn("cannot reach tolerance because of roundoff error on first attempt"),-1/0;if(c<=d&&c!==h||0===c)return l;if(1===S)return e.warn("a maximum of one iteration was insufficient"),-1/0;s=l,a=c,N=1;do{L=0,I=0,D=0,j=0,B=0,Y=0,g=(x=P.retrieve()).a,b=x.b,y=x.r,_=x.e,p=g,v=f=.5*(g+b),m=b,L=T.apply(this,[[p,f],n,k]),j=k.abserr,C=k.resasc,I=T.apply(this,[[v,m],n,k]),a+=(Y=j+(B=k.abserr))-_,s+=(D=L+I)-y,C!==j&&k.resasc!==B&&(w=y-D,Math.abs(w)<=1e-5*Math.abs(D)&&Y>=.99*_&&M++,N>=10&&Y>_&&A++),a>(d=Math.max(O,E*Math.abs(s)))&&((M>=6||A>=20)&&(R=2),P.subinterval_too_small(p,v,m)&&(R=3)),P.update(p,f,L,j,v,m,I,B),g=(x=P.retrieve()).a_i,b=x.b_i,y=x.r_i,_=x.e_i,N++}while(N<S&&!R&&a>d);return P.sum_results()},I:function(e,t){return this.Qag(e,t,{q:this.GaussKronrod15,limit:15,epsrel:1e-7,epsabs:1e-7})},Newton:function(e,r,n){var o,s=0,a=i.eps,l=e.apply(n,[r]);for(t.isArray(r)&&(r=r[0]);s<50&&Math.abs(l)>a;)o=this.D(e,n)(r),Math.abs(o)>a?r-=l/o:r+=.2*Math.random()-1,l=e.apply(n,[r]),s+=1;return r},root:function(e,t,r){return this.chandrupatla(e,t,r)},generalizedNewton:function(e,t,r,n){var o,s,a,l,c,u,h,d,p,f,v,m,g,b,y=0;for(this.generalizedNewton.t1memo?(o=this.generalizedNewton.t1memo,s=this.generalizedNewton.t2memo):(o=r,s=n),f=(d=e.X(o)-t.X(s))*d+(p=e.Y(o)-t.Y(s))*p,v=this.D(e.X,e),m=this.D(t.X,t),g=this.D(e.Y,e),b=this.D(t.Y,t);f>i.eps&&y<10;)a=v(o),l=-m(s),c=g(o),o-=((u=-b(s))*d-l*p)/(h=a*u-l*c),s-=(a*p-c*d)/h,f=(d=e.X(o)-t.X(s))*d+(p=e.Y(o)-t.Y(s))*p,y+=1;return this.generalizedNewton.t1memo=o,this.generalizedNewton.t2memo=s,Math.abs(o)<Math.abs(s)?[e.X(o),e.Y(o)]:[t.X(s),t.Y(s)]},Neville:function(e){var t=[],r=function(r){return function(n,o){var s,a,l,c=i.binomial,u=e.length,h=u-1,d=0,p=0;if(!o)for(l=1,s=0;s<u;s++)t[s]=c(h,s)*l,l*=-1;for(a=n,s=0;s<u;s++){if(0===a)return e[s][r]();l=t[s]/a,a-=1,d+=e[s][r]()*l,p+=l}return d/p}};return[r("X"),r("Y"),0,function(){return e.length-1}]},splineDef:function(e,t){var r,i,n,o=Math.min(e.length,t.length),s=[],a=[],l=[],c=[],u=[],h=[];if(2===o)return[0,0];for(i=0;i<o;i++)r={X:e[i],Y:t[i]},l.push(r);for(l.sort((function(e,t){return e.X-t.X})),i=0;i<o;i++)e[i]=l[i].X,t[i]=l[i].Y;for(i=0;i<o-1;i++)c.push(e[i+1]-e[i]);for(i=0;i<o-2;i++)u.push(6*(t[i+2]-t[i+1])/c[i+1]-6*(t[i+1]-t[i])/c[i]);for(s.push(2*(c[0]+c[1])),a.push(u[0]),i=0;i<o-3;i++)n=c[i+1]/s[i],s.push(2*(c[i+1]+c[i+2])-n*c[i+1]),a.push(u[i+1]-n*a[i]);for(h[o-3]=a[o-3]/s[o-3],i=o-4;i>=0;i--)h[i]=(a[i]-c[i+1]*h[i+1])/s[i];for(i=o-3;i>=0;i--)h[i+1]=h[i];return h[0]=0,h[o-1]=0,h},splineEval:function(e,r,i,n){var o,s,a,l,c,u,h,d=Math.min(r.length,i.length),p=1,f=!1,v=[];for(t.isArray(e)?(p=e.length,f=!0):e=[e],o=0;o<p;o++){if(e[o]<r[0]||r[o]>r[d-1])return NaN;for(s=1;s<d&&!(e[o]<=r[s]);s++);a=i[s-=1],l=(i[s+1]-i[s])/(r[s+1]-r[s])-(r[s+1]-r[s])/6*(n[s+1]+2*n[s]),c=n[s]/2,u=(n[s+1]-n[s])/(6*(r[s+1]-r[s])),h=e[o]-r[s],v.push(a+(l+(c+u*h)*h)*h)}return f?v:v[0]},generatePolynomialTerm:function(e,t,r,i){var n,o=[];for(n=t;n>=0;n--)o=o.concat(["(",e[n].toPrecision(i),")"]),n>1?o=o.concat(["*",r,"<sup>",n,"<","/sup> + "]):1===n&&(o=o.concat(["*",r," + "]));return o.join("")},lagrangePolynomial:function(e){var t=[],r=this,i=function(r,i){var n,o,s,a,l=e.length,c=0,u=0;if(!i)for(n=0;n<l;n++){for(t[n]=1,s=e[n].X(),o=0;o<l;o++)o!==n&&(t[n]*=s-e[o].X());t[n]=1/t[n]}for(n=0;n<l;n++){if(r===(s=e[n].X()))return e[n].Y();u+=a=t[n]/(r-s),c+=a*e[n].Y()}return c/u};return i.getTerm=function(t,i,n){return r.lagrangePolynomialTerm(e,t,i,n)()},i},lagrangePolynomialTerm:function(t,n,o,s){return function(){var a,l,c,u,h,d,p=t.length,f=[],v=[],m=[],g=!0;for(o=o||"x",void 0===s&&(s=" * "),a=p-1,u=0;u<p;u++)m[u]=0;for(c=0;c<p;c++){for(h=t[c].Y(),d=t[c].X(),f=[],u=0;u<p;u++)u!==c&&(h/=d-t[u].X(),f.push(t[u].X()));for(v=[1].concat(i.Vieta(f)),u=0;u<v.length;u++)m[u]+=(u%2==1?-1:1)*v[u]*h}for(l="",u=0;u<m.length;u++)h=m[u],Math.abs(h)<i.eps||(e.exists(n)&&(h=r._round10(h,-n)),g?(l+=h>0?h:"-"+-h,g=!1):l+=h>0?" + "+h:" - "+-h,a-u>1?l+=s+o+"^"+(a-u):a-u==1&&(l+=s+o));return l}},_initCubicPoly:function(e,t,r,i){return[e,r,-3*e+3*t-2*r-i,2*e-2*t+r+i]},CardinalSpline:function(e,r,n){var o,s,a,l,c=[],u=this;return l=t.isFunction(r)?r:function(){return r},void 0===n&&(n="uniform"),s=function(t){return function(r,s){var h,d,p,f,v,m,g,b,y,_;if(e.length<2)return NaN;if(!s)for(a=l(),p={X:function(){return 2*e[0].X()-e[1].X()},Y:function(){return 2*e[0].Y()-e[1].Y()},Dist:function(e){var t=this.X()-e.X(),r=this.Y()-e.Y();return Math.sqrt(t*t+r*r)}},f={X:function(){return 2*e[e.length-1].X()-e[e.length-2].X()},Y:function(){return 2*e[e.length-1].Y()-e[e.length-2].Y()},Dist:function(e){var t=this.X()-e.X(),r=this.Y()-e.Y();return Math.sqrt(t*t+r*r)}},_=(o=[p].concat(e,[f])).length,c[t]=[],h=0;h<_-3;h++)"centripetal"===n?(g=o[h].Dist(o[h+1]),b=o[h+2].Dist(o[h+1]),y=o[h+3].Dist(o[h+2]),g=Math.sqrt(g),b=Math.sqrt(b),y=Math.sqrt(y),b<i.eps&&(b=1),g<i.eps&&(g=b),y<i.eps&&(y=b),v=(o[h+1][t]()-o[h][t]())/g-(o[h+2][t]()-o[h][t]())/(b+g)+(o[h+2][t]()-o[h+1][t]())/b,m=(o[h+2][t]()-o[h+1][t]())/b-(o[h+3][t]()-o[h+1][t]())/(y+b)+(o[h+3][t]()-o[h+2][t]())/y,v*=b,m*=b,c[t][h]=u._initCubicPoly(o[h+1][t](),o[h+2][t](),a*v,a*m)):c[t][h]=u._initCubicPoly(o[h+1][t](),o[h+2][t](),a*(o[h+2][t]()-o[h][t]()),a*(o[h+3][t]()-o[h+1][t]()));return isNaN(r)?NaN:(_=e.length,r<=0?e[0][t]():r>=_?e[_-1][t]():(h=Math.floor(r))===r?e[h][t]():(r-=h,void 0===(d=c[t][h])?NaN:((d[3]*r+d[2])*r+d[1])*r+d[0]))}},[s("X"),s("Y"),0,function(){return e.length-1}]},CatmullRomSpline:function(e,t){return this.CardinalSpline(e,.5,t)},regressionPolynomial:function(e,r,n){var o,s,a,l,c,u,h="";if(t.isPoint(e)&&t.isFunction(e.Value))s=function(){return e.Value()};else if(t.isFunction(e))s=e;else{if(!t.isNumber(e))throw new Error("JSXGraph: Can't create regressionPolynomial from degree of type'"+typeof e+"'.");s=function(){return e}}if(3===arguments.length&&t.isArray(r)&&t.isArray(n))c=0;else if(2===arguments.length&&t.isArray(r)&&r.length>0&&t.isPoint(r[0]))c=1;else{if(!(2===arguments.length&&t.isArray(r)&&r.length>0&&r[0].usrCoords&&r[0].scrCoords))throw new Error("JSXGraph: Can't create regressionPolynomial. Wrong parameters.");c=2}return(u=function(e,u){var d,p,f,v,m,g,b,y,_,C=r.length;if(_=Math.floor(s()),!u){if(1===c)for(a=[],l=[],d=0;d<C;d++)a[d]=r[d].X(),l[d]=r[d].Y();if(2===c)for(a=[],l=[],d=0;d<C;d++)a[d]=r[d].usrCoords[1],l[d]=r[d].usrCoords[2];if(0===c)for(a=[],l=[],d=0;d<C;d++)t.isFunction(r[d])?a.push(r[d]()):a.push(r[d]),t.isFunction(n[d])?l.push(n[d]()):l.push(n[d]);for(f=[],p=0;p<C;p++)f.push([1]);for(d=1;d<=_;d++)for(p=0;p<C;p++)f[p][d]=f[p][d-1]*a[p];m=l,v=i.transpose(f),g=i.matMatMult(v,f),b=i.matVecMult(v,m),o=i.Numerics.Gauss(g,b),h=i.Numerics.generatePolynomialTerm(o,_,"x",3)}for(y=o[_],d=_-1;d>=0;d--)y=y*e+o[d];return y}).getTerm=function(){return h},u},bezier:function(e){var t,r,i=function(i){return function(n,o){var s=3*Math.floor(n),a=n%1,l=1-a;return o||(r=3*Math.floor((e.length-1)/3),t=Math.floor(r/3)),n<0?e[0][i]():n>=t?e[r][i]():isNaN(n)?NaN:l*l*(l*e[s][i]()+3*a*e[s+1][i]())+(3*l*e[s+2][i]()+a*e[s+3][i]())*a*a}};return[i("X"),i("Y"),0,function(){return Math.floor(e.length/3)}]},bspline:function(e,t){var r,i=function(i){return function(n,o){var s,a,l,c,u=e.length,h=u-1,d=t;if(h<=0)return NaN;if(h+2<=d&&(d=h+1),n<=0)return e[0][i]();if(n>=h-d+2)return e[h][i]();for(l=Math.floor(n)+d-1,r=function(e,t){var r,i=[];for(r=0;r<e+t+1;r++)i[r]=r<t?0:r<=e?r-t+1:e-t+2;return i}(h,d),c=function(e,t,r,i){var n,o,s,a,l,c=[];for(t[i]<=e&&e<t[i+1]?c[i]=1:c[i]=0,n=2;n<=r;n++)for(o=i-n+1;o<=i;o++)s=o<=i-n+1||o<0?0:c[o],a=o>=i?0:c[o+1],l=t[o+n-1]-t[o],c[o]=0===l?0:(e-t[o])/l*s,0!=(l=t[o+n]-t[o+1])&&(c[o]+=(t[o+n]-e)/l*a);return c}(n,r,d,l),s=0,a=l-d+1;a<=l;a++)a<u&&a>=0&&(s+=e[a][i]()*c[a]);return s}};return[i("X"),i("Y"),0,function(){return e.length-1}]},D:function(e,r){return t.exists(r)?function(t,i){var n=1e-5;return(e.apply(r,[t+n,i])-e.apply(r,[t-n,i]))/2e-5}:function(t,r){var i=1e-5;return(e(t+i,r)-e(t-i,r))/2e-5}},_riemannValue:function(e,t,r,i){var n,o,s,a;if(i<0&&("trapezoidal"!==r&&(e+=i),i*=-1,"lower"===r?r="upper":"upper"===r&&(r="lower")),a=.01*i,"right"===r)n=t(e+i);else if("middle"===r)n=t(e+.5*i);else if("left"===r||"trapezoidal"===r)n=t(e);else if("lower"===r){for(n=t(e),s=e+a;s<=e+i;s+=a)(o=t(s))<n&&(n=o);(o=t(e+i))<n&&(n=o)}else if("upper"===r){for(n=t(e),s=e+a;s<=e+i;s+=a)(o=t(s))>n&&(n=o);(o=t(e+i))>n&&(n=o)}else n="random"===r?t(e+i*Math.random()):"simpson"===r?(t(e)+4*t(e+.5*i)+t(e+i))/6:t(e);return n},riemann:function(e,r,i,n,o){var s,a,l,c,u,h,d,p=[],f=[],v=0,m=n,g=0;if(t.isArray(e)?(u=e[0],c=e[1]):c=e,(r=Math.floor(r))<=0)return[p,f,g];for(a=(o-n)/r,s=0;s<r;s++)l=this._riemannValue(m,c,i,a),p[v]=m,f[v]=l,v+=1,m+=a,"trapezoidal"===i&&(l=c(m)),p[v]=m,f[v]=l,v+=1;for(s=0;s<r;s++)l=u?this._riemannValue(m,u,i,-a):0,p[v]=m,f[v]=l,v+=1,m-=a,"trapezoidal"===i&&u&&(l=u(m)),p[v]=m,f[v]=l,"trapezoidal"!==i?(h=l,d=f[2*(r-1)-2*s]):(d=.5*(c(m+a)+c(m)),h=u?.5*(u(m+a)+u(m)):0),g+=(d-h)*a,p[v+=1]=m,f[v]=f[2*(r-1)-2*s],v+=1;return[p,f,g]},riemannsum:function(t,r,i,n,o){return e.deprecated("Numerics.riemannsum()","Numerics.riemann()"),this.riemann(t,r,i,n,o)[2]},rungeKutta:function(e,r,i,o,s){var a,l,c,u,h,d,p=[],f=[],v=(i[1]-i[0])/o,m=i[0],g=r.length,b=[],y=0;for(t.isString(e)&&(e=n[e]||n.euler),d=e.s,a=0;a<g;a++)p[a]=r[a];for(l=0;l<o;l++){for(b[y]=[],a=0;a<g;a++)b[y][a]=p[a];for(y+=1,u=[],c=0;c<d;c++){for(a=0;a<g;a++)f[a]=0;for(h=0;h<c;h++)for(a=0;a<g;a++)f[a]+=e.A[c][h]*v*u[h][a];for(a=0;a<g;a++)f[a]+=p[a];u.push(s(m+e.c[c]*v,f))}for(a=0;a<g;a++)f[a]=0;for(h=0;h<d;h++)for(a=0;a<g;a++)f[a]+=e.b[h]*u[h][a];for(a=0;a<g;a++)p[a]=p[a]+v*f[a];m+=v}return b},maxIterationsRoot:80,maxIterationsMinimize:500,findBracket:function(e,r,i){var n,o,s,a,l,c,u,h,d,p;if(t.isArray(r))return r;for(n=r,s=e.call(i,n),p=(a=[n-.1*(o=0===n?1:n),n+.1*o,n-1,n+1,n-.5*o,n+.5*o,n-.6*o,n+.6*o,n-1*o,n+1*o,n-2*o,n+2*o,n-5*o,n+5*o,n-10*o,n+10*o,n-50*o,n+50*o,n-100*o,n+100*o]).length,d=0;d<p&&(l=a[d],!(s*(c=e.call(i,l))<=0));d++);return l<n&&(u=n,n=l,l=u,h=s,s=c,c=h),[n,s,l,c]},fzero:function(e,r,n){var o,s,a,l,c,u,h,d,p,f,v,m,g,b,y,_=i.eps,C=this.maxIterationsRoot,x=0;if(t.isArray(r)){if(r.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=r[0],l=e.call(n,o),s=r[1],c=e.call(n,s)}else o=(h=this.findBracket(e,r,n))[0],l=h[1],s=h[2],c=h[3];if(Math.abs(l)<=_)return o;if(Math.abs(c)<=_)return s;if(l*c>0)return t.isArray(r)?this.fminbr(e,[o,s],n):this.Newton(e,o,n);for(a=o,u=l;x<C;){if(d=s-o,Math.abs(u)<Math.abs(c)&&(o=s,s=a,a=o,l=c,c=u,u=l),m=2*_*Math.abs(s)+.5*_,y=.5*(a-s),Math.abs(y)<=m||Math.abs(c)<=_)return s;Math.abs(d)>=m&&Math.abs(l)>Math.abs(c)&&(f=a-s,o===a?(g=f*(p=c/l),b=1-p):(g=(v=c/l)*(f*(b=l/u)*(b-(p=c/u))-(s-o)*(p-1)),b=(b-1)*(p-1)*(v-1)),g>0?b=-b:g=-g,g<.75*f*b-.5*Math.abs(m*b)&&g<Math.abs(d*b*.5)&&(y=g/b)),Math.abs(y)<m&&(y=y>0?m:-m),o=s,l=c,s+=y,((c=e.call(n,s))>0&&u>0||c<0&&u<0)&&(a=o,u=l),x++}return s},chandrupatla:function(e,r,n){var o,s,a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S=0,E=this.maxIterationsRoot,O=1+.001*Math.random(),T=.5*O,k=i.eps;if(t.isArray(r)){if(r.length<2)throw new Error("JXG.Math.Numerics.fzero: length of array x0 has to be at least two.");o=r[0],s=e.call(n,o),a=r[1],l=e.call(n,a)}else o=(c=this.findBracket(e,r,n))[0],s=c[1],a=c[2],l=c[3];if(s*l>0)return t.isArray(r)?this.fminbr(e,[o,a],n):this.Newton(e,o,n);u=o,h=a,f=s,v=l;do{if(p=u+T*(h-u),g=e.call(n,p),Math.sign(g)===Math.sign(f)?(d=u,u=p,m=f,f=g):(d=h,h=u,m=v,v=f),b=u=p,y=f=g,Math.abs(v)<Math.abs(f)&&(b=h,y=v),(_=(2*k*Math.abs(b)+5e-6)/Math.abs(h-u))>.5||0===y)break;C=(u-h)/(d-h),x=(f-v)/(m-v),w=1-Math.sqrt(1-C),P=Math.sqrt(C),(T=w<x&&x<P?f/(v-f)*(m/(v-m))+f/(m-f)*(v/(m-v))*((d-u)/(h-u)):.5*O)<_&&(T=_),T>1-_&&(T=1-_),S++}while(S<=E);return b},fminbr:function(e,r,n){var o,s,a,l,c,u,h,d,p,f,v,m,g,b,y,_,C=.5*(3-Math.sqrt(5)),x=i.eps,w=i.eps,P=this.maxIterationsMinimize,S=0;if(!t.isArray(r)||r.length<2)throw new Error("JXG.Math.Numerics.fminbr: length of array x0 has to be at least two.");for(a=l=(o=r[0])+C*((s=r[1])-o),c=l,u=h=e.call(n,l),d=h;S<P;){if(p=s-o,f=.5*(o+s),v=w*Math.abs(a)+x/3,Math.abs(a-f)+.5*p<=2*v)return a;m=C*(a<f?s-a:o-a),Math.abs(a-c)>=v&&(g=(a-l)*(b=(a-l)*(u-d))-(a-c)*(y=(a-c)*(u-h)),(b=2*(b-y))>0?g=-g:b=-b,Math.abs(g)<Math.abs(m*b)&&g>b*(o-a+2*v)&&g<b*(s-a-2*v)&&(m=g/b)),Math.abs(m)<v&&(m=m>0?v:-v),y=a+m,(_=e.call(n,y))<=u?(y<a?s=a:o=a,l=c,c=a,a=y,h=d,d=u,u=_):(y<a?o=y:s=y,_<=d||c===a?(l=c,c=y,h=d,d=_):(_<=h||l===a||l===c)&&(l=y,h=_)),S+=1}return a},RamerDouglasPeucker:function(e,t){var r,n,o,s=[],a=[],l=function e(t,r,n,o,s){var a=function(e,t,r){var n,o,s,a,l,c,u,h,d,p,f,v=1e4,m=0,g=t;if(r-t<2)return[-1,0];if(s=e[t].scrCoords,a=e[r].scrCoords,isNaN(s[1])||isNaN(s[2]))return[NaN,t];if(isNaN(a[1])||isNaN(a[2]))return[NaN,r];for(o=t+1;o<r;o++){if(l=e[o].scrCoords,isNaN(l[1])||isNaN(l[2]))return[NaN,o];c=(c=(c=l[1]-s[1])==1/0?v:c)===-1/0?-v:c,u=(u=(u=l[2]-s[2])==1/0?v:u)===-1/0?-v:u,(p=(h=(h=(h=a[1]-s[1])==1/0?v:h)===-1/0?-v:h)*h+(d=(d=(d=a[2]-s[2])==1/0?v:d)===-1/0?-v:d)*d)>=i.eps?((f=(c*h+u*d)/p)<0?f=0:f>1&&(f=1),n=(c-=f*h)*c+(u-=f*d)*u):(f=0,n=c*c+u*u),n>m&&(m=n,g=o)}return[Math.sqrt(m),g]}(t,r,n),l=a[1];if(isNaN(a[0])){e(t,r,l-1,o,s),s.push(t[l]);do{++l}while(l<=n&&isNaN(t[l].scrCoords[1]+t[l].scrCoords[2]));l<=n&&s.push(t[l]),e(t,l+1,n,o,s)}else a[0]>o?(e(t,r,l,o,s),e(t,l,n,o,s)):s.push(t[n])};for(o=e.length,r=0;;){for(;r<o&&isNaN(e[r].scrCoords[1]+e[r].scrCoords[2]);)r+=1;for(n=r+1;n<o&&!isNaN(e[n].scrCoords[1]+e[n].scrCoords[2]);)n+=1;if(n--,r<o&&n>r&&((a=[])[0]=e[r],l(e,r,n,t,a),s=s.concat(a)),r>=o)break;n<o-1&&s.push(e[n+1]),r=n+1}return s},RamerDouglasPeuker:function(t,r){return e.deprecated("Numerics.RamerDouglasPeuker()","Numerics.RamerDouglasPeucker()"),this.RamerDouglasPeucker(t,r)},Visvalingam:function(t,r){var i,n,o,s,a,l,c,u,h,d=[],p=[],f=[];if((n=t.length)<=2)return t;for(d[0]={used:!0,lft:null,node:null},a=0,i=1;i<n-1;i++)o=Math.abs(e.Math.Numerics.det([t[i-1].usrCoords,t[i].usrCoords,t[i+1].usrCoords])),isNaN(o)||(h={v:o,idx:i},p.push(h),d[i]={used:!0,lft:a,node:h},d[a].rt=i,a=i);for(d[n-1]={used:!0,rt:null,lft:a,node:null},d[a].rt=n-1,s=-1/0;p.length>r;)p.sort((function(e,t){return t.v-e.v})),d[i=p.pop().idx].used=!1,s=d[i].node.v,a=d[i].lft,l=d[i].rt,d[a].rt=l,d[l].lft=a,null!==(c=d[a].lft)&&(o=Math.abs(e.Math.Numerics.det([t[c].usrCoords,t[a].usrCoords,t[l].usrCoords])),d[a].node.v=o>=s?o:s),null!==(u=d[l].rt)&&(o=Math.abs(e.Math.Numerics.det([t[a].usrCoords,t[l].usrCoords,t[u].usrCoords])),d[l].node.v=o>=s?o:s);f=[t[i=0]];do{i=d[i].rt,f.push(t[i])}while(null!==d[i].rt);return f}},i.Numerics})),define("math/nlp",["jxg"],(function(e){"use strict";return e.Math.Nlp={arr:function(e){var t,r=new Array(e);for(t=0;t<e;t++)r[t]=0;return r},arr2:function(e,t){for(var r=0,i=new Array(e);r<e;)i[r]=this.arr(t),r++;return i},arraycopy:function(e,t,r,i,n){for(var o=0;o<n;)r[o+i]=e[o+t],o++},Normal:0,MaxIterationsReached:1,DivergingRoundingErrors:2,FindMinimum:function(e,t,r,i,n,o,s,a){var l,c,u=r+2,h=this.arr(t+1),d=this;return h[0]=0,this.arraycopy(i,0,h,1,t),c=function(t,r,i,n){var o,s,a=d.arr(t);return d.arraycopy(i,1,a,0,t),o=d.arr(r),s=e(t,r,a,o),d.arraycopy(o,0,n,1,r),s},l=this.cobylb(c,t,r,u,h,n,o,s,a),this.arraycopy(h,1,i,0,t),l},cobylb:function(e,t,r,i,n,o,s,a,l){var c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T,k,N,M,A,R,L,I,D,j,B=-1,Y=0,z=0,F=t+1,X=r+1,Z=o,U=0,G=!1,J=!1,H=0,V=0,q=0,W=this.arr(1+i),$=this.arr2(1+t,1+F),K=this.arr2(1+t,1+t),Q=this.arr2(1+i,1+F),ee=this.arr2(1+t,1+X),te=this.arr(1+t),re=this.arr(1+t),ie=this.arr(1+t),ne=this.arr(1+t),oe=this.arr(1+t);for(a>=2&&console.log("The initial value of RHO is "+Z+" and PARMU is set to zero."),m=0,f=1/Z,u=1;u<=t;++u)$[u][F]=n[u],$[u][u]=Z,K[u][u]=f;g=F,b=!1;e:for(;;){if(m>=l&&m>0){B=this.MaxIterationsReached;break e}for(++m,Y=e(t,r,n,W),z=0,d=1;d<=r;++d)z=Math.max(z,-W[d]);if(m!==a-1&&3!==a||this.PrintIterationResult(m,Y,z,n,t,a),W[X]=Y,W[i]=z,y=!0,!b){for(y=!1,u=1;u<=i;++u)Q[u][g]=W[u];if(m<=F){if(g<=t)if(Q[X][F]<=Y)n[g]=$[g][F];else{for($[g][F]=n[g],d=1;d<=i;++d)Q[d][g]=Q[d][F],Q[d][F]=W[d];for(d=1;d<=g;++d){for($[g][d]=-Z,f=0,u=d;u<=g;++u)f-=K[u][d];K[g][d]=f}}if(m<=t){n[g=m]+=Z;continue e}}b=!0}t:for(;;){r:do{if(!y){for(_=Q[X][F]+U*Q[i][F],C=F,h=1;h<=t;++h)(f=Q[X][h]+U*Q[i][h])<_?(C=h,_=f):f===_&&0===U&&Q[i][h]<Q[i][C]&&(C=h);if(C<=t){for(u=1;u<=i;++u)f=Q[u][F],Q[u][F]=Q[u][C],Q[u][C]=f;for(u=1;u<=t;++u){for(f=$[u][C],$[u][C]=0,$[u][F]+=f,v=0,d=1;d<=t;++d)$[u][d]-=f,v-=K[d][u];K[C][u]=v}}for(x=0,u=1;u<=t;++u)for(h=1;h<=t;++h)f=this.DOT_PRODUCT(this.PART(this.ROW(K,u),1,t),this.PART(this.COL($,h),1,t))-(u===h?1:0),x=Math.max(x,Math.abs(f));if(x>.1){B=this.DivergingRoundingErrors;break e}for(d=1;d<=X;++d){for(W[d]=-Q[d][F],h=1;h<=t;++h)oe[h]=Q[d][h]+W[d];for(u=1;u<=t;++u)ee[u][d]=(d===X?-1:1)*this.DOT_PRODUCT(this.PART(oe,1,t),this.PART(this.COL(K,u),1,t))}for(G=!0,H=.25*Z,w=2.1*Z,h=1;h<=t;++h){for(P=0,d=1;d<=t;++d)P+=K[h][d]*K[h][d];for(S=0,d=1;d<=t;++d)S+=$[d][h]*$[d][h];te[h]=1/Math.sqrt(P),re[h]=Math.sqrt(S),(te[h]<H||re[h]>w)&&(G=!1)}if(!b&&!G){for(g=0,f=w,h=1;h<=t;++h)re[h]>f&&(g=h,f=re[h]);if(0===g)for(h=1;h<=t;++h)te[h]<f&&(g=h,f=te[h]);for(f=.5*Z*te[g],d=1;d<=t;++d)ne[d]=f*K[g][d];for(E=0,O=0,c=0,d=1;d<=X;++d)c=this.DOT_PRODUCT(this.PART(this.COL(ee,d),1,t),this.PART(ne,1,t)),d<X&&(f=Q[d][F],E=Math.max(E,-c-f),O=Math.max(O,c-f));for(T=U*(E-O)>2*c?-1:1,f=0,u=1;u<=t;++u)ne[u]=T*ne[u],$[u][g]=ne[u],f+=K[g][u]*ne[u];for(d=1;d<=t;++d)K[g][d]/=f;for(h=1;h<=t;++h){if(h!==g)for(f=this.DOT_PRODUCT(this.PART(this.ROW(K,h),1,t),this.PART(ne,1,t)),d=1;d<=t;++d)K[h][d]-=f*K[g][d];n[h]=$[h][F]+ne[h]}continue e}if(!(J=this.trstlp(t,r,ee,W,Z,ne))){for(f=0,d=1;d<=t;++d)f+=ne[d]*ne[d];if(f<.25*Z*Z){b=!0;break r}}for(c=0,k=0,W[X]=0,d=1;d<=X;++d)c=W[d]-this.DOT_PRODUCT(this.PART(this.COL(ee,d),1,t),this.PART(ne,1,t)),d<X&&(k=Math.max(k,c));if(U<1.5*(N=(V=Q[i][F]-k)>0?c/V:0))for(U=2*N,a>=2&&console.log("Increase in PARMU to "+U),M=Q[X][F]+U*Q[i][F],h=1;h<=t;++h)if((f=Q[X][h]+U*Q[i][h])<M||f===M&&0===U&&Q[i][h]<Q[i][F])continue t;for(q=U*V-c,d=1;d<=t;++d)n[d]=$[d][F]+ne[d];b=!0;continue e}for(y=!1,A=Q[X][F]+U*Q[i][F]-(Y+U*z),0===U&&Y===Q[X][F]&&(q=V,A=Q[i][F]-z),R=A<=0?1:0,g=0,h=1;h<=t;++h)(f=Math.abs(this.DOT_PRODUCT(this.PART(this.ROW(K,h),1,t),this.PART(ne,1,t))))>R&&(g=h,R=f),ie[h]=f*te[h];for(L=1.1*Z,p=0,h=1;h<=t;++h)if(ie[h]>=H||ie[h]>=te[h]){if(f=re[h],A>0){for(f=0,d=1;d<=t;++d)f+=Math.pow(ne[d]-$[d][h],2);f=Math.sqrt(f)}f>L&&(p=h,L=f)}if(p>0&&(g=p),0!==g){for(f=0,u=1;u<=t;++u)$[u][g]=ne[u],f+=K[g][u]*ne[u];for(d=1;d<=t;++d)K[g][d]/=f;for(h=1;h<=t;++h)if(h!==g)for(f=this.DOT_PRODUCT(this.PART(this.ROW(K,h),1,t),this.PART(ne,1,t)),d=1;d<=t;++d)K[h][d]-=f*K[g][d];for(d=1;d<=i;++d)Q[d][g]=W[d];if(A>0&&A>=.1*q)continue t}}while(0);if(G){if(Z<=s){B=this.Normal;break e}if(I=0,D=0,(Z*=.5)<=1.5*s&&(Z=s),U>0){for(j=0,d=1;d<=X;++d){for(D=I=Q[d][F],u=1;u<=t;++u)I=Math.min(I,Q[d][u]),D=Math.max(D,Q[d][u]);d<=r&&I<.5*D&&(f=Math.max(D,0)-I,j=j<=0?f:Math.min(j,f))}0===j?U=0:D-I<U*j&&(U=(D-I)/j)}a>=2&&console.log("Reduction in RHO to "+Z+"  and PARMU = "+U),2===a&&this.PrintIterationResult(m,Q[X][F],Q[i][F],this.COL($,F),t,a)}else b=!1}}switch(B){case this.Normal:if(a>=1&&console.log("%nNormal return from subroutine COBYLA%n"),J)return a>=1&&this.PrintIterationResult(m,Y,z,n,t,a),B;break;case this.MaxIterationsReached:a>=1&&console.log("%nReturn from subroutine COBYLA because the MAXFUN limit has been reached.%n");break;case this.DivergingRoundingErrors:a>=1&&console.log("%nReturn from subroutine COBYLA because rounding errors are becoming damaging.%n")}for(d=1;d<=t;++d)n[d]=$[d][F];return Y=Q[X][F],z=Q[i][F],a>=1&&this.PrintIterationResult(m,Y,z,n,t,a),B},trstlp:function(e,t,r,i,n,o){var s,a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T,k,N,M,A,R,L,I,D,j,B,Y=0,z=0,F=0,X=this.arr2(1+e,1+e),Z=this.arr(2+t),U=this.arr(2+t),G=this.arr(1+e),J=this.arr(1+e),H=this.arr(2+t),V=this.arr(2+t),q=t,W=0;for(l=1;l<=e;++l)X[l][l]=1,o[l]=0;if(s=0,a=0,t>=1){for(c=1;c<=t;++c)i[c]>a&&(a=i[c],s=c);for(c=1;c<=t;++c)V[c]=c,U[c]=a-i[c]}u=!0;do{e:for(;;){(!u||u&&0===a)&&(s=q=t+1,V[q]=q,U[q]=0),u=!1,h=0,d=0,p=0,f=0;t:do{if(v=q===t?a:-this.DOT_PRODUCT(this.PART(o,1,e),this.PART(this.COL(r,q),1,e)),0===d||v<h?(h=v,z=W,d=3):W>z?(z=W,d=3):--d,0===d)break e;if(m=0,s<=W){if(s<W){g=V[s],b=U[s],c=s;do{for(C=V[_=c+1],x=this.DOT_PRODUCT(this.PART(this.COL(X,c),1,e),this.PART(this.COL(r,C),1,e)),Y=Math.sqrt(x*x+Z[_]*Z[_]),w=Z[_]/Y,P=x/Y,Z[_]=w*Z[c],Z[c]=Y,l=1;l<=e;++l)Y=w*X[l][_]+P*X[l][c],X[l][_]=w*X[l][c]-P*X[l][_],X[l][c]=Y;V[c]=C,U[c]=U[_],c=_}while(c<W);V[c]=g,U[c]=b}if(--W,q>t)for(Y=1/Z[W],c=1;c<=e;++c)G[c]=Y*X[c][W];else for(Y=this.DOT_PRODUCT(this.PART(G,1,e),this.PART(this.COL(X,W+1),1,e)),c=1;c<=e;++c)G[c]-=Y*X[c][W+1]}else{for(C=V[s],c=1;c<=e;++c)J[c]=r[c][C];for(S=0,c=e;c>W;){for(x=0,E=0,l=1;l<=e;++l)x+=Y=X[l][c]*J[l],E+=Math.abs(Y);if(O=E+.1*Math.abs(x),T=E+.2*Math.abs(x),(E>=O||O>=T)&&(x=0),0===S)S=x;else for(_=c+1,w=x/(Y=Math.sqrt(x*x+S*S)),P=S/Y,S=Y,l=1;l<=e;++l)Y=w*X[l][c]+P*X[l][_],X[l][_]=w*X[l][_]-P*X[l][c],X[l][c]=Y;--c}if(0===S){m=-1,c=W;do{for(k=0,N=0,l=1;l<=e;++l)k+=Y=X[l][c]*J[l],N+=Math.abs(Y);if(O=N+.1*Math.abs(k),T=N+.2*Math.abs(k),N<O&&O<T){if((Y=k/Z[c])>0&&V[c]<=t&&(B=U[c]/Y,(m<0||B<m)&&(m=B)),c>=2)for(M=V[c],l=1;l<=e;++l)J[l]-=Y*r[l][M];H[c]=Y}else H[c]=0}while(--c>0);if(m<0)break e;for(c=1;c<=W;++c)U[c]=Math.max(0,U[c]-m*H[c]);if(s<W){g=V[s],b=U[s],c=s;do{for(M=V[_=c+1],x=this.DOT_PRODUCT(this.PART(this.COL(X,c),1,e),this.PART(this.COL(r,M),1,e)),Y=Math.sqrt(x*x+Z[_]*Z[_]),w=Z[_]/Y,P=x/Y,Z[_]=w*Z[c],Z[c]=Y,l=1;l<=e;++l)Y=w*X[l][_]+P*X[l][c],X[l][_]=w*X[l][c]-P*X[l][_],X[l][c]=Y;V[c]=M,U[c]=U[_],c=_}while(c<W);V[c]=g,U[c]=b}if(0===(Y=this.DOT_PRODUCT(this.PART(this.COL(X,W),1,e),this.PART(this.COL(r,C),1,e))))break e;Z[W]=Y,U[s]=0,U[W]=m}else Z[++W]=S,U[s]=U[W],U[W]=0;if(V[s]=V[W],V[W]=C,q>t&&C!==q){for(c=W-1,x=this.DOT_PRODUCT(this.PART(this.COL(X,c),1,e),this.PART(this.COL(r,C),1,e)),Y=Math.sqrt(x*x+Z[W]*Z[W]),w=Z[W]/Y,P=x/Y,Z[W]=w*Z[c],Z[c]=Y,l=1;l<=e;++l)Y=w*X[l][W]+P*X[l][c],X[l][W]=w*X[l][c]-P*X[l][W],X[l][c]=Y;V[W]=V[c],V[c]=C,Y=U[c],U[c]=U[W],U[W]=Y}if(q>t)for(Y=1/Z[W],c=1;c<=e;++c)G[c]=Y*X[c][W];else for(C=V[W],Y=(this.DOT_PRODUCT(this.PART(G,1,e),this.PART(this.COL(r,C),1,e))-1)/Z[W],c=1;c<=e;++c)G[c]-=Y*X[c][W]}for(A=n*n,L=0,R=0,l=1;l<=e;++l)Math.abs(o[l])>=1e-6*n&&(A-=o[l]*o[l]),L+=o[l]*G[l],R+=G[l]*G[l];if(A<=0)break e;if(Y=Math.sqrt(R*A),Math.abs(L)>=1e-6*Y&&(Y=Math.sqrt(R*A+L*L)),p=f=A/(Y+L),q===t){if(T=p+.2*a,p>=(O=p+.1*a)||O>=T)break t;p=Math.min(p,a)}for(c=1;c<=e;++c)J[c]=o[c]+p*G[c];if(q===t)for(F=a,a=0,c=1;c<=W;++c)Y=i[C=V[c]]-this.DOT_PRODUCT(this.PART(this.COL(r,C),1,e),this.PART(J,1,e)),a=Math.max(a,Y);c=W;do{for(I=0,D=0,l=1;l<=e;++l)I+=Y=X[l][c]*J[l],D+=Math.abs(Y);if(O=D+.1*Math.abs(I),T=D+.2*Math.abs(I),(D>=O||O>=T)&&(I=0),H[c]=I/Z[c],c>=2)for(C=V[c],l=1;l<=e;++l)J[l]-=H[c]*r[l][C]}while(c-- >=2);for(q>t&&(H[W]=Math.max(0,H[W])),c=1;c<=e;++c)J[c]=o[c]+p*G[c];if(q>W)for(c=W+1;c<=q;++c){for(y=a-i[C=V[c]],j=a+Math.abs(i[C]),l=1;l<=e;++l)y+=Y=r[l][C]*J[l],j+=Math.abs(Y);O=j+.1*Math.abs(y),T=j+.2*Math.abs(y),(j>=O||O>=T)&&(y=0),H[c]=y}for(m=1,s=0,c=1;c<=q;++c)H[c]<0&&(Y=U[c]/(U[c]-H[c]))<m&&(m=Y,s=c);for(Y=1-m,c=1;c<=e;++c)o[c]=Y*o[c]+m*J[c];for(c=1;c<=q;++c)U[c]=Math.max(0,Y*U[c]+m*H[c]);q===t&&(a=F+m*(a-F))}while(s>0);if(p===f)return!0}}while(q===t);return!1},PrintIterationResult:function(e,t,r,i,n,o){o>1&&console.log("NFVALS = "+e+"  F = "+t+"  MAXCV = "+r),o>1&&console.log("X = "+this.PART(i,1,n))},ROW:function(e,t){return e[t].slice()},COL:function(e,t){var r,i=e.length,n=this.arr(i);for(r=0;r<i;++r)n[r]=e[r][t];return n},PART:function(e,t,r){return e.slice(t,r+1)},FORMAT:function(e){return e.join(",")},DOT_PRODUCT:function(e,t){var r,i=0,n=e.length;for(r=0;r<n;++r)i+=e[r]*t[r];return i}},e.Math.Nlp})),define("math/statistics",["jxg","math/math","utils/type"],(function(e,t,r){"use strict";return t.Statistics={sum:function(e){var t,r=e.length,i=0;for(t=0;t<r;t++)i+=e[t];return i},prod:function(e){var t,r=e.length,i=1;for(t=0;t<r;t++)i*=e[t];return i},mean:function(e){return e.length>0?this.sum(e)/e.length:0},median:function(e){var t,r;return e.length>0?(ArrayBuffer.isView(e)?(t=new Float64Array(e)).sort():(t=e.slice(0)).sort((function(e,t){return e-t})),1&(r=t.length)?t[parseInt(.5*r,10)]:.5*(t[.5*r-1]+t[.5*r])):0},percentile:function(e,t){var i,n,o,s,a,l=[];if(e.length>0){for(ArrayBuffer.isView(e)?(i=new Float64Array(e)).sort():(i=e.slice(0)).sort((function(e,t){return e-t})),n=i.length,s=r.isArray(t)?t:[t],o=0;o<s.length;o++)a=n*s[o]*.01,parseInt(a,10)===a?l.push(.5*(i[a-1]+i[a])):l.push(i[parseInt(a,10)]);return r.isArray(t)?l:l[0]}return 0},variance:function(e){var t,r,i,n=e.length;if(n>1){for(t=this.mean(e),r=0,i=0;i<n;i++)r+=(e[i]-t)*(e[i]-t);return r/(e.length-1)}return 0},sd:function(e){return Math.sqrt(this.variance(e))},weightedMean:function(e,t){if(e.length!==t.length)throw new Error("JSXGraph error (Math.Statistics.weightedMean): Array dimension mismatch.");return e.length>0?this.mean(this.multiply(e,t)):0},max:function(e){return Math.max.apply(this,e)},min:function(e){return Math.min.apply(this,e)},range:function(e){return[this.min(e),this.max(e)]},abs:function(e){var t,i,n;if(r.isArray(e))if(e.map)n=e.map(Math.abs);else for(i=e.length,n=[],t=0;t<i;t++)n[t]=Math.abs(e[t]);else n=ArrayBuffer.isView(e)?e.map(Math.abs):Math.abs(e);return n},add:function(e,t){var i,n,o=[];if(e=r.evalSlider(e),t=r.evalSlider(t),r.isArray(e)&&r.isNumber(t))for(n=e.length,i=0;i<n;i++)o[i]=e[i]+t;else if(r.isNumber(e)&&r.isArray(t))for(n=t.length,i=0;i<n;i++)o[i]=e+t[i];else if(r.isArray(e)&&r.isArray(t))for(n=Math.min(e.length,t.length),i=0;i<n;i++)o[i]=e[i]+t[i];else o=e+t;return o},div:function(e,t){var i,n,o=[];if(e=r.evalSlider(e),t=r.evalSlider(t),r.isArray(e)&&r.isNumber(t))for(n=e.length,i=0;i<n;i++)o[i]=e[i]/t;else if(r.isNumber(e)&&r.isArray(t))for(n=t.length,i=0;i<n;i++)o[i]=e/t[i];else if(r.isArray(e)&&r.isArray(t))for(n=Math.min(e.length,t.length),i=0;i<n;i++)o[i]=e[i]/t[i];else o=e/t;return o},divide:function(){e.deprecated("Statistics.divide()","Statistics.div()"),t.Statistics.div.apply(t.Statistics,arguments)},mod:function(e,i,n){var o,s,a=[],l=function(e,t){return e%t};if((n=r.def(n,!1))&&(l=t.mod),e=r.evalSlider(e),i=r.evalSlider(i),r.isArray(e)&&r.isNumber(i))for(s=e.length,o=0;o<s;o++)a[o]=l(e[o],i);else if(r.isNumber(e)&&r.isArray(i))for(s=i.length,o=0;o<s;o++)a[o]=l(e,i[o]);else if(r.isArray(e)&&r.isArray(i))for(s=Math.min(e.length,i.length),o=0;o<s;o++)a[o]=l(e[o],i[o]);else a=l(e,i);return a},multiply:function(e,t){var i,n,o=[];if(e=r.evalSlider(e),t=r.evalSlider(t),r.isArray(e)&&r.isNumber(t))for(n=e.length,i=0;i<n;i++)o[i]=e[i]*t;else if(r.isNumber(e)&&r.isArray(t))for(n=t.length,i=0;i<n;i++)o[i]=e*t[i];else if(r.isArray(e)&&r.isArray(t))for(n=Math.min(e.length,t.length),i=0;i<n;i++)o[i]=e[i]*t[i];else o=e*t;return o},subtract:function(e,t){var i,n,o=[];if(e=r.evalSlider(e),t=r.evalSlider(t),r.isArray(e)&&r.isNumber(t))for(n=e.length,i=0;i<n;i++)o[i]=e[i]-t;else if(r.isNumber(e)&&r.isArray(t))for(n=t.length,i=0;i<n;i++)o[i]=e-t[i];else if(r.isArray(e)&&r.isArray(t))for(n=Math.min(e.length,t.length),i=0;i<n;i++)o[i]=e[i]-t[i];else o=e-t;return o},TheilSenRegression:function(e){var r,i,n=[],o=[],s=[];for(r=0;r<e.length;r++){for(o.length=0,i=0;i<e.length;i++)Math.abs(e[i].usrCoords[1]-e[r].usrCoords[1])>t.eps&&(o[i]=(e[i].usrCoords[2]-e[r].usrCoords[2])/(e[i].usrCoords[1]-e[r].usrCoords[1]));n[r]=this.median(o),s.push(e[r].usrCoords[2]-n[r]*e[r].usrCoords[1])}return[this.median(s),this.median(n),-1]},generateGaussian:function(e,t){var r,i,n;if(this.hasSpare)return this.hasSpare=!1,this.spare*t+e;do{n=(r=2*Math.random()-1)*r+(i=2*Math.random()-1)*i}while(n>=1||0===n);return n=Math.sqrt(-2*Math.log(n)/n),this.spare=i*n,this.hasSpare=!0,e+t*r*n}},t.Statistics})),define("math/geometry",["jxg","base/constants","base/coords","math/math","math/numerics","utils/type","utils/expect"],(function(e,t,r,i,n,o,s){"use strict";return i.Geometry={},e.extend(i.Geometry,{angle:function(t,r,i){var n,o,s,a,l=[],c=[],u=[];return e.deprecated("Geometry.angle()","Geometry.rad()"),t.coords?(l[0]=t.coords.usrCoords[1],l[1]=t.coords.usrCoords[2]):(l[0]=t[0],l[1]=t[1]),r.coords?(c[0]=r.coords.usrCoords[1],c[1]=r.coords.usrCoords[2]):(c[0]=r[0],c[1]=r[1]),i.coords?(u[0]=i.coords.usrCoords[1],u[1]=i.coords.usrCoords[2]):(u[0]=i[0],u[1]=i[1]),n=l[0]-c[0],o=l[1]-c[1],s=u[0]-c[0],a=u[1]-c[1],Math.atan2(n*a-o*s,n*s+o*a)},trueAngle:function(e,t,r){return 57.29577951308232*this.rad(e,t,r)},rad:function(e,t,r){var i,n,o,s,a,l,c;return e.coords?(i=e.coords.usrCoords[1],n=e.coords.usrCoords[2]):(i=e[0],n=e[1]),t.coords?(o=t.coords.usrCoords[1],s=t.coords.usrCoords[2]):(o=t[0],s=t[1]),r.coords?(a=r.coords.usrCoords[1],l=r.coords.usrCoords[2]):(a=r[0],l=r[1]),(c=Math.atan2(l-s,a-o)-Math.atan2(n-s,i-o))<0&&(c+=6.283185307179586),c},angleBisector:function(e,i,n,s){var a,l,c,u,h,d=e.coords.usrCoords,p=i.coords.usrCoords,f=n.coords.usrCoords;return o.exists(s)||(s=e.board),0===p[0]?new r(t.COORDS_BY_USER,[1,.5*(d[1]+f[1]),.5*(d[2]+f[2])],s):(u=d[1]-p[1],h=d[2]-p[2],a=Math.atan2(h,u),u=f[1]-p[1],h=f[2]-p[2],c=.5*(a+(l=Math.atan2(h,u))),a>l&&(c+=Math.PI),u=Math.cos(c)+p[1],h=Math.sin(c)+p[2],new r(t.COORDS_BY_USER,[1,u,h],s))},reflection:function(e,i,n){var s,a,l,c,u,h,d=i.coords.usrCoords,p=e.point1.coords.usrCoords,f=e.point2.coords.usrCoords;return o.exists(n)||(n=i.board),c=f[1]-p[1],u=f[2]-p[2],s=d[1]-p[1],h=(c*(d[2]-p[2])-u*s)/(c*c+u*u),a=d[1]+2*h*u,l=d[2]-2*h*c,new r(t.COORDS_BY_USER,[a,l],n)},rotation:function(e,i,n,s){var a,l,c,u,h,d,p=i.coords.usrCoords,f=e.coords.usrCoords;return o.exists(s)||(s=i.board),a=p[1]-f[1],l=p[2]-f[2],h=a*(c=Math.cos(n))-l*(u=Math.sin(n))+f[1],d=a*u+l*c+f[2],new r(t.COORDS_BY_USER,[h,d],s)},perpendicular:function(e,n,s){var a,l,c,u,h,d=e.point1.coords.usrCoords,p=e.point2.coords.usrCoords,f=n.coords.usrCoords;return o.exists(s)||(s=n.board),n===e.point1?(a=d[1]+p[2]-d[2],l=d[2]-p[1]+d[1],h=d[0]*p[0],Math.abs(h)<i.eps&&(a=p[2],l=-p[1]),u=[h,a,l],c=!0):n===e.point2?(a=p[1]+d[2]-p[2],l=p[2]-d[1]+p[1],h=d[0]*p[0],Math.abs(h)<i.eps&&(a=d[2],l=-d[1]),u=[h,a,l],c=!1):Math.abs(i.innerProduct(f,e.stdform,3))<i.eps?(a=f[1]+p[2]-f[2],l=f[2]-p[1]+f[1],h=p[0],Math.abs(h)<i.eps&&(a=p[2],l=-p[1]),c=!0,Math.abs(h)>i.eps&&Math.abs(a-f[1])<i.eps&&Math.abs(l-f[2])<i.eps&&(a=f[1]+d[2]-f[2],l=f[2]-d[1]+f[1],c=!1),u=[h,a,l]):(u=[0,e.stdform[1],e.stdform[2]],u=i.crossProduct(u,f),u=i.crossProduct(u,e.stdform),c=!0),[new r(t.COORDS_BY_USER,u,s),c]},circumcenterMidpoint:function(){e.deprecated("Geometry.circumcenterMidpoint()","Geometry.circumcenter()"),this.circumcenter.apply(this,arguments)},circumcenter:function(e,n,s,a){var l,c,u,h,d=e.coords.usrCoords,p=n.coords.usrCoords,f=s.coords.usrCoords;return o.exists(a)||(a=e.board),l=[p[0]-d[0],-p[2]+d[2],p[1]-d[1]],c=[.5*(d[0]+p[0]),.5*(d[1]+p[1]),.5*(d[2]+p[2])],u=i.crossProduct(l,c),l=[f[0]-p[0],-f[2]+p[2],f[1]-p[1]],c=[.5*(p[0]+f[0]),.5*(p[1]+f[1]),.5*(p[2]+f[2])],h=i.crossProduct(l,c),new r(t.COORDS_BY_USER,i.crossProduct(u,h),a)},distance:function(e,t,r){var i,n=0;for(r||(r=Math.min(e.length,t.length)),i=0;i<r;i++)n+=(e[i]-t[i])*(e[i]-t[i]);return Math.sqrt(n)},affineDistance:function(e,t,r){var n;return(n=this.distance(e,t,r))>i.eps&&(Math.abs(e[0])<i.eps||Math.abs(t[0])<i.eps)?1/0:n},affineRatio:function(e,t,r){var n;return o.exists(e.usrCoords)&&(e=e.usrCoords),o.exists(t.usrCoords)&&(t=t.usrCoords),o.exists(r.usrCoords)&&(r=r.usrCoords),n=t[1]-e[1],Math.abs(n)>i.eps?(r[1]-e[1])/n:(r[2]-e[2])/(t[2]-e[2])},sortVertices:function(e){for(var t,r=s.each(e,s.coordsArray),i=r.length,n=null;r[0][0]===r[i-1][0]&&r[0][1]===r[i-1][1]&&r[0][2]===r[i-1][2];)n=r.pop(),i--;return t=r[0],r.sort((function(e,r){return(e[2]===t[2]&&e[1]===t[1]?-1/0:Math.atan2(e[2]-t[2],e[1]-t[1]))-(r[2]===t[2]&&r[1]===t[1]?-1/0:Math.atan2(r[2]-t[2],r[1]-t[1]))})),null!==n&&r.push(n),r},signedTriangle:function(e,t,r){var i=s.coordsArray(e),n=s.coordsArray(t),o=s.coordsArray(r);return.5*((n[1]-i[1])*(o[2]-i[2])-(n[2]-i[2])*(o[1]-i[1]))},signedPolygon:function(e,t){var r,i,n=0,o=s.each(e,s.coordsArray);for(void 0===t&&(t=!0),t?o.unshift(o[o.length-1]):o=this.sortVertices(o),i=o.length,r=1;r<i;r++)n+=o[r-1][1]*o[r][2]-o[r][1]*o[r-1][2];return.5*n},GrahamScan:function(e){var t,r=1,i=s.each(e,s.coordsArray),n=i.length;for(n=(i=this.sortVertices(i)).length,t=2;t<n;t++){for(;this.signedTriangle(i[r-1],i[r],i[t])<=0;){if(r>1)r-=1;else if(t===n-1)break;t+=1}r+=1,i=o.swap(i,r,t)}return i.slice(0,r)},calcStraight:function(e,r,n,s){var a,l,c,u,h,d,p,f,v,m;if(o.exists(s)||(s=10),d=o.evaluate(e.visProp.straightfirst),p=o.evaluate(e.visProp.straightlast),Math.abs(r.scrCoords[0])<i.eps&&(d=!0),Math.abs(n.scrCoords[0])<i.eps&&(p=!0),(d||p)&&((f=[])[0]=e.stdform[0]-e.stdform[1]*e.board.origin.scrCoords[1]/e.board.unitX+e.stdform[2]*e.board.origin.scrCoords[2]/e.board.unitY,f[1]=e.stdform[1]/e.board.unitX,f[2]=-e.stdform[2]/e.board.unitY,!isNaN(f[0]+f[1]+f[2]))){if(a=!d&&Math.abs(r.usrCoords[0])>=i.eps&&r.scrCoords[1]>=0&&r.scrCoords[1]<=e.board.canvasWidth&&r.scrCoords[2]>=0&&r.scrCoords[2]<=e.board.canvasHeight,l=!p&&Math.abs(n.usrCoords[0])>=i.eps&&n.scrCoords[1]>=0&&n.scrCoords[1]<=e.board.canvasWidth&&n.scrCoords[2]>=0&&n.scrCoords[2]<=e.board.canvasHeight,u=(c=this.meetLineBoard(f,e.board,s))[0],h=c[1],!a&&!l){if(!d&&p&&!this.isSameDirection(r,n,u)&&!this.isSameDirection(r,n,h))return;if(d&&!p&&!this.isSameDirection(n,r,u)&&!this.isSameDirection(n,r,h))return}a?l||(m=this.isSameDir(r,n,u,h)?h:u):l?v=this.isSameDir(r,n,u,h)?u:h:this.isSameDir(r,n,u,h)?(v=u,m=h):(m=u,v=h),v&&r.setCoordinates(t.COORDS_BY_USER,v.usrCoords),m&&n.setCoordinates(t.COORDS_BY_USER,m.usrCoords)}},calcLineDelimitingPoints:function(e,r,n){var s,a,l,c,u,h,d,p,f,v,m;if(u=o.evaluate(e.visProp.straightfirst),h=o.evaluate(e.visProp.straightlast),Math.abs(r.scrCoords[0])<i.eps&&(u=!0),Math.abs(n.scrCoords[0])<i.eps&&(h=!0),(d=[])[0]=e.stdform[0]-e.stdform[1]*e.board.origin.scrCoords[1]/e.board.unitX+e.stdform[2]*e.board.origin.scrCoords[2]/e.board.unitY,d[1]=e.stdform[1]/e.board.unitX,d[2]=-e.stdform[2]/e.board.unitY,!isNaN(d[0]+d[1]+d[2])){if(v=!u,m=!h,a=e.board.getBoundingBox(),e.getSlope()>=0?(l=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[1]]}},e,e.board),c=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[3]]}},e,e.board)):(l=this.projectPointToLine({coords:{usrCoords:[1,a[0],a[1]]}},e,e.board),c=this.projectPointToLine({coords:{usrCoords:[1,a[2],a[3]]}},e,e.board)),!v&&!m){if(!u&&!h){if(s=r.distance(t.COORDS_BY_USER,n),Math.abs(r.distance(t.COORDS_BY_USER,l)+l.distance(t.COORDS_BY_USER,n)-s)>i.eps)return;if(Math.abs(r.distance(t.COORDS_BY_USER,c)+c.distance(t.COORDS_BY_USER,n)-s)>i.eps)return}if(!u&&h&&!this.isSameDirection(r,n,l)&&!this.isSameDirection(r,n,c))return;if(u&&!h&&!this.isSameDirection(n,r,l)&&!this.isSameDirection(n,r,c))return}v?m||(f=this.isSameDir(r,n,l,c)?c:l):m?p=this.isSameDir(r,n,l,c)?l:c:this.isSameDir(r,n,l,c)?(p=l,f=c):(f=l,p=c),p&&r.setCoordinates(t.COORDS_BY_USER,p.usrCoords),f&&n.setCoordinates(t.COORDS_BY_USER,f.usrCoords)}},calcLabelQuadrant:function(e){return e<0&&(e+=2*Math.PI),["rt","urt","top","ulft","lft","llft","lrt"][Math.floor((e+Math.PI/8)/(Math.PI/4))%8]},isSameDir:function(e,t,r,n){var o=t.usrCoords[1]-e.usrCoords[1],s=t.usrCoords[2]-e.usrCoords[2],a=n.usrCoords[1]-r.usrCoords[1],l=n.usrCoords[2]-r.usrCoords[2];return Math.abs(t.usrCoords[0])<i.eps&&(o=t.usrCoords[1],s=t.usrCoords[2]),Math.abs(e.usrCoords[0])<i.eps&&(o=-e.usrCoords[1],s=-e.usrCoords[2]),o*a+s*l>=0},isSameDirection:function(e,t,r){var n,o,s,a,l=!1;return n=t.usrCoords[1]-e.usrCoords[1],o=t.usrCoords[2]-e.usrCoords[2],s=r.usrCoords[1]-e.usrCoords[1],a=r.usrCoords[2]-e.usrCoords[2],Math.abs(n)<i.eps&&(n=0),Math.abs(o)<i.eps&&(o=0),Math.abs(s)<i.eps&&(s=0),Math.abs(a)<i.eps&&(a=0),(n>=0&&s>=0||n<=0&&s<=0)&&(l=o>=0&&a>=0||o<=0&&a<=0),l},intersectionFunction:function(n,s,a,l,c,u){var h,d,p=this;return h=s.elementClass===t.OBJECT_CLASS_CURVE&&(s.type===t.OBJECT_TYPE_ARC||s.type===t.OBJECT_TYPE_SECTOR),d=a.elementClass===t.OBJECT_CLASS_CURVE&&(a.type===t.OBJECT_TYPE_ARC||a.type===t.OBJECT_TYPE_SECTOR),s.elementClass!==t.OBJECT_CLASS_CURVE&&a.elementClass!==t.OBJECT_CLASS_CURVE||s.elementClass!==t.OBJECT_CLASS_CURVE&&s.elementClass!==t.OBJECT_CLASS_CIRCLE||a.elementClass!==t.OBJECT_CLASS_CURVE&&a.elementClass!==t.OBJECT_CLASS_CIRCLE?s.elementClass===t.OBJECT_CLASS_CURVE&&!h&&a.elementClass===t.OBJECT_CLASS_LINE||a.elementClass===t.OBJECT_CLASS_CURVE&&!d&&s.elementClass===t.OBJECT_CLASS_LINE?function(){return p.meetCurveLine(s,a,l,s.board,u)}:s.elementClass===t.OBJECT_CLASS_LINE&&a.elementClass===t.OBJECT_CLASS_LINE?function(){var e,i,n=o.evaluate(s.visProp.straightfirst),c=o.evaluate(s.visProp.straightlast),h=o.evaluate(a.visProp.straightfirst),d=o.evaluate(a.visProp.straightlast);return o.evaluate(u)||n&&c&&h&&d?p.meet(s.stdform,a.stdform,l,s.board):(e=p.meetSegmentSegment(s.point1.coords.usrCoords,s.point2.coords.usrCoords,a.point1.coords.usrCoords,a.point2.coords.usrCoords),i=!n&&e[1]<0||!c&&e[1]>1||!h&&e[2]<0||!d&&e[2]>1?[0,NaN,NaN]:e[0],new r(t.COORDS_BY_USER,i,s.board))}:function(){var n,c,f,v=p.meet(s.stdform,a.stdform,l,s.board),m=!0;return u?v:s.elementClass===t.OBJECT_CLASS_LINE&&(n=o.evaluate(s.visProp.straightfirst),c=o.evaluate(s.visProp.straightlast),(!n||!c)&&(f=p.affineRatio(s.point1.coords,s.point2.coords,v),!c&&f>1+i.eps||!n&&f<0-i.eps))||a.elementClass===t.OBJECT_CLASS_LINE&&(n=o.evaluate(a.visProp.straightfirst),c=o.evaluate(a.visProp.straightlast),(!n||!c)&&(f=p.affineRatio(a.point1.coords,a.point2.coords,v),!c&&f>1+i.eps||!n&&f<0-i.eps))||h&&((m=p.coordsOnArc(s,v))&&d&&(m=p.coordsOnArc(a,v)),!m)?new r(e.COORDS_BY_USER,[0,NaN,NaN],s.board):v}:function(){return p.meetCurveCurve(s,a,l,c,s.board)}},coordsOnArc:function(e,t){var r=this.rad(e.radiuspoint,e.center,t.usrCoords.slice(1)),i=0,n=this.rad(e.radiuspoint,e.center,e.anglepoint),s=o.evaluate(e.visProp.selection);return("minor"===s&&n>Math.PI||"major"===s&&n<Math.PI)&&(i=n,n=2*Math.PI),!(r<i||r>n)},meet:function(e,t,r,n){var o=i.eps;return Math.abs(e[3])<o&&Math.abs(t[3])<o?this.meetLineLine(e,t,r,n):Math.abs(e[3])>=o&&Math.abs(t[3])<o?this.meetLineCircle(t,e,r,n):Math.abs(e[3])<o&&Math.abs(t[3])>=o?this.meetLineCircle(e,t,r,n):this.meetCircleCircle(e,t,r,n)},meetLineBoard:function(e,n,s){var a,l,c,u,h=[];for(o.exists(s)||(s=0),h[0]=i.crossProduct(e,[s,0,1]),h[1]=i.crossProduct(e,[s,1,0]),h[2]=i.crossProduct(e,[-s-n.canvasHeight,0,1]),h[3]=i.crossProduct(e,[-s-n.canvasWidth,1,0]),c=0;c<4;c++)if(Math.abs(h[c][0])>i.eps){for(u=2;u>0;u--)h[c][u]/=h[c][0];h[c][0]=1}return Math.abs(h[1][0])<i.eps?(a=h[0],l=h[2]):Math.abs(h[0][0])<i.eps?(a=h[1],l=h[3]):h[1][2]<0?(a=h[0],l=h[3][2]>n.canvasHeight?h[2]:h[3]):h[1][2]>n.canvasHeight?(a=h[2],l=h[3][2]<0?h[0]:h[3]):(a=h[1],l=h[3][2]<0?h[0]:h[3][2]>n.canvasHeight?h[2]:h[3]),[a=new r(t.COORDS_BY_SCREEN,a.slice(1),n),l=new r(t.COORDS_BY_SCREEN,l.slice(1),n)]},meetLineLine:function(e,n,o,s){var a=isNaN(e[5]+n[5])?[0,0,0]:i.crossProduct(e,n);return new r(t.COORDS_BY_USER,a,s)},meetLineCircle:function(e,n,o,s){var a,l,c,u,h,d,p,f,v;return n[4]<i.eps?Math.abs(i.innerProduct([1,n[6],n[7]],e,3))<i.eps?new r(t.COORDS_BY_USER,n.slice(6,8),s):new r(t.COORDS_BY_USER,[NaN,NaN],s):(c=n[0],l=n.slice(1,3),a=n[3],u=e[0],h=e.slice(1,3),d=a,(f=(p=l[0]*h[1]-l[1]*h[0])*p-4*d*(a*u*u-(l[0]*h[0]+l[1]*h[1])*u+c))>-i.eps*i.eps?(v=[(-p+(f=Math.sqrt(Math.abs(f))))/(2*d),(-p-f)/(2*d)],new r(t.COORDS_BY_USER,0===o?[-v[0]*-h[1]-u*h[0],-v[0]*h[0]-u*h[1]]:[-v[1]*-h[1]-u*h[0],-v[1]*h[0]-u*h[1]],s)):new r(t.COORDS_BY_USER,[0,0,0],s))},meetCircleCircle:function(e,n,o,s){var a;return e[4]<i.eps?Math.abs(this.distance(e.slice(6,2),n.slice(6,8))-n[4])<i.eps?new r(t.COORDS_BY_USER,e.slice(6,8),s):new r(t.COORDS_BY_USER,[0,0,0],s):n[4]<i.eps?Math.abs(this.distance(n.slice(6,2),e.slice(6,8))-e[4])<i.eps?new r(t.COORDS_BY_USER,n.slice(6,8),s):new r(t.COORDS_BY_USER,[0,0,0],s):(a=[n[3]*e[0]-e[3]*n[0],n[3]*e[1]-e[3]*n[1],n[3]*e[2]-e[3]*n[2],0,1,1/0,1/0,1/0],a=i.normalize(a),this.meetLineCircle(a,e,o,s))},meetCurveCurve:function(e,i,s,a,l,c){var u;return u=o.exists(c)&&"newton"===c?n.generalizedNewton(e,i,s,a):3===e.bezierDegree||3===i.bezierDegree?this.meetBezierCurveRedBlueSegments(e,i,s):this.meetCurveRedBlueSegments(e,i,s),new r(t.COORDS_BY_USER,u,l)},meetCurveLine:function(e,r,i,n,s){var a,l;return o.exists(n)||(n=e.board),e.elementClass===t.OBJECT_CLASS_CURVE?(a=e,l=r):(a=r,l=e),this.meetCurveLineDiscrete(a,l,i,n,!s)},meetCurveLineContinuous:function(e,o,s,a,l){var c,u,h,d,p,f,v,m,g,b,y,_,C,x=i.eps,w=i.eps;for(d=this.meetCurveLineDiscrete(e,o,s,a,l),p=d.usrCoords[1],f=d.usrCoords[2],u=function(t){var r,i;return t>e.maxX()||t<e.minX()?1/0:(r=p-e.X(t))*r+(i=f-e.Y(t))*i},h=function(t){var r=o.stdform[0]+o.stdform[1]*e.X(t)+o.stdform[2]*e.Y(t);return r*r},m=(e.maxX()-e.minX())/50,g=e.minX(),_=1e-4,y=NaN,b=0;b<50&&(c=n.root(u,[Math.max(g,e.minX()),Math.min(g+m,e.maxX())]),!((C=Math.abs(u(c)))<=_&&(y=c,(_=C)<x)));b++)g+=m;return c=y,C=h(c=n.root(h,[Math.max(c-m,e.minX()),Math.min(c+m,e.maxX())])),v=isNaN(C)||Math.abs(C)>w?0:1,new r(t.COORDS_BY_USER,[v,e.X(c),e.Y(c)],a)},meetCurveLineDiscrete:function(e,n,s,a,l){var c,u,h,d,p,f,v,m=n.point1.coords.usrCoords,g=n.point2.coords.usrCoords,b=0,y=e.numberPoints,_=o.evaluate(n.visProp.straightfirst),C=o.evaluate(n.visProp.straightlast);for(f=new r(t.COORDS_BY_USER,[0,NaN,NaN],a),0===m[0]?m=[1,g[1]+n.stdform[2],g[2]-n.stdform[1]]:0===g[0]&&(g=[1,m[1]+n.stdform[2],m[2]-n.stdform[1]]),d=e.points[0].usrCoords,c=1;c<y;c+=e.bezierDegree)if(h=d.slice(0),d=e.points[c].usrCoords,this.distance(h,d)>i.eps)for(v=3===e.bezierDegree?this.meetBeziersegmentBeziersegment([e.points[c-1].usrCoords.slice(1),e.points[c].usrCoords.slice(1),e.points[c+1].usrCoords.slice(1),e.points[c+2].usrCoords.slice(1)],[m.slice(1),g.slice(1)],l):[this.meetSegmentSegment(h,d,m,g)],u=0;u<v.length;u++)if(0<=(p=v[u])[1]&&p[1]<=1){if(b===s)return l&&(!_&&p[2]<0||!C&&p[2]>1)?f:f=new r(t.COORDS_BY_USER,p[0],a);b+=1}return f},meetCurveRedBlueSegments:function(e,t,r){var i,n,o,s,a,l,c,u,h,d=0,p=t.numberPoints,f=e.numberPoints;if(p<=1||f<=1)return[0,NaN,NaN];for(i=1;i<f;i++)for(o=e.points[i-1].usrCoords,s=e.points[i].usrCoords,u=Math.min(o[1],s[1]),h=Math.max(o[1],s[1]),l=t.points[0].usrCoords,n=1;n<p;n++)if(a=l,l=t.points[n].usrCoords,Math.min(a[1],l[1])<h&&Math.max(a[1],l[1])>u&&(c=this.meetSegmentSegment(o,s,a,l))[1]>=0&&c[2]>=0&&(c[1]<1&&c[2]<1||i===f-1&&1===c[1]||n===p-1&&1===c[2])){if(d===r)return c[0];d++}return[0,NaN,NaN]},meetSegmentSegment:function(e,t,r,n){var o,s,a,l=i.crossProduct(e,t),c=i.crossProduct(r,n),u=i.crossProduct(l,c);return Math.abs(u[0])<i.eps?[u,1/0,1/0]:(u[1]/=u[0],u[2]/=u[0],u[0]/=u[0],a=e[s=Math.abs(t[1]-t[0]*e[1])<i.eps?2:1]/e[0],o=(u[s]-a)/(0!==t[0]?t[s]/t[0]-a:t[s]),a=r[s=Math.abs(n[1]-n[0]*r[1])<i.eps?2:1]/r[0],[u,o,(u[s]-a)/(0!==n[0]?n[s]/n[0]-a:n[s])])},_bezierSplit:function(e){var t,r,i,n,o,s;return t=[.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r=[.5*(e[1][0]+e[2][0]),.5*(e[1][1]+e[2][1])],i=[.5*(e[2][0]+e[3][0]),.5*(e[2][1]+e[3][1])],s=[.5*((n=[.5*(t[0]+r[0]),.5*(t[1]+r[1])])[0]+(o=[.5*(r[0]+i[0]),.5*(r[1]+i[1])])[0]),.5*(n[1]+o[1])],[[e[0],t,n,s],[s,o,i,e[3]]]},_bezierBbox:function(e){var t=[];return 4===e.length?(t[0]=Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),t[1]=Math.max(e[0][1],e[1][1],e[2][1],e[3][1]),t[2]=Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),t[3]=Math.min(e[0][1],e[1][1],e[2][1],e[3][1])):(t[0]=Math.min(e[0][0],e[1][0]),t[1]=Math.max(e[0][1],e[1][1]),t[2]=Math.max(e[0][0],e[1][0]),t[3]=Math.min(e[0][1],e[1][1])),t},_bezierOverlap:function(e,t){return e[2]>=t[0]&&e[0]<=t[2]&&e[1]>=t[3]&&e[3]<=t[1]},_bezierListConcat:function(e,t,r,i){var n,s=o.exists(i),a=0,l=t.length,c=e.length;for(c>0&&l>0&&(1===e[c-1][1]&&0===t[0][1]||s&&1===e[c-1][2]&&0===t[0][2])&&(a=1),n=a;n<l;n++)s&&(t[n][2]*=.5,t[n][2]+=i),t[n][1]*=.5,t[n][1]+=r,e.push(t[n])},_bezierMeetSubdivision:function(e,t,r){var i,n,o,s,a,l,c,u,h,d,p,f,v=[];return n=this._bezierBbox(t),i=this._bezierBbox(e),this._bezierOverlap(n,i)?r<5?(l=(o=this._bezierSplit(e))[0],c=o[1],s=(o=this._bezierSplit(t))[0],a=o[1],this._bezierListConcat(v,this._bezierMeetSubdivision(l,s,r+1),0,0),this._bezierListConcat(v,this._bezierMeetSubdivision(l,a,r+1),0,.5),this._bezierListConcat(v,this._bezierMeetSubdivision(c,s,r+1),.5,0),this._bezierListConcat(v,this._bezierMeetSubdivision(c,a,r+1),.5,.5),v):(p=[1].concat(e[0]),f=[1].concat(e[3]),h=[1].concat(t[0]),d=[1].concat(t[3]),(u=this.meetSegmentSegment(p,f,h,d))[1]>=0&&u[2]>=0&&u[1]<=1&&u[2]<=1?[u]:[]):[]},_bezierLineMeetSubdivision:function(e,t,r,i){var n,o,s,a,l,c,u,h,d,p,f=[];return n=this._bezierBbox(t),o=this._bezierBbox(e),i&&!this._bezierOverlap(o,n)?[]:r<5?(a=(s=this._bezierSplit(e))[0],l=s[1],this._bezierListConcat(f,this._bezierLineMeetSubdivision(a,t,r+1),0),this._bezierListConcat(f,this._bezierLineMeetSubdivision(l,t,r+1),.5),f):(d=[1].concat(e[0]),p=[1].concat(e[3]),u=[1].concat(t[0]),h=[1].concat(t[1]),(c=this.meetSegmentSegment(d,p,u,h))[1]>=0&&c[1]<=1&&(!i||c[2]>=0&&c[2]<=1)?[c]:[])},meetBeziersegmentBeziersegment:function(e,t,r){var i,n,o;for((i=4===e.length&&4===t.length?this._bezierMeetSubdivision(e,t,0):this._bezierLineMeetSubdivision(e,t,0,r)).sort((function(e,t){return 1e7*(e[1]-t[1])+(e[2]-t[2])})),n=[],o=0;o<i.length;o++)0!==o&&i[o][1]===i[o-1][1]&&i[o][2]===i[o-1][2]||n.push(i[o]);return n},meetBezierCurveRedBlueSegments:function(e,r,n){var o,s,a,l,c,u,h,d,p,f,v=0,m=0,g=r.numberPoints,b=e.numberPoints,y=[];if(g<r.bezierDegree+1||b<e.bezierDegree+1)return[0,NaN,NaN];for(g-=r.bezierDegree,b-=e.bezierDegree,e.type===t.OBJECT_TYPE_SECTOR&&(v=3,b-=3),r.type===t.OBJECT_TYPE_SECTOR&&(m=3,g-=3),s=v;s<b;s+=e.bezierDegree)for(u=[(o=e.points)[s].usrCoords.slice(1),o[s+1].usrCoords.slice(1)],3===e.bezierDegree&&(u[2]=o[s+2].usrCoords.slice(1),u[3]=o[s+3].usrCoords.slice(1)),d=this._bezierBbox(u),a=m;a<g;a+=r.bezierDegree)if(h=[(o=r.points)[a].usrCoords.slice(1),o[a+1].usrCoords.slice(1)],3===r.bezierDegree&&(h[2]=o[a+2].usrCoords.slice(1),h[3]=o[a+3].usrCoords.slice(1)),p=this._bezierBbox(h),this._bezierOverlap(d,p)){if(0===(f=this.meetBeziersegmentBeziersegment(u,h)).length)continue;for(l=0;l<f.length;l++)(c=f[l])[1]<-i.eps||c[1]>1+i.eps||c[2]<-i.eps||c[2]>1+i.eps||y.push(c);if(y.length>n)return y[n][0]}return y.length>n?y[n][0]:[0,NaN,NaN]},bezierSegmentEval:function(e,t){var r,i,n,o=1-e;return i=0,n=0,i+=(r=o*o*o)*t[0][0],n+=r*t[0][1],i+=(r=3*e*o*o)*t[1][0],n+=r*t[1][1],i+=(r=3*e*e*o)*t[2][0],n+=r*t[2][1],[1,i+=(r=e*e*e)*t[3][0],n+=r*t[3][1]]},bezierArc:function(e,t,r,n,o){var s,a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w=.5*Math.PI,P=t[1],S=t[2],E=t[0],O=[],T=[];for(u=this.distance(t,e),P/=E,S/=E,h=this.rad(e.slice(1),t.slice(1),r.slice(1)),-1===o&&(h=2*Math.PI-h),(s=e)[1]/=s[0],s[2]/=s[0],s[0]/=s[0],c=s.slice(0),n?(O=[P,P+.333*(s[1]-P),P+.666*(s[1]-P),s[1]],T=[S,S+.333*(s[2]-S),S+.666*(s[2]-S),s[2]]):(O=[s[1]],T=[s[2]]);h>i.eps;)h>w?(d=w,h-=w):(d=h,h=0),x=[[1,0,0],[P*(1-(p=Math.cos(o*d)))+S*(f=Math.sin(o*d)),p,-f],[S*(1-p)-P*f,f,p]],c=[(_=i.matVecMult(x,s))[0]/_[0],_[1]/_[0],_[2]/_[0]],v=s[1]-P,m=s[2]-S,g=c[1]-P,b=c[2]-S,C=Math.sqrt((v+g)*(v+g)+(m+b)*(m+b)),y=Math.abs(b-m)>i.eps?(v+g)*(u/C-.5)/(b-m)*8/3:(m+b)*(u/C-.5)/(v-g)*8/3,a=[1,s[1]-y*m,s[2]+y*v],l=[1,c[1]+y*b,c[2]-y*g],O=O.concat([a[1],l[1],c[1]]),T=T.concat([a[2],l[2],c[2]]),s=c.slice(0);return n&&(O=O.concat([c[1]+.333*(P-c[1]),c[1]+.666*(P-c[1]),P]),T=T.concat([c[2]+.333*(S-c[2]),c[2]+.666*(S-c[2]),S])),[O,T]},projectPointToCircle:function(e,n,s){var a,l,c,u,h,d=n.center.coords.usrCoords;return o.exists(s)||(s=e.board),o.isPoint(e)?(a=e.coords.distance(t.COORDS_BY_USER,n.center.coords),l=e.coords.usrCoords):(a=e.distance(t.COORDS_BY_USER,n.center.coords),l=e.usrCoords),Math.abs(a)<i.eps&&(a=i.eps),h=n.Radius()/a,c=d[1]+h*(l[1]-d[1]),u=d[2]+h*(l[2]-d[2]),new r(t.COORDS_BY_USER,[c,u],s)},projectPointToLine:function(e,n,s){var a,l=[0,n.stdform[1],n.stdform[2]];return o.exists(s)||(s=o.exists(e.coords)?e.board:n.board),a=o.exists(e.coords)?e.coords.usrCoords:e.usrCoords,l=i.crossProduct(l,a),new r(t.COORDS_BY_USER,i.crossProduct(l,n.stdform),s)},projectCoordsToSegment:function(e,t,r){var n,o=[r[1]-t[1],r[2]-t[2]],s=[e[1]-t[1],e[2]-t[2]];return Math.abs(o[0])<i.eps&&Math.abs(o[1])<i.eps?[t,0]:(n=i.innerProduct(s,o),[[1,(n/=i.innerProduct(o,o))*o[0]+t[1],n*o[1]+t[2]],n])},projectCoordsToBeziersegment:function(t,r,i){var n;return n=e.Math.Numerics.fminbr((function(e){var n=[1,r.X(i+e),r.Y(i+e)];return n[1]-=t[1],n[2]-=t[2],n[1]*n[1]+n[2]*n[2]}),[0,1]),[[1,r.X(n+i),r.Y(n+i)],n]},projectPointToCurve:function(e,t,r){o.exists(r)||(r=e.board);var i=e.X(),n=e.Y(),s=e.position||0;return this.projectCoordsToCurve(i,n,s,t,r)},projectCoordsToCurve:function(e,i,s,a,l){var c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T,k=Number.POSITIVE_INFINITY;if(o.exists(l)||(l=a.board),"plot"===o.evaluate(a.visProp.curvetype)){if(s=0,p=k,c=0===a.numberPoints?[0,1,1]:[a.Z(0),a.X(0),a.Y(0)],a.numberPoints>1)for(m=[1,e,i],3===a.bezierDegree?d=0:y=[a.Z(0),a.X(0),a.Y(0)],h=0;h<a.numberPoints-1;h++)3===a.bezierDegree?C=this.projectCoordsToBeziersegment(m,a,d):(_=[a.Z(h+1),a.X(h+1),a.Y(h+1)],C=this.projectCoordsToSegment(m,y,_)),v=C[1],g=C[0],0<=v&&v<=1?(f=this.distance(g,m),b=h+v):v<0?(g=y,f=this.distance(y,m),b=h):v>1&&h===a.numberPoints-2&&(g=_,f=this.distance(g,m),b=a.numberPoints-1),f<p&&(p=f,s=b,c=g),3===a.bezierDegree?(d++,h+=2):y=_;u=new r(t.COORDS_BY_USER,c,l)}else{for(x=function(t){var r,n;return t<a.minX()||t>a.maxX()?1/0:(r=e-a.X(t))*r+(n=i-a.Y(t))*n},S=x(s),O=a.minX(),E=((T=a.maxX())-O)/50,w=O,h=0;h<50;h++)((P=x(w))<S||S===1/0)&&(s=w,S=P),w+=E;s=(s=(s=n.fminbr(x,[Math.max(s-E,O),Math.min(s+E,T)]))<O?O:s)>T?T:s,u=new r(t.COORDS_BY_USER,[a.X(s),a.Y(s)],l)}return[a.updateTransform(u),s]},projectCoordsToPolygon:function(t,r){var i,n,o,s,a,l=r.vertices.length,c=1/0;for(i=0;i<l-1;i++)0<=(o=e.Math.Geometry.projectCoordsToSegment(t,r.vertices[i].coords.usrCoords,r.vertices[i+1].coords.usrCoords))[1]&&o[1]<=1?(n=e.Math.Geometry.distance(o[0],t,3),s=o[0]):o[1]<0?(n=e.Math.Geometry.distance(r.vertices[i].coords.usrCoords,t,3),s=r.vertices[i].coords.usrCoords):(n=e.Math.Geometry.distance(r.vertices[i+1].coords.usrCoords,t,3),s=r.vertices[i+1].coords.usrCoords),n<c&&(a=s.slice(0),c=n);return a},projectPointToTurtle:function(e,i,n){var s,a,l,c,u,h,d,p,f,v,m=0,g=0,b=Number.POSITIVE_INFINITY,y=i.objects.length;for(o.exists(n)||(n=e.board),u=0;u<y;u++)(d=i.objects[u]).elementClass===t.OBJECT_CLASS_CURVE&&(s=(f=this.projectPointToCurve(e,d))[0],v=f[1],(h=this.distance(s.usrCoords,e.coords.usrCoords))<b&&(l=s.usrCoords[1],c=s.usrCoords[2],a=v,b=h,p=d,g=m),m+=d.numberPoints);return s=new r(t.COORDS_BY_USER,[l,c],n),[p.updateTransform(s),a+g]},projectPointToPoint:function(e,t){return t.coords},projectPointToBoard:function(e,t){var r,n,o,s=t||e.board,a=[[1,1,0,0,3,0,1],[-1,2,1,0,1,2,1],[-1,1,2,2,1,2,3],[1,2,3,0,3,2,3]],l=e.coords||e,c=s.getBoundingBox();for(r=0;r<4;r++)(o=a[r])[0]*l.usrCoords[o[1]]<o[0]*c[o[2]]&&((n=i.crossProduct([1,c[o[3]],c[o[4]]],[1,c[o[5]],c[o[6]]]))[3]=0,n=i.normalize(n),l=this.projectPointToLine({coords:l},{stdform:n},s));return l},distPointLine:function(e,t){var r,n=t[1],o=t[2],s=t[0];return Math.abs(n)+Math.abs(o)<i.eps?Number.POSITIVE_INFINITY:(r=n*e[1]+o*e[2]+s,n*=n,o*=o,Math.abs(r)/Math.sqrt(n+o))},reuleauxPolygon:function(e,t){var r,n=2*Math.PI,o=n/t,s=(t-1)/2,a=0,l=function(l,c){return function(u,h){var d=(u%n+n)%n,p=Math.floor(d/o)%t;return h||(a=e[0].Dist(e[s]),r=i.Geometry.rad([e[0].X()+1,e[0].Y()],e[0],e[s%t])),isNaN(p)?p:(d=.5*d+p*o*.5+r,e[p][l]()+a*Math[c](d))}};return[l("X","cos"),l("Y","sin"),0,n]}}),i.Geometry})),define("math/plot",["jxg","base/constants","base/coords","math/math","math/extrapolate","math/numerics","math/statistics","math/geometry","math/ia","utils/type"],(function(e,t,r,i,n,o,s,a,l,c){"use strict";return i.Plot={checkReal:function(e){var t,r,n=!1,o=e.length;for(t=0;t<o;t++)if(r=e[t].usrCoords,!isNaN(r[1])&&!isNaN(r[2])&&Math.abs(r[0])>i.eps){n=!0;break}return n},updateParametricCurveNaive:function(e,r,i,n){var o,s,a=!1,l=(i-r)/n;for(o=0;o<n;o++)s=r+o*l,e.points[o].setCoordinates(t.COORDS_BY_USER,[e.X(s,a),e.Y(s,a)],!1),e.points[o]._t=s,a=!0;return e},isSegmentOutside:function(e,t,r,i,n){return t<0&&i<0||t>n.canvasHeight&&i>n.canvasHeight||e<0&&r<0||e>n.canvasWidth&&r>n.canvasWidth},isDistOK:function(e,t,r,i){return Math.abs(e)<r&&Math.abs(t)<i&&!isNaN(e+t)},isSegmentDefined:function(e,t,r,i){return!(isNaN(e+t)&&isNaN(r+i))},updateParametricCurveOld:function(n,o,s){var a,l,c,u,h,d,p,f,v,m,g,b=!1,y=new r(t.COORDS_BY_USER,[0,0],n.board,!1),_=[],C=[],x=[],w=[],P=!1,S=0,E=function(e,t,r){var n,o,s=r[1]-e[1],a=r[2]-e[2],l=t[0]-e[1],c=t[1]-e[2],u=l*l+c*c;return u>=i.eps&&(n=(s*l+a*c)/u)>0&&(n<=1?(s-=n*l,a-=n*c):(s-=l,a-=c)),o=s*s+a*a,Math.sqrt(o)};for(e.deprecated("Curve.updateParametricCurveOld()"),n.board.updateQuality===n.board.BOARD_QUALITY_LOW?(v=15,m=10,g=10):(v=21,m=.7,g=.7),w[0]=s-o,a=1;a<v;a++)w[a]=.5*w[a-1];a=1,_[0]=1,C[0]=0,l=o,y.setCoordinates(t.COORDS_BY_USER,[n.X(l,b),n.Y(l,b)],!1),b=!0,h=y.scrCoords[1],d=y.scrCoords[2],l=s,y.setCoordinates(t.COORDS_BY_USER,[n.X(l,b),n.Y(l,b)],!1),c=y.scrCoords[1],u=y.scrCoords[2],x[0]=[c,u],p=1,f=0,n.points=[],n.points[S++]=new r(t.COORDS_BY_SCREEN,[h,d],n.board,!1);do{for(P=this.isDistOK(c-h,u-d,m,g)||this.isSegmentOutside(h,d,c,u,n.board);f<v&&(!P||f<6)&&(f<=7||this.isSegmentDefined(h,d,c,u));)_[p]=a,C[p]=f,x[p]=[c,u],p+=1,l=o+(a=2*a-1)*w[++f],y.setCoordinates(t.COORDS_BY_USER,[n.X(l,b),n.Y(l,b)],!1,!0),c=y.scrCoords[1],u=y.scrCoords[2],P=this.isDistOK(c-h,u-d,m,g)||this.isSegmentOutside(h,d,c,u,n.board);S>1&&E(n.points[S-2].scrCoords,[c,u],n.points[S-1].scrCoords)<.015&&(S-=1),n.points[S]=new r(t.COORDS_BY_SCREEN,[c,u],n.board,!1),n.points[S]._t=l,S+=1,h=c,d=u,c=x[p-=1][0],u=x[p][1],f=C[p]+1,a=2*_[p]}while(p>0&&S<5e5);return n.numberPoints=n.points.length,n},_insertPoint_v2:function(e,t,r){var i=!isNaN(this._lastCrds[1]+this._lastCrds[2]),n=!isNaN(t.scrCoords[1]+t.scrCoords[2]),o=e.board.canvasWidth,s=e.board.canvasHeight;(!(n=n&&t.scrCoords[1]>-500&&t.scrCoords[2]>-500&&t.scrCoords[1]<o+500&&t.scrCoords[2]<s+500)&&i||n&&(!i||Math.abs(t.scrCoords[1]-this._lastCrds[1])>.7||Math.abs(t.scrCoords[2]-this._lastCrds[2])>.7))&&(t._t=r,e.points.push(t),this._lastCrds=t.copy("scrCoords"))},neighborhood_isNaN_v2:function(e,n){var o,s,a=new r(t.COORDS_BY_USER,[0,0],e.board,!1);return o=n+i.eps,a.setCoordinates(t.COORDS_BY_USER,[e.X(o,!0),e.Y(o,!0)],!1),s=a.usrCoords,!(!isNaN(s[1]+s[2])&&(o=n-i.eps,a.setCoordinates(t.COORDS_BY_USER,[e.X(o,!0),e.Y(o,!0)],!1),s=a.usrCoords,!isNaN(s[1]+s[2])))},_borderCase:function(e,i,n,o,s,a,l,c){var u,h,d,p,f,v,m,g=null,b=!1;if(c<=1){if(h=new r(t.COORDS_BY_USER,[0,0],e.board,!1),isNaN(i[1]+i[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(e,s))return!1;if(isNaN(n[1]+n[2])&&!isNaN(o[1]+o[2])&&!this.neighborhood_isNaN_v2(e,a))return!1;if(isNaN(o[1]+o[2])&&(!isNaN(i[1]+i[2])||!isNaN(n[1]+n[2]))&&!this.neighborhood_isNaN_v2(e,l))return!1;p=0;do{if(isNaN(i[1]+i[2])&&!isNaN(o[1]+o[2]))f=s,v=l,m=a;else if(isNaN(n[1]+n[2])&&!isNaN(o[1]+o[2]))f=a,v=l,m=s;else if(isNaN(o[1]+o[2])&&!isNaN(n[1]+n[2]))f=l,v=a,m=a+(a-l);else{if(!isNaN(o[1]+o[2])||isNaN(i[1]+i[2]))return!1;f=l,v=s,m=s-(l-s)}u=.5*(f+v),h.setCoordinates(t.COORDS_BY_USER,[e.X(u,!0),e.Y(u,!0)],!1),d=h.usrCoords,(b=isNaN(d[1]+d[2]))?f=u:(m=v,v=u),++p}while(b&&p<30);if(p<30&&(g=d.slice(),o=d.slice(),v=u),e.X(v,!0),e.X(m,!0),e.Y(v,!0),e.Y(m,!0),null!==g)return this._insertPoint_v2(e,new r(t.COORDS_BY_USER,g,e.board,!1)),!0}return!1},_plotRecursive_v2:function(e,i,n,o,s,a,l){var c,u,h,d,p,f=0,v=new r(t.COORDS_BY_USER,[0,0],e.board,!1);if(!(e.numberPoints>65536))return a<this.nanLevel&&this._isUndefined(e,i,n,o,s)||a<this.nanLevel&&this._isOutside(i,n,o,s,e.board)||(c=.5*(n+s),v.setCoordinates(t.COORDS_BY_USER,[e.X(c,!0),e.Y(c,!0)],!1),u=v.scrCoords,this._borderCase(e,i,o,u,n,s,c,a)||(h=this._triangleDists(i,o,u),d=a<this.smoothLevel&&h[3]<l,p=a<this.jumpLevel&&(h[2]>.99*h[0]||h[1]>.99*h[0]||h[0]===1/0||h[1]===1/0||h[2]===1/0),a<this.smoothLevel+2&&h[0]<.5*(h[1]+h[2])&&(f=0,d=!1),--a,p?this._insertPoint_v2(e,new r(t.COORDS_BY_SCREEN,[NaN,NaN],e.board,!1),c):a<=f||d?this._insertPoint_v2(e,v,c):(this._plotRecursive_v2(e,i,n,u,c,a,l),isNaN(v.scrCoords[1]+v.scrCoords[2])||this._insertPoint_v2(e,v,c),this._plotRecursive_v2(e,u,c,o,s,a,l)))),this},updateParametricCurve_v2:function(e,i,n){var o,s,a,l,u,h,d,p,f,v=!1,m=new r(t.COORDS_BY_USER,[0,0],e.board,!1),g=new r(t.COORDS_BY_USER,[0,0],e.board,!1);return e.board.updateQuality===e.board.BOARD_QUALITY_LOW?(u=c.evaluate(e.visProp.recursiondepthlow)||13,h=2,this.smoothLevel=u-6,this.jumpLevel=3):(u=c.evaluate(e.visProp.recursiondepthhigh)||17,h=2,this.smoothLevel=u-9,this.jumpLevel=2),this.nanLevel=u-4,e.points=[],"x"===this.xterm?(d=.3*((p=e.board.getBoundingBox())[2]-p[0]),p[1],p[3],o=Math.max(i,p[0]-d),s=Math.min(n,p[2]+d)):(o=i,s=n),m.setCoordinates(t.COORDS_BY_USER,[e.X(o,v),e.Y(o,v)],!1),v=!0,g.setCoordinates(t.COORDS_BY_USER,[e.X(s,v),e.Y(s,v)],!1),f=this._findStartPoint(e,m.scrCoords,o,g.scrCoords,s),m.setCoordinates(t.COORDS_BY_SCREEN,f[0],!1),o=f[1],f=this._findStartPoint(e,g.scrCoords,s,m.scrCoords,o),g.setCoordinates(t.COORDS_BY_SCREEN,f[0],!1),s=f[1],this._visibleArea=[o,s],a=m.copy("scrCoords"),l=g.copy("scrCoords"),m._t=o,e.points.push(m),this._lastCrds=m.copy("scrCoords"),this._plotRecursive_v2(e,a,o,l,s,u,h),g._t=s,e.points.push(g),e.numberPoints=e.points.length,e},_insertLimesPoint:function(e,n,o,s,a){var l,c,u;Math.abs(this._lastUsrCrds[1])===1/0&&Math.abs(a.left_x)===1/0||Math.abs(this._lastUsrCrds[2])===1/0&&Math.abs(a.left_y)===1/0||((l=new r(t.COORDS_BY_USER,[a.left_x,a.left_y],e.board))._t=o,e.points.push(l),isNaN(a.left_x)||isNaN(a.left_y)||isNaN(a.right_x)||isNaN(a.right_y)||!(Math.abs(a.left_x-a.right_x)>i.eps||Math.abs(a.left_y-a.right_y)>i.eps)||((c=new r(t.COORDS_BY_SCREEN,n,e.board))._t=o,e.points.push(c)),(u=new r(t.COORDS_BY_USER,[a.right_x,a.right_y],e.board))._t=o,e.points.push(u),this._lastScrCrds=u.copy("scrCoords"),this._lastUsrCrds=u.copy("usrCoords"))},_insertPoint:function(e,i,n,o,s){var a,l=!isNaN(this._lastScrCrds[1]+this._lastScrCrds[2]),u=!isNaN(i[1]+i[2]),h=e.board.canvasWidth,d=e.board.canvasHeight;c.exists(s)?this._insertLimesPoint(e,i,n,o,s):(u=u&&i[1]>-500&&i[2]>-500&&i[1]<h+500&&i[2]<d+500,(l||u)&&(u&&l&&Math.abs(i[1]-this._lastScrCrds[1])<.8&&Math.abs(i[2]-this._lastScrCrds[2])<.8||Math.abs(i[1])===1/0&&Math.abs(this._lastUsrCrds[1])===1/0||Math.abs(i[2])===1/0&&Math.abs(this._lastUsrCrds[2])===1/0||((a=new r(t.COORDS_BY_SCREEN,i,e.board))._t=n,e.points.push(a),this._lastScrCrds=a.copy("scrCoords"),this._lastUsrCrds=a.copy("usrCoords"))))},_triangleDists:function(e,t,r){var i;return i=[e[0]*t[0],.5*(e[1]+t[1]),.5*(e[2]+t[2])],[a.distance(e,t,3),a.distance(e,r,3),a.distance(r,t,3),a.distance(r,i,3)]},_isUndefined:function(e,i,n,o,s){var a,l,c;if(!isNaN(i[1]+i[2])||!isNaN(o[1]+o[2]))return!1;for(c=new r(t.COORDS_BY_USER,[0,0],e.board,!1),l=0;l<20;++l)if(a=n+Math.random()*(s-n),c.setCoordinates(t.COORDS_BY_USER,[e.X(a,!0),e.Y(a,!0)],!1),!isNaN(c.scrCoords[0]+c.scrCoords[1]+c.scrCoords[2]))return!1;return!0},_isOutside:function(e,t,r,i,n){var o=500,s=n.canvasWidth,a=n.canvasHeight;return!!(e[1]<-500&&r[1]<-500||e[2]<-500&&r[2]<-500||e[1]>s+o&&r[1]>s+o||e[2]>a+o&&r[2]>a+o)},_isOutsidePoint:function(e,t){var r=t.canvasWidth,i=t.canvasHeight;return!!(e[1]<-500||e[2]<-500||e[1]>r+500||e[2]>i+500)},_findStartPoint:function(e,i,n,o,s){return new r(t.COORDS_BY_USER,[0,0],e.board,!1),e.board.getBoundingBox(),[i,n]},_getBorderPos:function(e,n,o,s,a,l,c){var u,h,d,p,f,v;if(h=new r(t.COORDS_BY_USER,[0,0],e.board,!1),p=0,isNaN(o[1]+o[2])&&!isNaN(a[1]+a[2]))v=n,f=s;else if(isNaN(c[1]+c[2])&&!isNaN(a[1]+a[2]))v=l,f=s;else if(isNaN(a[1]+a[2])&&!isNaN(c[1]+c[2]))v=s,f=l;else{if(!isNaN(a[1]+a[2])||isNaN(o[1]+o[2]))return!1;v=s,f=n}do{u=.5*(f+v),h.setCoordinates(t.COORDS_BY_USER,[e.X(u,!0),e.Y(u,!0)],!1),d=h.usrCoords,isNaN(d[1]+d[2])?v=u:f=u,++p}while(p<30&&Math.abs(f-v)>i.eps);return u},_getCuspPos:function(e,t,r){var i=[e.X(t,!0),e.Y(t,!0)],n=[e.X(r,!0),e.Y(r,!0)];return o.fminbr((function(t){var r=[e.X(t,!0),e.Y(t,!0)];return-(Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))+Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1])))}),[t,r],e)},_getJumpPos:function(e,t,r){return o.fminbr((function(t){var r=i.eps*i.eps,n=[e.X(t,!0),e.Y(t,!0)],o=[e.X(t+r,!0),e.Y(t+r,!0)];return-Math.abs((o[1]-n[1])/(o[0]-n[0]))}),[t,r],e)},_getLimits:function(e,t){var r,i,o,s,a,l=2/(e.maxX()-e.minX());return i=(r=n.limit(t,-l,e.X))[0],"infinite"===r[1]&&(i=Math.sign(i)*(1/0)),s=(r=n.limit(t,-l,e.Y))[0],"infinite"===r[1]&&(s=Math.sign(s)*(1/0)),o=(r=n.limit(t,l,e.X))[0],"infinite"===r[1]&&(o=Math.sign(o)*(1/0)),a=(r=n.limit(t,l,e.Y))[0],"infinite"===r[1]&&(a=Math.sign(a)*(1/0)),{left_x:i,left_y:s,right_x:o,right_y:a,t:t}},_getLimes:function(e,t,r,i,n,o,s,a,l){var c;return"border"===a?c=this._getBorderPos(e,t,r,i,n,o,s):"cusp"===a?c=this._getCuspPos(e,t,o):"jump"===a&&(c=this._getJumpPos(e,t,o)),this._getLimits(e,c)},_plotNonRecursive:function(e,t,r,i,n,o){var s,a,l,c,u,h,d,p,f,v,m,g=null,b=!1,y="",_=[],C=0;for(p=e.board.origin.scrCoords,_[C++]=[t,r,i,n,o,1/0];C>0;){if(t=(m=_[--C])[0],r=m[1],i=m[2],n=m[3],f=m[4],v=m[5],b=!1,y="",g=null,e.points.length>65536)return;if(f<this.nanLevel){if(this._isUndefined(e,t,r,i,n))continue;if(this._isOutside(t,r,i,n,e.board))continue}s=.5*(r+n),h=e.X(s,!0),d=e.Y(s,!0),a=[1,p[1]+h*e.board.unitX,p[2]-d*e.board.unitY],l=this._triangleDists(t,i,a),c=isNaN(t[1]+t[2]),u=isNaN(i[1]+i[2]),c&&!u||!c&&u?y="border":l[0]>.66*v||l[0]<this.cusp_threshold*(l[1]+l[2])||l[1]>5*l[2]||l[2]>5*l[1]?y="cusp":(l[2]>this.jump_threshold*l[0]||l[1]>this.jump_threshold*l[0]||l[0]===1/0||l[1]===1/0||l[2]===1/0)&&(y="jump"),b=""===y&&f<this.smoothLevel&&l[3]<this.smooth_threshold,f<this.testLevel&&!b&&(""===y?b=!0:g=this._getLimes(e,r,t,s,a,n,i,y,f)),null!==g?(a=[1,NaN,NaN],this._insertPoint(e,a,s,f,g)):f<=0||b?this._insertPoint(e,a,s,f,null):(_[C++]=[a,s,i,n,f-1,l[0]],_[C++]=[t,r,a,s,f-1,l[0]])}return this},updateParametricCurve_v3:function(e,i,n){var o,s,a,l,u,h,d,p,f=!1,v=new r(t.COORDS_BY_USER,[0,0],e.board,!1),m=new r(t.COORDS_BY_USER,[0,0],e.board,!1);return u=e.board.updateQuality===e.board.BOARD_QUALITY_LOW?c.evaluate(e.visProp.recursiondepthlow)||14:c.evaluate(e.visProp.recursiondepthhigh)||17,this.smoothLevel=7,this.nanLevel=u-4,this.testLevel=4,this.cusp_threshold=.5,this.jump_threshold=.99,this.smooth_threshold=2,e.points=[],"x"===e.xterm?(h=.3*((d=e.board.getBoundingBox())[2]-d[0]),o=Math.max(i,d[0]-h),s=Math.min(n,d[2]+h)):(o=i,s=n),v.setCoordinates(t.COORDS_BY_USER,[e.X(o,f),e.Y(o,f)],!1),f=!0,m.setCoordinates(t.COORDS_BY_USER,[e.X(s,f),e.Y(s,f)],!1),p=this._findStartPoint(e,v.scrCoords,o,m.scrCoords,s),v.setCoordinates(t.COORDS_BY_SCREEN,p[0],!1),o=p[1],p=this._findStartPoint(e,m.scrCoords,s,v.scrCoords,o),m.setCoordinates(t.COORDS_BY_SCREEN,p[0],!1),s=p[1],this._visibleArea=[o,s],a=v.copy("scrCoords"),l=m.copy("scrCoords"),v._t=o,e.points.push(v),this._lastScrCrds=v.copy("scrCoords"),this._lastUsrCrds=v.copy("usrCoords"),this._plotNonRecursive(e,a,o,l,s,u),m._t=s,e.points.push(m),e.numberPoints=e.points.length,e},_criticalInterval:function(e,t,r){var i,n,o,a,l,c,u,h=!1,d=-1/0,p=!1,f=!1,v=0,m=[],g=[],b=[];for(u=s.abs(e),(a=s.median(u))<1e-7?(a=1e-7,p=!0):a*=this.criticalThreshold,i=0;i<t;i++)u[i]>a?(b.push({i:i,v:e[i],group:v}),d=i,h||(h=!0)):h&&i>d+4&&(b.length>0&&m.push(b.slice(0)),b=[],h=!1,v++);for(h&&b.length>1&&m.push(b.slice(0)),p&&0===m.length&&(f=!0),n=0;n<m.length;n++)if(g[n]="point",!((o=m[n].length)<64)){for(c=0,l=Math.sign(m[n][0].v),i=1;i<o;i++)Math.sign(m[n][i].v)!==l&&(c++,l=Math.sign(m[n][i].v));6*c>o&&(g[n]="interval")}return{smooth:f,groups:m,types:g}},Component:function(){this.left_isNaN=!1,this.right_isNaN=!1,this.left_t=null,this.right_t=null,this.t_values=[],this.x_values=[],this.y_values=[],this.len=0},findComponents:function(e,t,r,i){var n,o,s,a,l,c,u=[],h=0,d=0,p=0,f=!1,v=!1;for(s=(r-t)/i,u[h]=new this.Component,c=u[h],n=0,o=t;n<=i;n++,o+=s)a=e.X(o,v),l=e.Y(o,v),isNaN(a)||isNaN(l)?++p>1&&f&&(c.right_isNaN=!0,c.right_t=o-s,c.len=d,f=!1,u[++h]=new this.Component,c=u[h],p=0):(f||(f=!0,d=0,p>0&&(c.left_t=o-s,c.left_isNaN=!0)),p=0,c.t_values[d]=o,c.x_values[d]=a,c.y_values[d]=l,d++),0===n&&(v=!0);return f?c.len=d:u.pop(),u},getPointType:function(e,t,r,i,n,o,s){var a=n[0],l=o[0],c=i.length,u={idx:t,t:r,x:a[t],y:l[t],type:"other"};return t<5?(u.type="borderleft",u.idx=0,u.t=i[0],u.x=a[0],u.y=l[0],u):t>s-6?(u.type="borderright",u.idx=c-1,u.t=i[c-1],u.x=a[c-1],u.y=l[c-1],u):u},newtonApprox:function(e,t,r,i,n){var o,s=0;for(o=i;o>0;o--)s=(s+n[o][e])*(t-(o-1)*r)/o;return s+n[0][e]},thiele:function(e,t,r,i,n){var o,s=0;for(o=n;o>1;o--)s=(e-r[i+o])/(t[o][i+1]-t[o-2][i+1]+s);return t[0][i+1]+(e-r[i+1])/(t[1][i+1]+s)},differenceMethodExperiments:function(e,t){var r,i,n,o,s,a,l,c,u,h,d,p=e.t_values,f=e.x_values,v=e.y_values,m=[],g=[],b=[],y=[],_=[],C=[],x=[],w=[],P=0,S=[];for(s=p[1]-p[0],_.push([]),C.push([]),x.push([]),w.push([]),n=v.length,r=0;r<n;r++)_[0][r]=f[r],C[0][r]=v[r],x[0][r]=f[r],w[0][r]=v[r];for(_.push([]),C.push([]),x.push([]),w.push([]),a=s,n=v.length-1,r=0;r<n;r++)m[r]=f[r+1]-f[r],g[r]=v[r+1]-v[r],b[r]=m[r],y[r]=g[r],_[1][r]=m[r],C[1][r]=g[r],x[1][r]=a/m[r],w[1][r]=a/g[r];for(n--,o=Math.min(8,v.length-1),i=1;i<o;i++){for(_.push([]),C.push([]),x.push([]),w.push([]),a*=s,r=0;r<n;r++)m[r]=m[r+1]-m[r],g[r]=g[r+1]-g[r],_[i+1][r]=m[r],C[i+1][r]=g[r],x[i+1][r]=a/(x[i][r+1]-x[i][r])+x[i-1][r+1],w[i+1][r]=a/(w[i][r+1]-w[i][r])+w[i-1][r+1];if(!1===(d=this._criticalPoints(g,n,i))){console.log("Polynomial of degree",i),d=[];break}if(d.length>0&&++P>1&&i%2==0)break;n--}for(r=0;r<d.length;r++){for(c=-1/0,u=0;u<d[r].length;u++)(h=Math.abs(d[r][u].v))>c&&(c=h,l=u);l=Math.floor(d[r][l].i+i/2),S.push(this.getPointType(t,l,p,f,v,b,y,n+1))}return[S,_,C,x,w]},getCenterOfCriticalInterval:function(e,t,r){var i,n,o,s,a,l=0,c=0,u=r[1]-r[0],h=[];for(i=-1/0,h=[],n=0;n<e.length;n++)(s=Math.abs(e[n].v))>i?(h=[n],i=s,o=n):i===s&&h.push(n);if(h.length>0&&(a=h.reduce((function(e,t){return e+t}),0)/h.length,o=Math.floor(a),a+=e[0].i),i<1/0){for(n=0;n<e.length;n++)l+=Math.abs(e[n].v)*e[n].i,c+=Math.abs(e[n].v);a=l/c}return a+=t/2,[e[o].i+t/2,a,r[Math.floor(a)]+u*(a-Math.floor(a))]},differenceMethod:function(e,t){var r,i,n,o,s,a,l,c,u,h,d=e.t_values,p=e.x_values,f=e.y_values,v=[],m=[],g=0,b=-1,y=-1,_=[],C=[];for(n=f.length,v.push(new Float64Array(p)),m.push(new Float64Array(f)),n--,o=Math.min(12,n),i=0;i<o&&(v.push(new Float64Array(n)),m.push(new Float64Array(n)),v[i+1]=v[i].map((function(e,t,r){return r[t+1]-e})),m[i+1]=m[i].map((function(e,t,r){return r[t+1]-e})),!0===(c=this._criticalInterval(m[i+1],n,i)).smooth&&(y=i,_=[]),l=this._criticalInterval(v[i+1],n,i),-1===b&&!0===l.smooth&&(b=i),!(y>=0));i++){if(c.groups.length>0&&++g>2&&(i+1)%2==0){_=c.groups,h=c.types;break}n--}for(r=0;r<_.length;r++)"interval"!==h[r]&&(a=this.getCenterOfCriticalInterval(_[r],i+1,d),c[0],s=Math.floor(a[1]),u=a[2],C.push(this.getPointType(t,s,u,d,v,m,n+1)));return[C,v,m,b,y]},_insertPoint_v4:function(e,i,n,o){var s,a,l,c=null;e.points.length>0&&(c=e.points[e.points.length-1].scrCoords),s=new r(t.COORDS_BY_USER,i,e.board),null!==c&&(a=s.scrCoords[1]-c[1])*a+(l=s.scrCoords[2]-c[2])*l<.8*.8||(s._t=n,e.points.push(s))},getInterval:function(t,r,i){var n,o;return l.disable(),n=l.Interval(r,i),t.board.mathLib=l,t.board.mathLibJXG=l,t.X(n,!0),o=t.Y(n,!0),t.board.mathLib=Math,t.board.mathLibJXG=e.Math,o},sign:function(e){return e<0?-1:e>0?1:0},handleBorder:function(e,t,r,i,n){var o,s,a,l,u,h,d,p,f,v,m,g,b=r.idx;if(g=t.t_values[1]-t.t_values[0],"borderleft"===r.type?a=(s=o=t.left_isNaN?t.left_t:r.t-g)+g:"borderright"===r.type?s=(a=o=t.right_isNaN?t.right_t:r.t+g)-g:console.log("No bordercase!!!"),0!==(v=this.findComponents(e,s,a,32)).length){for("borderleft"===r.type&&(s=v[0].left_t,a=v[0].t_values[0],g=v[0].t_values[1]-v[0].t_values[0],o=s=null===s?a-g:s,l=this.getInterval(e,s,a),c.isObject(l)&&(d=l.lo,p=l.hi,u=e.X(o,!0),h=n[1][b]<0?p:d,this._insertPoint_v4(e,[1,u,h],o))),m=v[0].t_values.length,f=0;f<m;f++)o=v[0].t_values[f],u=v[0].x_values[f],h=v[0].y_values[f],this._insertPoint_v4(e,[1,u,h],o);"borderright"===r.type&&(s=v[0].t_values[m-1],a=v[0].right_t,g=v[0].t_values[1]-v[0].t_values[0],o=a=null===a?s+g:a,l=this.getInterval(e,s,a),c.isObject(l)&&(d=l.lo,p=l.hi,u=e.X(o,!0),h=n[1][b]>0?p:d,this._insertPoint_v4(e,[1,u,h],o)))}},_seconditeration_v4:function(e,t,r,i,n){var o,s,a,l,c,u,h,d,p,f,v,m,g;for(s=t.t_values[r.idx-2],a=t.t_values[r.idx+2],c=this.findComponents(e,s,a,64),h=0;h<c.length;h++){for(u=c[h],d=(l=this.differenceMethod(u,e))[0],f=l[1],v=l[2],m=0,p=0;p<=d.length;p++){for(g=p===d.length?u.len:d[p].idx,o=m;o<g;o++)isNaN(u.x_values[o])||isNaN(u.y_values[o])||this._insertPoint_v4(e,[1,u.x_values[o],u.y_values[o]],u.t_values[o]);p<d.length&&(this.handleSingularity(e,u,d[p],f,v),m=d[p].idx+1)}g=u.len,h<c.length-1&&this._insertPoint_v4(e,[1,NaN,NaN],u.right_t)}return this},_recurse_v4:function(e,t,r,i,n,o,s,a){var l,c,u=.5*(t+r),h=e.X(u,!0),d=e.Y(u,!0);0!==a?(l=(h-i)*e.board.unitX,c=(d-n)*e.board.unitY,Math.sqrt(l*l+c*c)>2?this._recurse_v4(e,t,u,i,n,h,d,a-1):this._insertPoint_v4(e,[1,h,d],u),l=(h-o)*e.board.unitX,c=(d-s)*e.board.unitY,Math.sqrt(l*l+c*c)>2?this._recurse_v4(e,u,r,h,d,o,s,a-1):this._insertPoint_v4(e,[1,h,d],u)):this._insertPoint_v4(e,[1,NaN,NaN],u)},handleSingularity:function(e,t,r,i,n){var o,s,a,l,u,h,d,p,f,v,m,g=r.idx;o=r.t,console.log("HandleSingularity at t =",o),s=t.t_values[g-5],a=t.t_values[g+5],l=this.getInterval(e,s,a),c.isObject(l)?(p=l.lo,f=l.hi):n[0][g-1]<n[0][g+1]?(p=n[0][g-1],f=n[0][g+1]):(p=n[0][g+1],f=n[0][g-1]),d=e.X(o,!0),v=(n[0][g-3]-n[0][g-5])/(t.t_values[g-3]-t.t_values[g-5]),m=(n[0][g+3]-n[0][g+5])/(t.t_values[g+3]-t.t_values[g+5]),console.log(":::",v,m),v<-100?(this._insertPoint_v4(e,[1,d,p],o,!0),m<=100&&this._insertPoint_v4(e,[1,NaN,NaN],o)):v>100?(this._insertPoint_v4(e,[1,d,f],o),m>=-100&&this._insertPoint_v4(e,[1,NaN,NaN],o)):(p===-1/0&&(this._insertPoint_v4(e,[1,d,p],o,!0),this._insertPoint_v4(e,[1,NaN,NaN],o)),f===1/0&&(this._insertPoint_v4(e,[1,NaN,NaN],o),this._insertPoint_v4(e,[1,d,f],o,!0)),r.t<t.t_values[g]?(u=g-1,h=g):(u=g,h=g+1),s=t.t_values[u],a=t.t_values[h],this._recurse_v4(e,s,a,i[0][u],n[0][u],i[0][h],n[0][h],10)),m<-100?this._insertPoint_v4(e,[1,d,f],o):m>100&&this._insertPoint_v4(e,[1,d,p],o)},steps:1021,criticalThreshold:1e3,plot_v4:function(e,t,r,i){var n,s,a,l,u,h,d,p,f,v,m,g,b,y,_,C=(r-t)/i,x=function(t){return e.Y(t,!0)},w=function(t){return-e.Y(t,!0)},P=.5*C;for(a=this.findComponents(e,t,r,i),l=0;l<a.length;l++){for(u=a[l],h=(f=this.differenceMethod(u,e))[0],v=f[1],m=f[2],f[3],f[4],0!==h.length&&"borderleft"===h[0].type||h.unshift({idx:0,t:u.t_values[0],x:u.x_values[0],y:u.y_values[0],type:"borderleft"}),"borderright"!==h[h.length-1].type&&(s=u.t_values.length,h.push({idx:s-1,t:u.t_values[s-1],x:u.x_values[s-1],y:u.y_values[s-1],type:"borderright"})),p=0,d=0;d<=h.length;d++){for(s=d===h.length?u.len:h[d].idx-1,n=p;n<s-2;n++)this._insertPoint_v4(e,[1,u.x_values[n],u.y_values[n]],u.t_values[n]),Math.max(0,n-2),n>=p+3&&n<s-3&&m.length>3&&Math.abs(m[2][n])>.2*Math.abs(m[0][n])&&(g=u.t_values[n],P=.25*C,_=this.getInterval(e,g,g+C),c.isObject(_)?m[2][n]>0?this._insertPoint_v4(e,[1,g+P,_.lo],g+P):this._insertPoint_v4(e,[1,g+C-P,_.hi],g+C-P):(b=o.fminbr(x,[g,g+C]))<(y=o.fminbr(w,[g,g+C]))?(this._insertPoint_v4(e,[1,e.X(b,!0),e.Y(b,!0)],b),this._insertPoint_v4(e,[1,e.X(y,!0),e.Y(y,!0)],y)):(this._insertPoint_v4(e,[1,e.X(y,!0),e.Y(y,!0)],y),this._insertPoint_v4(e,[1,e.X(b,!0),e.Y(b,!0)],b)));d<h.length&&(n=h[d].idx,"borderleft"===h[d].type||"borderright"===h[d].type?this.handleBorder(e,u,h[d],v,m):this._seconditeration_v4(e,u,h[d],v,m),p=h[d].idx+1+1)}s=u.len,l<a.length-1&&this._insertPoint_v4(e,[1,NaN,NaN],u.right_t)}},updateParametricCurve_v4:function(e,t,r){var i,n,o,s;"x"===e.xterm?(o=.3*((s=e.board.getBoundingBox())[2]-s[0]),i=Math.max(t,s[0]-o),n=Math.min(r,s[2]+o)):(i=t,n=r),e.points=[],this.plot_v4(e,i,n,this.steps),e.numberPoints=e.points.length},updateParametricCurve:function(e,t,r){return this.updateParametricCurve_v2(e,t,r)}},i.Plot})),define("math/metapost",["utils/type","math/math"],(function(e,t){"use strict";return t.Metapost={MP_ENDPOINT:0,MP_EXPLICIT:1,MP_GIVEN:2,MP_CURL:3,MP_OPEN:4,MP_END_CYCLE:5,UNITY:1,FRACTION_ONE:1,FRACTION_THREE:3,ONE_EIGHTY_DEG:Math.PI,THREE_SIXTY_DEG:2*Math.PI,EPS_SQ:1e-5*1e-5,make_choices:function(e){var t,r,i,n,o,s,a,l,c,u,h,d,p,f,v;a=e[0];do{if(!a)break;s=a.next,a.rtype>this.MP_EXPLICIT&&(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y)<this.EPS_SQ&&(a.rtype=this.MP_EXPLICIT,a.ltype===this.MP_OPEN&&(a.ltype=this.MP_CURL,a.set_left_curl(this.UNITY)),s.ltype=this.MP_EXPLICIT,s.rtype===this.MP_OPEN&&(s.rtype=this.MP_CURL,s.set_right_curl(this.UNITY)),a.rx=a.x,s.lx=a.x,a.ry=a.y,s.ly=a.y),a=s}while(a!==e[0]);for(r=e[0];r.ltype===this.MP_OPEN&&r.rtype===this.MP_OPEN;)if((r=r.next)===e[0]){r.ltype=this.MP_END_CYCLE;break}for(a=r;a;){if(s=a.next,a.rtype>=this.MP_GIVEN){for(;s.ltype===this.MP_OPEN&&s.rtype===this.MP_OPEN;)s=s.next;for(i=0,l=a,o=e.length,d=[],p=[],f=[],v=[null];u=l.next,d.push(u.x-l.x),p.push(u.y-l.y),f.push(this.mp_pyth_add(d[i],p[i])),i>0&&(h=p[i-1]/f[i-1],c=d[i-1]/f[i-1],v.push(Math.atan2(p[i]*c-d[i]*h,d[i]*c+p[i]*h))),i++,(l=u)===s&&(o=i),!(i>=o&&l.ltype!==this.MP_END_CYCLE););i===o?v.push(0):v.push(v[1]),s.ltype===this.MP_OPEN&&((n=s.rx-s.x)*n+(t=s.ry-s.y)*t<this.EPS_SQ?(s.ltype=this.MP_CURL,s.set_left_curl(this.UNITY)):(s.ltype=this.MP_GIVEN,s.set_left_given(Math.atan2(t,n)))),a.rtype===this.MP_OPEN&&a.ltype===this.MP_EXPLICIT&&((n=a.x-a.lx)*n+(t=a.y-a.ly)*t<this.EPS_SQ?(a.rtype=this.MP_CURL,a.set_right_curl(this.UNITY)):(a.rtype=this.MP_GIVEN,a.set_right_given(Math.atan2(t,n)))),this.mp_solve_choices(a,s,o,d,p,f,v)}else a.rtype===this.MP_ENDPOINT&&(a.rx=a.x,a.ry=a.y,s.lx=s.x,s.ly=s.y);if((a=s)===r)break}},mp_solve_choices:function(e,t,r,i,n,o,s){var a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T,k,N,M,A;for(h=o.length+1,m=new Array(h),v=new Array(h),c=new Array(h),C=new Array(h),M=0;M<h;M++)C[M]=c[M]=v[M]=m[M]=0;for(p=0,f=e,b=0;;){if(y=f.next,0===p)if(f.rtype===this.MP_GIVEN){if(y.ltype===this.MP_GIVEN)return a=Math.atan2(n[0],i[0]),E=(S=this.mp_n_sin_cos(e.right_given()-a))[0],O=S[1],k=(T=this.mp_n_sin_cos(t.left_given()-a))[0],N=T[1],void this.mp_set_controls(e,t,i[0],n[0],O,E,-N,k);c[0]=f.right_given()-Math.atan2(n[0],i[0]),c[0]=this.reduce_angle(c[0]),m[0]=0,v[0]=0}else if(f.rtype===this.MP_CURL){if(y.ltype===this.MP_CURL)return e.rtype=this.MP_EXPLICIT,t.ltype=this.MP_EXPLICIT,g=Math.abs(t.left_tension()),x=Math.abs(e.right_tension()),_=this.UNITY/(3*x),e.rx=e.x+i[0]*_,e.ry=e.y+n[0]*_,_=this.UNITY/(3*g),t.lx=t.x-i[0]*_,void(t.ly=t.y-n[0]*_);P=f.right_curl(),g=Math.abs(y.left_tension()),x=Math.abs(f.right_tension()),m[0]=this.mp_curl_ratio(P,x,g),c[0]=-s[1]*m[0],v[0]=0}else f.rtype===this.MP_OPEN&&(m[0]=0,c[0]=0,v[0]=this.FRACTION_ONE);else if(f.ltype===this.MP_END_CYCLE||f.ltype===this.MP_OPEN){if(a=this.UNITY/(3*Math.abs(b.right_tension())-this.UNITY),w=o[p]*(this.FRACTION_THREE-this.UNITY/Math.abs(b.right_tension())),u=this.UNITY/(3*Math.abs(y.left_tension())-this.UNITY),d=o[p-1]*(this.FRACTION_THREE-this.UNITY/Math.abs(y.left_tension())),w*=P=this.FRACTION_ONE-m[p-1]*a,(g=Math.abs(f.left_tension()))<(x=Math.abs(f.right_tension()))?w*=Math.pow(g/x,2):g>x&&(d*=Math.pow(x/g,2)),_=d/(d+w),m[p]=_*u,l=-s[p+1]*m[p],b.rtype===this.MP_CURL?(v[p]=0,c[p]=l-s[1]*(this.FRACTION_ONE-_)):(_=(this.FRACTION_ONE-_)/P,l-=s[p]*_,_*=a,c[p]=l-c[p-1]*_,v[p]=-v[p-1]*_),f.ltype===this.MP_END_CYCLE){for(a=0,u=this.FRACTION_ONE;0===(p-=1)&&(p=r),a=c[p]-a*m[p],u=v[p]-u*m[p],p!==r;);for(a/=this.FRACTION_ONE-u,C[r]=a,c[0]=a,A=1;A<r;A++)c[A]=c[A]+a*v[A];break}}else{if(f.ltype===this.MP_CURL){P=f.left_curl(),g=Math.abs(f.left_tension()),x=Math.abs(b.right_tension()),_=this.mp_curl_ratio(P,g,x),C[r]=-c[r-1]*_/(this.FRACTION_ONE-_*m[r-1]);break}if(f.ltype===this.MP_GIVEN){C[r]=f.left_given()-Math.atan2(n[r-1],i[r-1]),C[r]=this.reduce_angle(C[r]);break}}b=f,f=y,p+=1}for(p=r-1;p>-1;p--)C[p]=c[p]-C[p+1]*m[p];for(f=e,p=0;y=f.next,E=(S=this.mp_n_sin_cos(C[p]))[0],O=S[1],k=(T=this.mp_n_sin_cos(-s[p+1]-C[p+1]))[0],N=T[1],this.mp_set_controls(f,y,i[p],n[p],O,E,N,k),f=y,++p!==r;);},mp_n_sin_cos:function(e){return[Math.cos(e),Math.sin(e)]},mp_set_controls:function(e,t,r,i,n,o,s,a){var l,c,u,h,d;u=Math.abs(t.left_tension()),l=Math.abs(e.right_tension()),d=this.mp_velocity(n,o,s,a,l),c=this.mp_velocity(s,a,n,o,u),(e.right_tension()<0||t.left_tension()<0)&&(n>=0&&s>=0||n<=0&&s<=0)&&(h=Math.abs(n)*a+Math.abs(s)*o)>0&&(h*=1.00024414062,e.right_tension()<0&&this.mp_ab_vs_cd(Math.abs(s),this.FRACTION_ONE,d,h)<0&&(d=Math.abs(s)/h),t.left_tension()<0&&this.mp_ab_vs_cd(Math.abs(n),this.FRACTION_ONE,c,h)<0&&(c=Math.abs(n)/h)),e.rx=e.x+(r*o-i*n)*d,e.ry=e.y+(i*o+r*n)*d,t.lx=t.x-(r*a+i*s)*c,t.ly=t.y-(i*a-r*s)*c,e.rtype=this.MP_EXPLICIT,t.ltype=this.MP_EXPLICIT},mp_pyth_add:function(e,t){return Math.sqrt(e*e+t*t)},mp_curl_ratio:function(e,t,r){var i=1/t,n=1/r;return Math.min(4,((3-i)*i*i*e+n*n*n)/(i*i*i*e+(3-n)*n*n))},mp_ab_vs_cd:function(e,t,r,i){return e*t==r*i?0:e*t>r*i?1:-1},mp_velocity:function(e,t,r,i,n){return Math.min(4,(2+Math.sqrt(2)*(e-r/16)*(r-e/16)*(t-i))/(1.5*n*(2+(Math.sqrt(5)-1)*t+(3-Math.sqrt(5))*i)))},reduce_angle:function(e){return Math.abs(e)>this.ONE_EIGHTY_DEG&&(e>0?e-=this.THREE_SIXTY_DEG:e+=this.THREE_SIXTY_DEG),e},makeknots:function(e,t,r){var i,n,o=[];for(t=t||1,n=e.length,i=0;i<n;i++)o.push({x:e[i][0],y:e[i][1],ltype:this.MP_OPEN,rtype:this.MP_OPEN,ly:t,ry:t,lx:t,rx:t,left_curl:function(){return this.lx||0},right_curl:function(){return this.rx||0},left_tension:function(){return this.ly||(this.ly=1),this.ly},right_tension:function(){return this.ry||(this.ry=1),this.ry},set_right_curl:function(e){this.rx=e||0},set_left_curl:function(e){this.lx=e||0}});for(n=o.length,i=0;i<n;i++)o[i].next=o[i+1]||o[i],o[i].set_right_given=o[i].set_right_curl,o[i].set_left_given=o[i].set_left_curl,o[i].right_given=o[i].right_curl,o[i].left_given=o[i].left_curl;return o[n-1].next=o[0],r||(o[n-1].rtype=this.MP_ENDPOINT,o[n-1].ltype=this.MP_CURL,o[0].rtype=this.MP_CURL),o},curve:function(t,r){var i,n,o,s,a=[],l=[];for(o in r=r||{tension:1,direction:{},curl:{},isClosed:!1},n=(i=this.makeknots(t,e.evaluate(r.tension),r.isClosed)).length,r.direction)r.direction.hasOwnProperty(o)&&(s=e.evaluate(r.direction[o]),e.isArray(s)?(!1!==s[0]&&(i[o].lx=s[0]*Math.PI/180,i[o].ltype=this.MP_GIVEN),!1!==s[1]&&(i[o].rx=s[1]*Math.PI/180,i[o].rtype=this.MP_GIVEN)):(i[o].lx=s*Math.PI/180,i[o].rx=s*Math.PI/180,i[o].ltype=i[o].rtype=this.MP_GIVEN));for(o in r.curl)r.curl.hasOwnProperty(o)&&(s=e.evaluate(r.curl[o]),0===parseInt(o,10)?(i[o].rtype=this.MP_CURL,i[o].set_right_curl(s)):parseInt(o,10)===n-1&&(i[o].ltype=this.MP_CURL,i[o].set_left_curl(s)));for(this.make_choices(i),o=0;o<n-1;o++)a.push(i[o].x),a.push(i[o].rx),a.push(i[o+1].lx),l.push(i[o].y),l.push(i[o].ry),l.push(i[o+1].ly);return a.push(i[n-1].x),l.push(i[n-1].y),r.isClosed&&(a.push(i[n-1].rx),l.push(i[n-1].ry),a.push(i[0].lx),l.push(i[0].ly),a.push(i[0].x),l.push(i[0].y)),[a,l]}},t.Metapost})),define("utils/zip",["jxg"],(function(e){"use strict";var t=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255],r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return e.Util=e.Util||{},e.Util.Unzip=function(a){var l,c,u,h,d=[],p=0,f=[],v=new Array(32768),m=0,g=!1,b=a.length,y=0,_=1,C=new Array(288),x=new Array(32),w=0,P=null,S=(new Array(64),new Array(64),0),E=new Array(17),O=[];function T(){return y<b?a[y++]:-1}function k(){_=1}function N(){var e;try{return e=1&_,0===(_>>=1)&&(e=1&(_=T()),_=_>>1|128),e}catch(e){throw e}}function M(e){var r=0,i=e;try{for(;i--;)r=r<<1|N();e&&(r=t[r]>>8-e)}catch(e){throw e}return r}function A(){m=0}function R(e){v[m++]=e,d.push(String.fromCharCode(e)),32768===m&&(m=0)}function L(){this.b0=0,this.b1=0,this.jump=null,this.jumppos=-1}function I(){for(;;){if(E[S]>=h)return-1;if(u[E[S]]===S)return E[S]++;E[S]++}}function D(){var e,t=P[w];if(17===S)return-1;if(w++,S++,(e=I())>=0)t.b0=e;else if(t.b0=32768,D())return-1;if((e=I())>=0)t.b1=e,t.jump=null;else if(t.b1=32768,t.jump=P[w],t.jumppos=w,D())return-1;return S--,0}function j(e,t,r,i){var n;for(P=e,w=0,u=r,h=t,n=0;n<17;n++)E[n]=0;return S=0,D()?-1:0}function B(e){for(var t,r,i=0,n=e[i];;)if(N()){if(!(32768&n.b1))return n.b1;for(n=n.jump,t=e.length,r=0;r<t;r++)if(e[r]===n){i=r;break}}else{if(!(32768&n.b0))return n.b0;n=e[++i]}}function Y(){var a,l,c,u,h,d,p,f,g,b,y,_,w,P,S;do{if(a=N(),0===(l=M(2)))for(k(),g=T(),g|=T()<<8,y=T(),65535&(g^~(y|=T()<<8))&&e.debug("BlockLen checksum mismatch\n");g--;)R(T());else if(1===l)for(;;)if((u=t[M(7)]>>1)>23?(u=u<<1|N())>199?u=(u-=128)<<1|N():(u-=48)>143&&(u+=136):u+=256,u<256)R(u);else{if(256===u)break;for(f=M(i[u-=257])+r[u],u=t[M(5)]>>3,o[u]>8?(b=M(8),b|=M(o[u]-8)<<8):b=M(o[u]),b+=n[u],u=0;u<f;u++)R(v[m-b&32767])}else if(2===l){for(d=new Array(320),w=257+M(5),P=1+M(5),S=4+M(4),u=0;u<19;u++)d[u]=0;for(u=0;u<S;u++)d[s[u]]=M(3);for(f=x.length,c=0;c<f;c++)x[c]=new L;if(j(x,19,d))return A(),1;for(_=w+P,c=0;c<_;)if((u=B(x))<16)d[c++]=u;else if(16===u){if(c+(u=3+M(2))>_)return A(),1;for(h=c?d[c-1]:0;u--;)d[c++]=h}else{if(c+(u=17===u?3+M(3):11+M(7))>_)return A(),1;for(;u--;)d[c++]=0}for(f=C.length,c=0;c<f;c++)C[c]=new L;if(j(C,w,d))return A(),1;for(f=C.length,c=0;c<f;c++)x[c]=new L;for(p=[],c=w;c<d.length;c++)p[c-w]=d[c];if(j(x,P,p))return A(),1;for(;;)if((u=B(C))>=256){if(0===(u-=256))break;for(f=M(i[u-=1])+r[u],u=B(x),o[u]>8?(b=M(8),b|=M(o[u]-8)<<8):b=M(o[u]),b+=n[u];f--;)R(v[m-b&32767])}else R(u)}}while(!a);return A(),k(),0}function z(){var e,t,r,i,n,o=[];try{if(d=[],g=!1,o[0]=T(),o[1]=T(),120===o[0]&&218===o[1]&&(Y(),f[p]=[d.join(""),"geonext.gxt"],p++),31===o[0]&&139===o[1]&&(F(),f[p]=[d.join(""),"file"],p++),80===o[0]&&75===o[1]){if(g=!0,o[2]=T(),o[3]=T(),3===o[2]&&4===o[3]){for(o[0]=T(),o[1]=T(),l=T(),l|=T()<<8,n=T(),n|=T()<<8,T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),T(),i=T(),i|=T()<<8,r=T(),r|=T()<<8,e=0,O=[];i--;)"/"===(t=T())|":"===t?e=0:e<255&&(O[e++]=String.fromCharCode(t));for(c||(c=O),e=0;e<r;)t=T(),e++;if(8===n&&(Y(),f[p]=new Array(2),f[p][0]=d.join(""),f[p][1]=O.join(""),p++),F())return!1}return!0}}catch(e){throw e}return!1}function F(){var e,t,r=[];if(8&l&&(r[0]=T(),r[1]=T(),r[2]=T(),r[3]=T(),80===r[0]&&75===r[1]&&7===r[2]&&8===r[3]?(T(),T(),T(),T()):(r[0],r[1],r[2],r[3]),T(),T(),T(),T(),T(),T(),T(),T()),g&&z())return!1;if(r[0]=T(),8!==r[0])return!0;if(l=T(),T(),T(),T(),T(),T(),T(),4&l)for(r[0]=T(),r[2]=T(),S=r[0]+256*r[1],e=0;e<S;e++)T();if(8&l)for(e=0,O=[],t=T();t;)"7"!==t&&":"!==t||(e=0),e<255&&(O[e++]=t),t=T();if(16&l)for(t=T();t;)t=T();return 2&l&&(T(),T()),Y(),T(),T(),T(),T(),T(),T(),T(),T(),g&&z(),!1}E[0]=0,e.Util.Unzip.prototype.unzipFile=function(e){var t;for(this.unzip(),t=0;t<f.length;t++)if(f[t][1]===e)return f[t][0];return""},e.Util.Unzip.prototype.unzip=function(){return z(),f}},e.Util})),define("utils/encoding",["jxg"],(function(e){"use strict";var t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];return e.Util=e.Util||{},e.Util.UTF8={encode:function(e){var t,r,i="",n=e.length;if(e=e.replace(/\r\n/g,"\n"),"function"==typeof unescape&&"function"==typeof encodeURIComponent)return unescape(encodeURIComponent(e));for(t=0;t<n;t++)(r=e.charCodeAt(t))<128?i+=String.fromCharCode(r):r>127&&r<2048?(i+=String.fromCharCode(r>>6|192),i+=String.fromCharCode(63&r|128)):(i+=String.fromCharCode(r>>12|224),i+=String.fromCharCode(r>>6&63|128),i+=String.fromCharCode(63&r|128));return i},decode:function(e){var r,i,n,o=0,s=0,a=0,l=[],c=e.length,u=[];for(r=0;r<c;r++)i=e.charCodeAt(r),n=t[i],s=0!==a?63&i|s<<6:255>>n&i,0===(a=t[256+a+n])&&(s>65535?l.push(55232+(s>>10),56320+(1023&s)):l.push(s),++o%1e4==0&&(u.push(String.fromCharCode.apply(null,l)),l=[]));return u.push(String.fromCharCode.apply(null,l)),u.join("")},asciiCharCodeAt:function(e,t){var r=e.charCodeAt(t);if(r>255)switch(r){case 8364:r=128;break;case 8218:r=130;break;case 402:r=131;break;case 8222:r=132;break;case 8230:r=133;break;case 8224:r=134;break;case 8225:r=135;break;case 710:r=136;break;case 8240:r=137;break;case 352:r=138;break;case 8249:r=139;break;case 338:r=140;break;case 381:r=142;break;case 8216:r=145;break;case 8217:r=146;break;case 8220:r=147;break;case 8221:r=148;break;case 8226:r=149;break;case 8211:r=150;break;case 8212:r=151;break;case 732:r=152;break;case 8482:r=153;break;case 353:r=154;break;case 8250:r=155;break;case 339:r=156;break;case 382:r=158;break;case 376:r=159}return r}},e.Util.UTF8})),define("utils/base64",["jxg","utils/encoding"],(function(e,t){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="=";function n(e,t){return 255&e.charCodeAt(t)}function o(e,t){return r.indexOf(e.charAt(t))}return e.Util=e.Util||{},e.Util.Base64={encode:function(e){var o,s,a,l,c,u=[];for(l=(a=(c=t.encode(e)).length)%3,o=0;o<a-l;o+=3)s=n(c,o)<<16|n(c,o+1)<<8|n(c,o+2),u.push(r.charAt(s>>18),r.charAt(s>>12&63),r.charAt(s>>6&63),r.charAt(63&s));switch(l){case 1:s=n(c,a-1),u.push(r.charAt(s>>2),r.charAt(s<<4&63),i,i);break;case 2:s=n(c,a-2)<<8|n(c,a-1),u.push(r.charAt(s>>10),r.charAt(s>>4&63),r.charAt(s<<2&63),i)}return u.join("")},decode:function(e,r){var n,s,a,l,c,u,h=[],d=[];if((a=(n=e.replace(/[^A-Za-z0-9+/=]/g,"")).length)%4!=0)throw new Error("JSXGraph/utils/base64: Can't decode string (invalid input length).");for(n.charAt(a-1)===i&&(l=1,n.charAt(a-2)===i&&(l=2),a-=4),s=0;s<a;s+=4)c=o(n,s)<<18|o(n,s+1)<<12|o(n,s+2)<<6|o(n,s+3),d.push(c>>16,c>>8&255,255&c),s%1e4==0&&(h.push(String.fromCharCode.apply(null,d)),d=[]);switch(l){case 1:c=o(n,a)<<12|o(n,a+1)<<6|o(n,a+2),d.push(c>>10,c>>2&255);break;case 2:c=o(n,s)<<6|o(n,s+1),d.push(c>>4)}return h.push(String.fromCharCode.apply(null,d)),u=h.join(""),r&&(u=t.decode(u)),u},decodeAsArray:function(e){var t,r=this.decode(e),i=[],n=r.length;for(t=0;t<n;t++)i[t]=r.charCodeAt(t);return i}},e.Util.Base64})),define("server/server",["jxg","utils/zip","utils/base64","utils/type"],(function(e,t,r,i){"use strict";return e.Server={modules:{},runningCalls:{},handleError:function(t){e.debug("error occured, server says: "+t.message)},callServer:function(n,o,s,a){var l,c,u,h,d,p,f;for(p in a=a||!1,s)s.hasOwnProperty(p)&&(escape(p),escape(s[p]));d=i.toJSON(s);do{h=n+Math.floor(4096*Math.random())}while(i.exists(this.runningCalls[h]));return this.runningCalls[h]={action:n},i.exists(s.module)&&(this.runningCalls[h].module=s.module),l=e.serverBase+"JXGServer.py",c="action="+escape(n)+"&id="+h+"&dataJSON="+escape(r.encode(d)),this.cbp=function(e){var n,s,a,l,c,u,h,d;if(n=new t.Unzip(r.decodeAsArray(e)).unzip(),i.isArray(n)&&n.length>0&&(n=n[0][0]),i.exists(n))if("error"===(s=window.JSON&&window.JSON.parse?window.JSON.parse(n):new Function("return "+n)()).type)this.handleError(s);else if("response"===s.type){for(u=s.id,h=0;h<s.fields.length;h++)l=(a=s.fields[h]).namespace+("object"==typeof new Function("return "+a.namespace)()?".":".prototype.")+a.name+" = "+a.value,new Function(l)();for(h=0;h<s.handler.length;h++){for(a=s.handler[h],c=[],d=0;d<a.parameters.length;d++)c[d]='"'+a.parameters[d]+'": '+a.parameters[d];l="if(typeof JXG.Server.modules."+this.runningCalls[u].module+' == "undefined")JXG.Server.modules.'+this.runningCalls[u].module+" = {};",l+="JXG.Server.modules."+this.runningCalls[u].module+"."+a.name+"_cb = "+a.callback+";",l+="JXG.Server.modules."+this.runningCalls[u].module+"."+a.name+" = function ("+a.parameters.join(",")+', __JXGSERVER_CB__, __JXGSERVER_SYNC) {if(typeof __JXGSERVER_CB__ == "undefined") __JXGSERVER_CB__ = JXG.Server.modules.'+this.runningCalls[u].module+"."+a.name+"_cb;var __JXGSERVER_PAR__ = {"+c.join(",")+', "module": "'+this.runningCalls[u].module+'", "handler": "'+a.name+'" };JXG.Server.callServer("exec", __JXGSERVER_CB__, __JXGSERVER_PAR__, __JXGSERVER_SYNC);};',new Function(l)()}delete this.runningCalls[u],o(s.data)}},this.cb=e.bind(this.cbp,this),window.XMLHttpRequest?(u=new XMLHttpRequest).overrideMimeType("text/plain; charset=iso-8859-1"):u=new ActiveXObject("Microsoft.XMLHTTP"),!(!u||(u.open("POST",l,!a),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a||(u.onreadystatechange=(f=this.cb,function(){return 4===u.readyState&&200===u.status&&(f(u.responseText),!0)})),u.send(c),!a))&&(this.cb(u.responseText),!0)},loadModule_cb:function(t){var r;for(r=0;r<t.length;r++)e.debug(t[r].name+": "+t[r].value)},loadModule:function(t){return e.Server.callServer("load",e.Server.loadModule_cb,{module:t},!0)}},e.Server.load=e.Server.loadModule,e.Server})),define("math/symbolic",["base/constants","base/coords","math/math","math/geometry","server/server","utils/type"],(function(e,t,r,i,n,o){"use strict";var s;return r.Symbolic={generateSymbolicCoordinatesPartial:function(e,t,r,i){var n,s,a,l=t.ancestors,c=0,u=function(e){return"underscore"===i?r+"_{"+e+"}":"brace"===i?r+"["+e+"]":r+e};for(s in e.listOfFreePoints=[],e.listOfDependantPoints=[],l)if(l.hasOwnProperty(s)&&(n=0,o.isPoint(l[s]))){for(a in l[s].ancestors)l[s].ancestors.hasOwnProperty(a)&&n++;0===n?(l[s].symbolic.x=l[s].coords.usrCoords[1],l[s].symbolic.y=l[s].coords.usrCoords[2],e.listOfFreePoints.push(l[s])):(c+=1,l[s].symbolic.x=u(c),c+=1,l[s].symbolic.y=u(c),e.listOfDependantPoints.push(l[s]))}return o.isPoint(t)&&(t.symbolic.x="x",t.symbolic.y="y"),c},clearSymbolicCoordinates:function(e){var t=function(e){var t,r=e&&e.length||0;for(t=0;t<r;t++)o.isPoint(e[t])&&(e[t].symbolic.x="",e[t].symbolic.y="")};t(e.listOfFreePoints),t(e.listOfDependantPoints),delete e.listOfFreePoints,delete e.listOfDependantPoints},generatePolynomials:function(e,t,r){var i,n,s,a,l=t.ancestors,c=[],u=[];for(i in r&&this.generateSymbolicCoordinatesPartial(e,t,"u","brace"),l[t.id]=t,l)if(l.hasOwnProperty(i)&&(a=0,c=[],o.isPoint(l[i]))){for(n in l[i].ancestors)l[i].ancestors.hasOwnProperty(n)&&a++;if(a>0)for(c=l[i].generatePolynomial(),s=0;s<c.length;s++)u.push(c[s])}return r&&this.clearSymbolicCoordinates(e),u},geometricLocusByGroebnerBase:function(a,l){var c,u,h,d,p,f,v,m,g,b,y,_,C=a.options.locus,x={},w=this.generateSymbolicCoordinatesPartial(a,l,"u","brace"),P=new t(e.COORDS_BY_USR,[0,0],a),S=new t(e.COORDS_BY_USR,[a.canvasWidth,a.canvasHeight],a),E=1,O=0,T=0,k=0;if(n.modules.geoloci===s&&n.loadModule("geoloci"),n.modules.geoloci===s)throw new Error("JSXGraph: Unable to load JXG.Server module 'geoloci.py'.");if(f=P.usrCoords[1],v=S.usrCoords[1],m=S.usrCoords[2],g=P.usrCoords[2],C.translateToOrigin&&a.listOfFreePoints.length>0){for(O=(h=C.toOrigin!==s&&null!==C.toOrigin&&o.isInArray(a.listOfFreePoints,C.toOrigin.id)?C.toOrigin:a.listOfFreePoints[0]).symbolic.x,T=h.symbolic.y,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x-=O,a.listOfFreePoints[p].symbolic.y-=T;if(f-=O,v-=O,m-=T,g-=T,C.translateTo10&&a.listOfFreePoints.length>1){for(d=C.to10!==s&&null!==C.to10&&C.to10.id!==C.toOrigin.id&&o.isInArray(a.listOfFreePoints,C.to10.id)?C.to10:a.listOfFreePoints[0].id===h.id?a.listOfFreePoints[1]:a.listOfFreePoints[0],k=i.rad([1,0],[0,0],[d.symbolic.x,d.symbolic.y]),b=Math.cos(-k),y=Math.sin(-k),p=0;p<a.listOfFreePoints.length;p++)_=a.listOfFreePoints[p].symbolic.x,a.listOfFreePoints[p].symbolic.x=b*a.listOfFreePoints[p].symbolic.x-y*a.listOfFreePoints[p].symbolic.y,a.listOfFreePoints[p].symbolic.y=y*_+b*a.listOfFreePoints[p].symbolic.y;if(d.symbolic.y=0,_=f,f=b*f-y*m,m=y*_+b*m,_=v,v=b*v-y*g,g=y*_+b*g,C.stretch&&Math.abs(d.symbolic.x)>r.eps){for(E=d.symbolic.x,p=0;p<a.listOfFreePoints.length;p++)a.listOfFreePoints[p].symbolic.x/=E,a.listOfFreePoints[p].symbolic.y/=E;for(p=0;p<a.objectsList.length;p++)a.objectsList[p].elementClass===e.OBJECT_CLASS_CIRCLE&&"pointRadius"===a.objectsList[p].method&&(x[p]=a.objectsList[p].radius,a.objectsList[p].radius/=E);f/=E,v/=E,m/=E,g/=E,d.symbolic.x=1}}for(p=0;p<a.listOfFreePoints.length;p++)_=a.listOfFreePoints[p].symbolic.x,Math.abs(_)<r.eps&&(a.listOfFreePoints[p].symbolic.x=0),Math.abs(_-Math.round(_))<r.eps&&(a.listOfFreePoints[p].symbolic.x=Math.round(_)),_=a.listOfFreePoints[p].symbolic.y,Math.abs(_)<r.eps&&(a.listOfFreePoints[p].symbolic.y=0),Math.abs(_-Math.round(_))<r.eps&&(a.listOfFreePoints[p].symbolic.y=Math.round(_))}for(p in c=this.generatePolynomials(a,l).join(","),this.cbp=function(e){u=e},this.cb=o.bind(this.cbp,this),n.modules.geoloci.lociCoCoA(f,v,m,g,w,c,E,k,O,T,this.cb,!0),this.clearSymbolicCoordinates(a),x)x.hasOwnProperty(p)&&(a.objects[p].radius=x[p]);return u}},r.Symbolic})),define("math/clip",["jxg","base/constants","base/coords","math/math","math/geometry","utils/type"],(function(e,t,r,i,n,o){"use strict";return i.Clip={_isSeparator:function(e){return isNaN(e.coords.usrCoords[1])&&isNaN(e.coords.usrCoords[2])},makeDoublyLinkedList:function(e){var t,r=null,i=[],n=e.length;if(n>0)for(t=0;t<n;t++)this._isSeparator(e[t])?(e[t]._next=e[(t+1)%n],e[t]._prev=e[(n+t-1)%n]):(null===r&&(r=t,i.push(r)),this._isSeparator(e[(t+1)%n])||t===n-1?(e[t]._next=e[r],e[r]._prev=e[t],e[t]._end=!0,r=null):(e[t]._next=e[(t+1)%n],e[r]._prev=e[t]),this._isSeparator(e[(n+t-1)%n])||(e[t]._prev=e[(n+t-1)%n]));return i},det:function(e,t,r){return(e[1]-r[1])*(t[2]-r[2])-(t[1]-r[1])*(e[2]-r[2])},windingNumber:function(e,t){var r,n,o,s,a,l=0,c=t.length,u=e[1],h=e[2];if(0===c)return 0;if(isNaN(u)||isNaN(h))return 1;if(t[0].coords.usrCoords[1]===u&&t[0].coords.usrCoords[2]===h)return 1;for(a=0;a<c;a++)if(r=t[a].coords.usrCoords,n=t[(a+1)%c].coords.usrCoords,!(0===r[0]||0===n[0]||isNaN(r[1])||isNaN(n[1])||isNaN(r[2])||isNaN(n[2]))){if(n[2]===h){if(n[1]===u)return 1;if(r[2]===h&&n[1]>u==r[1]<u)return 0}if(r[2]<h!=n[2]<h)if(s=2*(n[2]>r[2]?1:0)-1,r[1]>=u)if(n[1]>u)l+=s;else{if(0===(o=this.det(r,n,e)))return 0;o>0==n[2]>r[2]&&(l+=s)}else n[1]>u&&(o=this.det(r,n,e))>0+i.eps==n[2]>r[2]&&(l+=s)}return l},Vertex:function(e,r,i,n,o,s){this.pos=r,this.intersection=!0,this.coords=e,this.elementClass=t.OBJECT_CLASS_POINT,this.data={alpha:i,path:n,pathname:o,done:!1,type:s,idx:0},this.neighbour=null,this.entry_exit=!1},_addToList:function(e,r,n){var o=e.length,s=i.eps*i.eps;o>0&&Math.abs(e[o-1].coords.usrCoords[0]-r.usrCoords[0])<s&&Math.abs(e[o-1].coords.usrCoords[1]-r.usrCoords[1])<s&&Math.abs(e[o-1].coords.usrCoords[2]-r.usrCoords[2])<s||e.push({pos:n,intersection:!1,coords:r,elementClass:t.OBJECT_CLASS_POINT})},sortIntersections:function(e){var t,r,i,n,o,s,a=[],l=e.length;for(t=0;t<l;t++)if(e[t].sort((function(e,t){return e.data.alpha>t.data.alpha?1:-1})),e[t].length>0){for(o=e[t].length-1,s=(n=(i=e[t][0]).data.path[i.pos])._next,t===l-1&&(n._end=!1),0===i.data.alpha&&"T"===i.data.type?(n.intersection=!0,n.data=i.data,n.neighbour=i.neighbour,n.neighbour.neighbour=n,n.entry_exit=!1,e[t][0]=n):(i._prev=n,i._prev._next=i),r=1;r<=o;r++)(i=e[t][r])._prev=e[t][r-1],i._prev._next=i;(i=e[t][o])._next=s,i._next._prev=i,t===l-1&&(i._end=!0),a=a.concat(e[t])}return a},_inbetween:function(e,t,r){var n,o=i.eps*i.eps,s=r[1]-t[1],a=r[2]-t[2],l=e[1]-t[1],c=e[2]-t[2];return 0===s&&0===a&&0===l&&0===c||(n=Math.abs(l)<o&&Math.abs(s)<o?c/a:l/s,Math.abs(n)<o&&(n=0),n)},_print_array:function(e){var t,r;for(t=0;t<e.length;t++)try{r="",e[t]._end&&(r=" end"),console.log(t,e[t].coords.usrCoords,e[t].data.type,"\t","prev",e[t]._prev.coords.usrCoords,"next",e[t]._next.coords.usrCoords+r)}catch(r){console.log(t,e[t].coords.usrCoords)}},_print_list:function(e){for(var t,r=0;r<100&&(t=e.data?e.data.alpha:"-",console.log("\t",e.coords.usrCoords,"\n\t\tis:",e.intersection,"end:",e._end,t,"\n\t\t-:",e._prev.coords.usrCoords,"\n\t\t+:",e._next.coords.usrCoords,"\n\t\tn:",e.intersection?e.neighbour.coords.usrCoords:"-"),!e._end);)e=e._next,r++},_noOverlap:function(e,t,r,n){var o,s,a,l,c,u=Math.sqrt(i.eps),h=!1;for(o=0;o<3;o++)if(s=Math.min(e[o],t[o]),a=Math.max(e[o],t[o]),l=Math.min(r[o],n[o]),c=Math.max(r[o],n[o]),a<l-u||s>c+u){h=!0;break}return h},findIntersections:function(e,o,s){var a,l,c,u,h,d,p,f,v,m,g,b,y,_=[],C=i.eps,x=e.length,w=o.length,P=[],S=[],E=[],O=!1,T=!1;for(l=0;l<w;l++)E.push([]);for(a=0;a<x;a++)if(S.push([]),this._isSeparator(e[a])||this._isSeparator(e[(a+1)%x]))O=!0;else{if(O&&a===x-1)break;for(u=e[a].coords.usrCoords,h=e[(a+1)%x].coords.usrCoords,l=0;l<w;l++)if(this._isSeparator(o[l])||this._isSeparator(o[(l+1)%w]))T=!0;else{if(T&&l===w-1)break;if(d=o[l].coords.usrCoords,p=o[(l+1)%w].coords.usrCoords,!this._noOverlap(u,h,d,p)&&(_=n.meetSegmentSegment(u,h,d,p),f=n.distance(u,h,3),v=n.distance(d,p,3),_[1]*f>-C&&_[1]<1-C/f&&_[2]*v>-C&&_[2]<1-C/v||_[1]===1/0&&_[2]===1/0&&i.norm(_[0],3)<C)){if(c=new r(t.COORDS_BY_USER,_[0],s),g="X",Math.abs(_[1])*f<C||Math.abs(_[2])*v<C)g="T",Math.abs(_[1])*f<C&&(_[1]=0),Math.abs(_[2])*v<C&&(_[2]=0),c=0===_[1]?new r(t.COORDS_BY_USER,u,s):new r(t.COORDS_BY_USER,d,s);else if(_[1]===1/0&&_[2]===1/0&&i.norm(_[0],3)<C){(m=this._inbetween(u,d,p))>=0&&m<1&&(g="T",c=new r(t.COORDS_BY_USER,u,s),_[1]=0,_[2]=m,b=new this.Vertex(c,a,_[1],e,"S",g),y=new this.Vertex(c,l,_[2],o,"C",g),b.neighbour=y,y.neighbour=b,S[a].push(b),E[l].push(y)),m=this._inbetween(d,u,h),n.distance(u,d,3)>C&&m>=0&&m<1&&(g="T",c=new r(t.COORDS_BY_USER,d,s),_[1]=m,_[2]=0,b=new this.Vertex(c,a,_[1],e,"S",g),y=new this.Vertex(c,l,_[2],o,"C",g),b.neighbour=y,y.neighbour=b,S[a].push(b),E[l].push(y));continue}b=new this.Vertex(c,a,_[1],e,"S",g),y=new this.Vertex(c,l,_[2],o,"C",g),b.neighbour=y,y.neighbour=b,S[a].push(b),E[l].push(y)}}}for(P=this.sortIntersections(S),a=0;a<P.length;a++)P[a].data.idx=a,P[a].neighbour.data.idx=a;return[P,this.sortIntersections(E)]},_getPosition:function(e,t,r,i){var n=this.det(e,t,r),o=this.det(e,r,i);return this.det(t,r,i)>=0?n>=0&&o>=0?"left":"right":n>=0||o>=0?"left":"right"},_classifyDegenerateIntersections:function(e){var t,r,s,a,l,c,u,h,d,p,f,v,m;for(u=0,e._tours=0;;){if(e.intersection&&"T"===e.data.type&&(t=e._next.coords.usrCoords,r=e._prev.coords.usrCoords,n.distance(e.coords.usrCoords,t,3)<i.eps&&(t=e._next._next.coords.usrCoords),n.distance(e.coords.usrCoords,r,3)<i.eps&&(r=e._prev._prev.coords.usrCoords),a=(l=e.neighbour)._prev.coords.usrCoords,s=l._next.coords.usrCoords,n.distance(l.coords.usrCoords,s,3)<i.eps&&(s=l._next._next.coords.usrCoords),n.distance(l.coords.usrCoords,a,3)<i.eps&&(a=l._prev._prev.coords.usrCoords),p=this.det(e.coords.usrCoords,r,a),f=this.det(e.coords.usrCoords,t,s),v=this.det(e.coords.usrCoords,r,s),m=this.det(e.coords.usrCoords,t,a),0===p&&0===f&&0===v&&0===m&&(e.coords.usrCoords[1]*=1+Math.random()*i.eps,e.coords.usrCoords[2]*=1+Math.random()*i.eps,l.coords.usrCoords[1]=e.coords.usrCoords[1],l.coords.usrCoords[2]=e.coords.usrCoords[2],p=this.det(e.coords.usrCoords,r,a),f=this.det(e.coords.usrCoords,t,s),v=this.det(e.coords.usrCoords,r,s),m=this.det(e.coords.usrCoords,t,a)),d=!1,0===p?n.affineRatio(e.coords.usrCoords,r,a)<0&&(d=!0):0===f?n.affineRatio(e.coords.usrCoords,t,s)<0&&(d=!0):0===v?n.affineRatio(e.coords.usrCoords,r,s)>0&&(d=!0):0===m&&n.affineRatio(e.coords.usrCoords,t,a)>0&&(d=!0),d&&(h=a,a=s,s=h,h=p,p=v,v=h,h=f,f=m,m=h),o.exists(e.delayedStatus)||(e.delayedStatus=[]),0===p&&0===f?e.delayedStatus=["on","on"]:0===p?(c=this._getPosition(t,a,l.coords.usrCoords,s),e.delayedStatus=["on",c]):0===f?(c=this._getPosition(r,a,l.coords.usrCoords,s),e.delayedStatus=[c,"on"]):0===e.delayedStatus.length&&(this._getPosition(r,a,l.coords.usrCoords,s)!==this._getPosition(t,a,l.coords.usrCoords,s)?e.data.type="X":e.data.type="B")),o.exists(e._tours)&&e._tours++,e._tours>3||e._end||u>1e3){u>1e3&&console.log("Clipping: _classifyDegenerateIntersections exit"),o.exists(e._tours)&&delete e._tours;break}e.intersection&&u++,e=e._next}},_handleIntersectionChains:function(e){for(var t,r=0,i="Null",n=!1,o=!1;!0===e.intersection&&("T"===e.data.type&&("on"!==e.delayedStatus[0]&&"on"===e.delayedStatus[1]?(n=!0,t=e,i=e.delayedStatus[0]):n&&"on"===e.delayedStatus[0]&&"on"===e.delayedStatus[1]?e.data.type="B":n&&"on"===e.delayedStatus[0]&&"on"!==e.delayedStatus[1]&&(n=!1,i===e.delayedStatus[1]?(t.data.type="DB",e.data.type="DB"):(t.data.type="DX",e.data.type="DX"))),r++),e._end&&(o=!0),!o||n;){if(r>1e3){console.log("Warning: _handleIntersectionChains: intersection chain reached maximum numbers of iterations");break}e=e._next}},_handleFullyDegenerateCase:function(e,n,o){var s,a,l,c,u,h,d,p,f,v,m,g,b,y=[e,n];for(l=0;l<2;l++){for(v=(s=y[l]).length,p=0,b=!0;p<v;p++)if(!s[p].intersection){b=!1;break}if(b)for(m=(a=y[(l+1)%2]).length,p=0;p<v;p++){for(u=s[p].coords.usrCoords,h=s[(p+1)%v].coords.usrCoords,c=[.5*(u[0]+h[0]),.5*(u[1]+h[1]),.5*(u[2]+h[2])],f=0,g=!1;f<m;f++)if(Math.abs(this.det(a[f].coords.usrCoords,a[(f+1)%m].coords.usrCoords,c))<i.eps){g=!0;break}if(!g){d={pos:p,intersection:!1,coords:new r(t.COORDS_BY_USER,c,o),elementClass:t.OBJECT_CLASS_POINT},s[p]._next=d,d._prev=s[p],s[(p+1)%v]._prev=d,d._next=s[(p+1)%v],s[p]._end&&(s[p]._end=!1,d._end=!0);break}}}},_getStatus:function(e,t){for(;e.intersection&&!e._end;)e=e._next;return[e,this.windingNumber(e.coords.usrCoords,t)%2==0?"entry":"exit"]},markEntryExit:function(e,t,r){var i,n,s,a,l,c,u,h=null,d=0;for(c=r.length,l=0;l<c;l++)for(u=r[l],this._classifyDegenerateIntersections(e[u]),this._handleIntersectionChains(e[u]),n=(a=this._getStatus(e[u],t))[0],i=a[1],n._starter=!0,s=0,h=null,d=0;!0===n.intersection&&("X"===n.data.type&&1===d&&(h.entry_exit=i,"exit"===i&&(h.data.type="X"),d=2),"X"!==n.data.type&&"DB"!==n.data.type||(n.entry_exit=i,i="entry"===i?"exit":"entry"),"DX"===n.data.type&&(0===d?(h=n,d=1):1===d?(n.entry_exit=i,h.entry_exit=i,"exit"===i?h.data.type="X":n.data.type="X",i="entry"===i?"exit":"entry",h=null,d=0):2===d&&(n.entry_exit=i,n.data.type="X",i="entry"===i?"exit":"entry",h=null,d=0))),n=n._next,!(o.exists(n._starter)||s>1e4);)s++},_stayOnPath:function(e,t){var r=!0;return e.intersection&&"B"!==e.data.type&&(r=t===e.entry_exit),r},_addVertex:function(e,t,r){return isNaN(t.coords.usrCoords[1])||isNaN(t.coords.usrCoords[2])||e.push(t),t.intersection&&t.data.done?(r&&console.log("Add last intersection point",t.coords.usrCoords,"on",t.data.pathname,t.entry_exit,t.data.type),!0):(t.intersection&&(t.data.done=!0,r&&console.log("Add intersection point",t.coords.usrCoords,"on",t.data.pathname,t.entry_exit,t.data.type)),!1)},tracing:function(e,t,r){for(var i,n,o,s,a=0,l=1e4,c=0,u=[],h=!1,d=!1;c<t.length&&a<l;)if((n=t[c]).data.done||"X"!==n.data.type)c++;else{u.length>0&&u.push([NaN,NaN]),o=n.data.idx,i=e,h=this._addVertex(u,n,d),s=n.entry_exit;do{if(h)break;if("intersection"===r&&"entry"===n.entry_exit||"union"===r&&"exit"===n.entry_exit||"difference"===r&&i===e==("exit"===n.entry_exit)){do{if(n=n._next,h=this._addVertex(u,n,d))break}while(this._stayOnPath(n,s));a++}else{do{if(n=n._prev,h=this._addVertex(u,n,d))break}while(this._stayOnPath(n,s));a++}if(h)break;if(!n.neighbour)return console.log("Tracing: emergency break - no neighbour!!!!!!!!!!!!!!!!!",a),[[0],[0]];if((n=n.neighbour).data.done)break;n.data.done=!0,s=n.entry_exit,i=n.data.path}while(n.data.idx!==o&&a<l);a>=l&&console.log("Tracing: stopping an infinite loop!",a),c++}return this._getCoordsArrays(u,!1)},isEmptyCase:function(e,t,r){return"intersection"===r&&(0===e.length||0===t.length)||"union"===r&&0===e.length&&0===t.length||"difference"===r&&0===e.length},_getCoordsArrays:function(e,t){var r,i=[],n=[],o=e.length;for(r=0;r<o;r++)e[r].coords?(i.push(e[r].coords.usrCoords[1]),n.push(e[r].coords.usrCoords[2])):(i.push(e[r][0]),n.push(e[r][1]));return t&&o>0&&(e[0].coords?(i.push(e[0].coords.usrCoords[1]),n.push(e[0].coords.usrCoords[2])):(i.push(e[0][0]),n.push(e[0][1]))),[i,n]},handleEmptyIntersection:function(e,t,r){var i,o,s=!1,a=[];if(0===e.length)return a="union"===r?t:[],this._getCoordsArrays(a,!0);if(0===t.length)return a="intersection"===r?[]:e,this._getCoordsArrays(a,!0);if(e.length>0)for(i=e[0];i.intersection&&!(i=i._next)._end;);if(t.length>0)for(o=t[0];o.intersection&&!(o=o._next)._end;);return 0===this.windingNumber(i.coords.usrCoords,t)?0!==this.windingNumber(o.coords.usrCoords,e)?("union"===r?(a=a.concat(e)).push(e[0]):"difference"===r&&((a=a.concat(e)).push(e[0]),n.signedPolygon(e)*n.signedPolygon(t)>0&&a.reverse(),a.push([NaN,NaN])),"difference"!==r&&"intersection"!==r||((a=a.concat(t)).push(t[0]),s=!1)):"difference"===r?(a=a.concat(e),s=!0):"union"===r&&((a=a.concat(e)).push(e[0]),a.push([NaN,NaN]),(a=a.concat(t)).push(t[0])):"intersection"===r?(a=a.concat(e),s=!0):"union"===r&&(a=a.concat(t)).push(t[0]),this._getCoordsArrays(a,s)},_countCrossingIntersections:function(e){var t,r=e.length,i=0;for(t=0;t<r;t++)"X"===e[t].data.type&&i++;return i},_getPath:function(e,i){var s,a,l,c,u,h,d,p=[];if(e.elementClass!==t.OBJECT_CLASS_CURVE||e.type!==t.OBJECT_TYPE_ARC&&e.type!==t.OBJECT_TYPE_SECTOR){if(e.elementClass===t.OBJECT_CLASS_CURVE&&o.exists(e.points))for(a=e.numberPoints,s=0;s<a;s++)this._addToList(p,e.points[s],s);else if(e.type===t.OBJECT_TYPE_POLYGON)for(s=0;s<e.vertices.length;s++)this._addToList(p,e.vertices[s].coords,s);else if(e.elementClass===t.OBJECT_CLASS_CIRCLE)for(d=359,l=e.Radius(),c=2*Math.PI/d,s=0;s<=d;s++)this._addToList(p,new r(t.COORDS_BY_USER,[e.center.coords.usrCoords[0],e.center.coords.usrCoords[1]+Math.cos(s*c)*l,e.center.coords.usrCoords[2]+Math.sin(s*c)*l],i),s);else if(o.isArray(e))for(a=e.length,s=0;s<a;s++)o.exists(e[s].coords)?this._addToList(p,e[s].coords,s):o.isArray(e[s])?this._addToList(p,new r(t.COORDS_BY_USER,e[s],i),s):o.exists(e[s].usrCoords)&&this._addToList(p,e[s],s)}else{for(u=n.rad(e.radiuspoint,e.center,e.anglepoint),d=Math.floor(180*u/Math.PI),l=e.Radius(),c=u/d,h=Math.atan2(e.radiuspoint.coords.usrCoords[2]-e.center.coords.usrCoords[2],e.radiuspoint.coords.usrCoords[1]-e.center.coords.usrCoords[1]),e.type===t.OBJECT_TYPE_SECTOR&&this._addToList(p,e.center.coords,0),s=0;s<=d;s++)this._addToList(p,new r(t.COORDS_BY_USER,[e.center.coords.usrCoords[0],e.center.coords.usrCoords[1]+Math.cos(s*c+h)*l,e.center.coords.usrCoords[2]+Math.sin(s*c+h)*l],i),s+1);e.type===t.OBJECT_TYPE_SECTOR&&this._addToList(p,e.center.coords,d+2)}return p},greinerHormann:function(e,t,r,o){var s,a,l,c,u=[],h=[];return(s=(u=this._getPath(e,o)).length)>0&&n.distance(u[0].coords.usrCoords,u[s-1].coords.usrCoords,3)<i.eps&&u.pop(),(s=(h=this._getPath(t,o)).length)>0&&n.distance(h[0].coords.usrCoords,h[s-1].coords.usrCoords,3)<i.eps*i.eps&&h.pop(),this.isEmptyCase(u,h,r)?[[],[]]:(l=this.makeDoublyLinkedList(u),c=this.makeDoublyLinkedList(h),a=this.findIntersections(u,h,o)[0],this._handleFullyDegenerateCase(u,h,o),this.markEntryExit(u,h,l),this.markEntryExit(h,u,c),0===this._countCrossingIntersections(a)?this.handleEmptyIntersection(u,h,r):this.tracing(u,a,r))},union:function(e,t,r){return this.greinerHormann(e,t,"union",r)},intersection:function(e,t,r){return this.greinerHormann(e,t,"intersection",r)},difference:function(e,t,r){return this.greinerHormann(e,t,"difference",r)}},e.extend(i.Clip,{}),i.Clip})),define("math/poly",["jxg","math/math","utils/type"],(function(e,t,r){"use strict";return t.Poly={},t.Poly.Ring=function(e){this.vars=e},e.extend(t.Poly.Ring.prototype,{}),t.Poly.Monomial=function(e,t,i){var n;if(!r.exists(e))throw new Error("JSXGraph error: In JXG.Math.Poly.monomial missing parameter 'ring'.");for(r.isArray(i)||(i=[]),n=(i=i.slice(0,e.vars.length)).length;n<e.vars.length;n++)i.push(0);this.ring=e,this.coefficient=t||0,this.exponents=r.deepCopy(i)},e.extend(t.Poly.Monomial.prototype,{copy:function(){return new t.Poly.Monomial(this.ring,this.coefficient,this.exponents)},print:function(){var e,t=[];for(e=0;e<this.ring.vars.length;e++)t.push(this.ring.vars[e]+"^"+this.exponents[e]);return this.coefficient+"*"+t.join("*")}}),t.Poly.Polynomial=function(e,t){var i;if(!r.exists(e))throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial missing parameter 'ring'.");i=r.exists(t)&&r.isString(t)?void 0:[],this.ring=e,this.monomials=i},e.extend(t.Poly.Polynomial.prototype,{findSignature:function(e){var t;for(t=0;t<this.monomials.length;t++)if(r.cmpArrays(this.monomials[t].exponents,e))return t;return-1},addSubMonomial:function(e,t){var r;(r=this.findSignature(e.exponents))>-1?this.monomials[r].coefficient+=t*e.coefficient:(e.coefficient*=t,this.monomials.push(e))},add:function(e){var t;if(!r.exists(e)||e.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.add either summand is undefined or rings don't match.");if(r.isArray(e.exponents))this.addSubMonomial(e,1);else for(t=0;t<e.monomials.length;t++)this.addSubMonomial(e.monomials[t],1)},sub:function(e){var t;if(!r.exists(e)||e.ring!==this.ring)throw new Error("JSXGraph error: In JXG.Math.Poly.polynomial.sub either summand is undefined or rings don't match.");if(r.isArray(e.exponents))this.addSubMonomial(e,-1);else for(t=0;t<e.monomials.length;t++)this.addSubMonomial(e.monomials[t],-1)},copy:function(){var e,r;for(r=new t.Poly.Polynomial(this.ring),e=0;e<this.monomials.length;e++)r.monomials.push(this.monomials[e].copy());return r},print:function(){var e,t=[];for(e=0;e<this.monomials.length;e++)t.push("("+this.monomials[e].print()+")");return t.join("+")}}),t.Poly})),define("math/complex",["jxg","utils/type"],(function(e,t){"use strict";return e.Complex=function(e,t){this.isComplex=!0,e&&e.isComplex&&(t=e.imaginary,e=e.real),this.real=e||0,this.imaginary=t||0,this.absval=0,this.angle=0},e.extend(e.Complex.prototype,{toString:function(){return this.real+" + "+this.imaginary+"i"},add:function(e){return t.isNumber(e)?this.real+=e:(this.real+=e.real,this.imaginary+=e.imaginary),this},sub:function(e){return t.isNumber(e)?this.real-=e:(this.real-=e.real,this.imaginary-=e.imaginary),this},mult:function(e){var r,i;return t.isNumber(e)?(this.real*=e,this.imaginary*=e):(r=this.real,i=this.imaginary,this.real=r*e.real-i*e.imaginary,this.imaginary=r*e.imaginary+i*e.real),this},div:function(e){var r,i,n;if(t.isNumber(e)){if(Math.abs(e)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;this.real/=e,this.imaginary/=e}else{if(Math.abs(e.real)<Math.eps&&Math.abs(e.imaginary)<Math.eps)return this.real=1/0,this.imaginary=1/0,this;r=e.real*e.real+e.imaginary*e.imaginary,n=this.real,i=this.imaginary,this.real=(n*e.real+i*e.imaginary)/r,this.imaginary=(i*e.real-n*e.imaginary)/r}return this},conj:function(){return this.imaginary*=-1,this}}),e.C={},e.C.add=function(t,r){var i=new e.Complex(t);return i.add(r),i},e.C.sub=function(t,r){var i=new e.Complex(t);return i.sub(r),i},e.C.mult=function(t,r){var i=new e.Complex(t);return i.mult(r),i},e.C.div=function(t,r){var i=new e.Complex(t);return i.div(r),i},e.C.conj=function(t){var r=new e.Complex(t);return r.conj(),r},e.C.abs=function(t){var r=new e.Complex(t);return r.conj(),r.mult(t),Math.sqrt(r.real)},e.Complex.C=e.C,e.Complex})),define("utils/color",["jxg","utils/type","math/math"],(function(e,t,r){"use strict";var i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},n=[{re:/^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d.]{1,3})\s*\)\s*$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1.0)"],process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}];return e.rgbParser=function(e,r,o){var s,a,l,c,u,h,d,p,f,v,m=e;if(!t.exists(e))return[];if(t.exists(r)&&t.exists(o)&&(m=[e,r,o]),s=m,v=!1,t.isArray(s)){for(h=0;h<3;h++)v=v||/\./.test(m[h].toString());for(h=0;h<3;h++)v=v&&m[h]>=0&&m[h]<=1;return v?[Math.ceil(255*m[0]),Math.ceil(255*m[1]),Math.ceil(255*m[2])]:m}for("string"==typeof m&&(s=m),"#"===s.charAt(0)&&(s=s.substr(1,6)),s=s.replace(/ /g,"").toLowerCase(),s=i[s]||s,h=0;h<n.length;h++)l=n[h].re,c=n[h].process,(u=l.exec(s))&&(d=(a=c(u))[0],p=a[1],f=a[2]);return isNaN(d)||isNaN(p)||isNaN(f)?[]:[d=d<0||isNaN(d)?0:d>255?255:d,p=p<0||isNaN(p)?0:p>255?255:p,f=f<0||isNaN(f)?0:f>255?255:f]},e.rgb2css=function(t,r,i){var n;return"rgb("+(n=e.rgbParser(t,r,i))[0]+", "+n[1]+", "+n[2]+")"},e.rgb2hex=function(t,r,i){var n,o,s;return o=(n=e.rgbParser(t,r,i))[1],s=n[2],n=(n=n[0]).toString(16),o=o.toString(16),s=s.toString(16),1===n.length&&(n="0"+n),1===o.length&&(o="0"+o),1===s.length&&(s="0"+s),"#"+n+o+s},e.hex2rgb=function(t){return e.deprecated("JXG.hex2rgb()","JXG.rgb2css()"),e.rgb2css(t)},e.hsv2rgb=function(e,t,i){var n,o,s,a,l,c,u,h,d;if(e=(e%360+360)%360,0===t){if(!(isNaN(e)||e<r.eps))return"#ffffff";n=i,o=i,s=i}else switch(c=e>=360?0:e,u=i*(1-t),h=i*(1-t*(a=(c/=60)-(l=Math.floor(c)))),d=i*(1-t*(1-a)),l){case 0:n=i,o=d,s=u;break;case 1:n=h,o=i,s=u;break;case 2:n=u,o=i,s=d;break;case 3:n=u,o=h,s=i;break;case 4:n=d,o=u,s=i;break;case 5:n=i,o=u,s=h}return["#",n=2===(n=Math.round(255*n).toString(16)).length?n:1===n.length?"0"+n:"00",o=2===(o=Math.round(255*o).toString(16)).length?o:1===o.length?"0"+o:"00",s=2===(s=Math.round(255*s).toString(16)).length?s:1===s.length?"0"+s:"00"].join("")},e.rgb2hsv=function(t,r,i){var n,o,s,a,l,c,u,h,d,p,f,v,m;return o=(n=e.rgbParser(t,r,i))[1],s=n[2],a=(n=n[0])/255,l=o/255,c=s/255,v=Math.max(n,o,s),h=(m=Math.min(n,o,s))/255,p=0,(f=u=v/255)>0&&(p=(f-h)/f),d=1/(u-h),p>0&&(v===n?d*=l-c:d=v===o?2+(c-a)*d:4+(a-l)*d),(d*=60)<0&&(d+=360),v===m&&(d=0),[d,p,f]},e.rgb2LMS=function(t,r,i){var n,o,s,a,l,c,u,h=[[.05059983,.08585369,.0095242],[.01893033,.08925308,.01370054],[.00292202,.00975732,.07145979]];return o=(n=e.rgbParser(t,r,i))[1],s=n[2],n=n[0],n=Math.pow(n,.476190476),o=Math.pow(o,.476190476),s=Math.pow(s,.476190476),(u=[a=n*h[0][0]+o*h[0][1]+s*h[0][2],l=n*h[1][0]+o*h[1][1]+s*h[1][2],c=n*h[2][0]+o*h[2][1]+s*h[2][2]]).l=a,u.m=l,u.s=c,u},e.LMS2rgb=function(e,t,r){var i,n,o,s,a=[[30.830854,-29.832659,1.610474],[-6.481468,17.715578,-2.532642],[-.37569,-1.199062,14.273846]],l=function(e){for(var t=127,r=64;r>0;){if(Math.pow(t,.476190476)>e)t-=r;else{if(Math.pow(t+1,.476190476)>e)return t;t+=r}r/=2}return 254===t&&13.994955247<e?255:t};return i=e*a[0][0]+t*a[0][1]+r*a[0][2],n=e*a[1][0]+t*a[1][1]+r*a[1][2],o=e*a[2][0]+t*a[2][1]+r*a[2][2],(s=[i=l(i),n=l(n),o=l(o)]).r=i,s.g=n,s.b=o,s},e.rgba2rgbo=function(e){var t;return 9===e.length&&"#"===e.charAt(0)?(t=parseInt(e.substr(7,2).toUpperCase(),16)/255,e=e.substr(0,7)):t=1,[e,t]},e.rgbo2rgba=function(e,t){var r;return"none"===e?e:(1===(r=Math.round(255*t).toString(16)).length&&(r="0"+r),e+r)},e.rgb2bw=function(t){var r,i,n,o="0123456789ABCDEF";return"none"===t?t:(n=e.rgbParser(t),r=Math.floor(.3*n[0]+.59*n[1]+.11*n[2]),t="#"+(i=o.charAt(r>>4&15)+o.charAt(15&r))+i+i)},e.rgb2cb=function(t,r){var i,n,o,s,a,l,c,u,h,d,p,f="0123456789ABCDEF";if("none"===t)return t;switch(n=(a=e.rgb2LMS(t))[0],o=a[1],s=a[2],r=r.toLowerCase()){case"protanopia":l=-.06150039994295001,c=.08277001656812001,u=-.013200141220000003,h=.05858939668799999,d=-.07934519995360001,p=.013289415272000003,n=s/o<.6903216543277437?-(c*o+u*s)/l:-(d*o+p*s)/h;break;case"tritanopia":l=-.00058973116217,c=.007690316482,u=-.01011703519052,h=.025495080838999994,d=-.0422740347,p=.017005316784,s=o/n<.8349489908460004?-(l*n+c*o)/u:-(h*n+d*o)/p;break;default:l=-.06150039994295001,c=.08277001656812001,u=-.013200141220000003,h=.05858939668799999,d=-.07934519995360001,p=.013289415272000003,o=s/n<.5763833686400911?-(l*n+u*s)/c:-(h*n+p*s)/d}return i=e.LMS2rgb(n,o,s),t="#"+(f.charAt(i[0]>>4&15)+f.charAt(15&i[0])),(t+=f.charAt(i[1]>>4&15)+f.charAt(15&i[1]))+(f.charAt(i[2]>>4&15)+f.charAt(15&i[2]))},e.autoHighlight=function(t){var r=e.rgba2rgbo(t),i=r[0],n=r[1];return"#"===t.charAt(0)?(n*=n<.3?1.8:.4,e.rgbo2rgba(i,n)):t},e.contrast=function(t,r,i,n){var o,s,a,l,c;return r=r||"#000000",i=i||"#ffffff",n=n||7,o=e.rgbParser(t),s=e.rgbParser("#000000"),c=(a=.2126*Math.pow(o[0]/255,2.2)+.7152*Math.pow(o[1]/255,2.2)+.0722*Math.pow(o[2]/255,2.2))>(l=.2126*Math.pow(s[0]/255,2.2)+.7152*Math.pow(s[1]/255,2.2)+.0722*Math.pow(s[2]/255,2.2))?Math.floor((a+.05)/(l+.05)):Math.floor((l+.05)/(a+.05)),(c-=1)>n?r:i},e.setClassicColors=function(){e.Options.elements.strokeColor="blue",e.Options.elements.fillColor="red",e.Options.hatch.strokeColor="blue",e.Options.angle.fillColor="#ff7f00",e.Options.angle.highlightFillColor="#ff7f00",e.Options.angle.strokeColor="#ff7f00",e.Options.angle.label.strokeColor="blue",e.Options.arc.strokeColor="blue",e.Options.circle.center.fillColor="red",e.Options.circle.center.strokeColor="blue",e.Options.circumcircle.strokeColor="blue",e.Options.circumcircle.center.fillColor="red",e.Options.circumcircle.center.strokeColor="blue",e.Options.circumcirclearc.strokeColor="blue",e.Options.circumcirclesector.strokeColor="blue",e.Options.circumcirclesector.fillColor="green",e.Options.circumcirclesector.highlightFillColor="green",e.Options.conic.strokeColor="blue",e.Options.curve.strokeColor="blue",e.Options.incircle.strokeColor="blue",e.Options.incircle.center.fillColor="red",e.Options.incircle.center.strokeColor="blue",e.Options.inequality.fillColor="red",e.Options.integral.fillColor="red",e.Options.integral.curveLeft.color="red",e.Options.integral.curveRight.color="red",e.Options.line.strokeColor="blue",e.Options.point.fillColor="red",e.Options.point.strokeColor="red",e.Options.polygon.fillColor="green",e.Options.polygon.highlightFillColor="green",e.Options.polygon.vertices.strokeColor="red",e.Options.polygon.vertices.fillColor="red",e.Options.regularpolygon.fillColor="green",e.Options.regularpolygon.highlightFillColor="green",e.Options.regularpolygon.vertices.strokeColor="red",e.Options.regularpolygon.vertices.fillColor="red",e.Options.riemannsum.fillColor="yellow",e.Options.sector.fillColor="green",e.Options.sector.highlightFillColor="green",e.Options.semicircle.center.fillColor="red",e.Options.semicircle.center.strokeColor="blue",e.Options.slopetriangle.fillColor="red",e.Options.slopetriangle.highlightFillColor="red",e.Options.turtle.arrow.strokeColor="blue"},e.extend(e,{paletteWong:{black:"#000000",orange:"#E69F00",skyblue:"#56B4E9",bluishgreen:"#009E73",yellow:"#F0E442",darkblue:"#0072B2",vermillion:"#D55E00",reddishpurple:"#CC79A7",blue:"#0072B2",red:"#D55E00",green:"#009E73",purple:"#CC79A7",white:"#ffffff"}}),e.palette=e.paletteWong,e})),define("options",["jxg","base/constants","math/math","utils/color","utils/type"],(function(e,t,r,i,n){"use strict";return e.Options={jc:{enabled:!0,compile:!0},board:{boundingBox:[-5,5,5,-5],maxBoundingBox:[-1/0,1/0,1/0,-1/0],zoomFactor:1,zoomX:1,zoomY:1,title:"",description:"",showCopyright:!0,axis:!1,defaultAxes:{x:{name:"x",ticks:{label:{visible:"inherit",anchorX:"middle",anchorY:"top",fontSize:12,offset:[0,-3]},drawZero:!1,visible:"inherit"}},y:{name:"y",ticks:{label:{visible:"inherit",anchorX:"right",anchorY:"middle",fontSize:12,offset:[-6,0]},tickEndings:[1,0],drawZero:!1,visible:"inherit"}}},showNavigation:!0,showZoom:!0,showReload:!1,showScreenshot:!1,screenshot:{scale:1,type:"png",symbol:"\u2318",css:"background-color:#eeeeee; opacity:1.0; border:2px solid black; border-radius:10px; text-align:center",cssButton:"padding: 4px 10px; border: solid #356AA0 1px; border-radius: 5px; position: absolute; right: 2ex; top: 2ex; background-color: rgba(255, 255, 255, 0.3);"},showFullscreen:!1,fullscreen:{symbol:"\u25a1",id:null},showClearTraces:!1,keepAspectRatio:!1,ignoreLabels:!0,maxNameLength:1,document:!1,takeFirst:!1,takeSizeFromFile:!1,renderer:"auto",animationDelay:35,maxFrameRate:40,registerEvents:!0,minimizeReflow:"none",offsetX:0,offsetY:0,zoom:{enabled:!0,factorX:1.25,factorY:1.25,wheel:!0,needShift:!0,min:1e-4,max:1e4,pinchHorizontal:!0,pinchVertical:!0,pinchSensitivity:7},pan:{needShift:!0,needTwoFingers:!1,enabled:!0},drag:{enabled:!0},keyboard:{enabled:!0,dx:10,dy:10,panShift:!0,panCtrl:!1},resize:{enabled:!0,throttle:10},moveTarget:null,selection:{enabled:!1,name:"selectionPolygon",needShift:!1,needCtrl:!0,withLines:!1,vertices:{visible:!1},fillColor:"#ffff00",visible:!1},showInfobox:!0},navbar:{strokeColor:"#333333",fillColor:"transparent",highlightFillColor:"#aaaaaa",padding:"2px",position:"absolute",fontSize:"14px",cursor:"pointer",zIndex:"100",right:"5px",bottom:"5px"},elements:{strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",fillColor:i.palette.red,highlightFillColor:"none",strokeOpacity:1,highlightStrokeOpacity:1,fillOpacity:1,highlightFillOpacity:1,gradient:null,gradientSecondColor:"#ffffff",gradientSecondOpacity:1,gradientStartOffset:0,gradientEndOffset:1,gradientAngle:0,gradientCX:.5,gradientCY:.5,gradientR:.5,gradientFX:.5,gradientFY:.5,gradientFR:0,transitionDuration:100,strokeWidth:2,highlightStrokeWidth:2,fixed:!1,frozen:!1,withLabel:!1,visible:!0,priv:!1,layer:0,dash:0,shadow:!1,trace:!1,traceAttributes:{},highlight:!0,needsRegularUpdate:!0,snapToGrid:!1,scalable:!0,dragToTopOfLayer:!1,precision:"inherit",draft:{draft:!1,strokeColor:"#565656",fillColor:"#565656",strokeOpacity:.8,fillOpacity:.8,strokeWidth:1},isLabel:!1,tabindex:0},ticks:{generateLabelText:null,generateLabelValue:null,drawLabels:!1,label:{},beautifulScientificTickLabels:!1,useUnicodeMinus:!0,anchor:"left",drawZero:!1,insertTicks:!1,minTicksDistance:10,minorHeight:4,majorHeight:10,tickEndings:[1,1],minorTicks:4,scale:1,scaleSymbol:"",labels:[],maxLabelLength:5,precision:3,digits:3,ticksDistance:1,face:"|",strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"none",highlightFillColor:"none",visible:"inherit",includeBoundaries:!1,type:"linear"},hatch:{drawLabels:!1,drawZero:!0,majorHeight:20,anchor:"middle",face:"|",strokeWidth:2,strokeColor:i.palette.blue,ticksDistance:.2},precision:{touch:30,touchMax:100,mouse:4,pen:4,epsilon:1e-4,hasPoint:4},layer:{numlayers:20,unused9:19,unused8:18,unused7:17,unused6:16,unused5:15,unused4:14,unused3:13,unused2:12,unused1:11,unused0:10,text:9,point:9,glider:9,arc:8,line:7,circle:6,curve:5,turtle:5,polygon:3,sector:3,angle:3,integral:3,axis:2,ticks:2,grid:1,image:0,trace:0},angle:{withLabel:!0,radius:"auto",type:"sector",orthoType:"square",orthoSensitivity:1,fillColor:i.palette.orange,highlightFillColor:i.palette.orange,strokeColor:i.palette.orange,fillOpacity:.3,highlightFillOpacity:.3,radiuspoint:{withLabel:!1,visible:!1,name:""},pointsquare:{withLabel:!1,visible:!1,name:""},dot:{visible:!1,strokeColor:"none",fillColor:"#000000",size:2,face:"o",withLabel:!1,name:""},label:{position:"top",offset:[0,0],strokeColor:i.palette.blue},arc:{visible:!1,fillColor:"none"}},arc:{selection:"auto",hasInnerPoints:!1,label:{anchorX:"auto",anchorY:"auto"},firstArrow:!1,lastArrow:!1,fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",useDirection:!1,center:{},radiusPoint:{},anglePoint:{}},arrow:{firstArrow:!1,lastArrow:{type:1,highlightSize:6,size:6}},axis:{name:"",needsRegularUpdate:!1,strokeWidth:1,lastArrow:{type:1,highlightSize:8,size:8},strokeColor:"#666666",highlightStrokeWidth:1,highlightStrokeColor:"#888888",withTicks:!0,straightFirst:!0,straightLast:!0,margin:-4,withLabel:!1,scalable:!1,ticks:{label:{offset:[4,-9],parse:!1,needsRegularUpdate:!1,display:"internal",visible:"inherit",layer:9},visible:"inherit",needsRegularUpdate:!1,strokeWidth:1,strokeColor:"#666666",highlightStrokeColor:"#888888",drawLabels:!0,drawZero:!1,insertTicks:!0,minTicksDistance:5,minorHeight:10,majorHeight:-1,tickEndings:[0,1],minorTicks:4,ticksDistance:1,strokeOpacity:.25},point1:{needsRegularUpdate:!1,visible:!1},point2:{needsRegularUpdate:!1,visible:!1},tabindex:-1,label:{position:"lft",offset:[10,10]}},bisector:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},bisectorlines:{line1:{strokeColor:"#000000"},line2:{strokeColor:"#000000"}},boxplot:{dir:"vertical",smallWidth:.5,strokeWidth:2,strokeColor:i.palette.blue,fillColor:i.palette.blue,fillOpacity:.2,highlightStrokeWidth:2,highlightStrokeColor:i.palette.blue,highlightFillColor:i.palette.blue,highlightFillOpacity:.1},button:{disabled:!1,display:"html"},cardinalspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},chart:{chartStyle:"line",colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],highlightcolors:null,fillcolor:null,highlightonsector:!1,highlightbysize:!1,fillOpacity:.6,withLines:!1,label:{}},checkbox:{disabled:!1,checked:!1,display:"html"},circle:{hasInnerPoints:!1,fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,fillColor:i.palette.red,strokeColor:i.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},label:{position:"urt"}},circumcircle:{fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:i.palette.red,strokeColor:i.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},circumcirclearc:{fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,withLabel:!1,fixed:!1,name:""}},circumcirclesector:{useDirection:!0,fillColor:i.palette.yellow,highlightFillColor:i.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},conic:{fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",foci:{fixed:!1,visible:!1,withLabel:!1,name:""},center:{visible:!1,withLabel:!1,name:""},point:{withLabel:!1,name:""},line:{visible:!1}},curve:{strokeWidth:1,strokeColor:i.palette.blue,fillColor:"none",fixed:!0,useQDT:!1,handDrawing:!1,curveType:null,RDPsmoothing:!1,numberPointsHigh:1600,numberPointsLow:400,doAdvancedPlot:!0,recursionDepthHigh:17,recursionDepthLow:15,doAdvancedPlotOld:!1,plotVersion:2,label:{position:"lft"},firstArrow:!1,lastArrow:!1},foreignobject:{attractors:[],fixed:!0,visible:!0},glider:{label:{}},grid:{needsRegularUpdate:!1,hasGrid:!1,gridX:1,gridY:1,strokeColor:"#c0c0c0",strokeOpacity:.5,strokeWidth:1,dash:0,snapToGrid:!1,snapSizeX:10,snapSizeY:10},group:{needsRegularUpdate:!0},htmlslider:{widthRange:100,widthOut:34,step:.01,frozen:!0,isLabel:!1,strokeColor:"#000000",display:"html",anchorX:"left",anchorY:"middle",withLabel:!1},image:{imageString:null,fillOpacity:1,highlightFillOpacity:.6,cssClass:"JXGimage",highlightCssClass:"JXGimageHighlight",rotate:0,snapSizeX:1,snapSizeY:1,attractors:[]},incircle:{fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",center:{visible:!1,fixed:!1,withLabel:!1,fillColor:i.palette.red,strokeColor:i.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",name:""}},inequality:{fillColor:i.palette.red,fillOpacity:.2,strokeColor:"none",inverse:!1},infobox:{fontSize:12,isLabel:!1,strokeColor:"#bbbbbb",display:"html",anchorX:"left",anchorY:"middle",cssClass:"JXGinfobox",rotate:0,visible:!0,parse:!1,transitionDuration:0,needsRegularUpdate:!1},integral:{axis:"x",withLabel:!0,fixed:!0,strokeWidth:0,strokeOpacity:0,fillColor:i.palette.red,fillOpacity:.3,highlightFillColor:i.palette.red,highlightFillOpacity:.2,curveLeft:{visible:!0,withLabel:!1,color:i.palette.red,fillOpacity:.8,layer:9},baseLeft:{visible:!1,fixed:!1,withLabel:!1,name:""},curveRight:{visible:!0,withLabel:!1,color:i.palette.red,fillOpacity:.8,layer:9},baseRight:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{fontSize:20}},input:{disabled:!1,maxlength:524288,display:"html"},intersection:{alwaysIntersect:!0},label:{visible:"inherit",strokeColor:"#000000",strokeOpacity:1,highlightStrokeOpacity:.666666,highlightStrokeColor:"#000000",fixed:!0,position:"urt",offset:[10,10],autoPosition:!1},legend:{style:"vertical",labels:["1","2","3","4","5","6","7","8"],colors:["#B02B2C","#3F4C6B","#C79810","#D15600","#FFFF88","#c3d9ff","#4096EE","#008C00"],rowHeight:20,strokeWidth:5},line:{firstArrow:!1,lastArrow:!1,margin:0,straightFirst:!0,straightLast:!0,fillColor:"none",highlightFillColor:"none",strokeColor:i.palette.blue,highlightStrokeColor:"#c3d9ff",withTicks:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},ticks:{drawLabels:!0,label:{offset:[4,-9]},drawZero:!1,insertTicks:!1,minTicksDistance:50,minorHeight:4,majorHeight:-1,minorTicks:4,defaultDistance:1,strokeOpacity:.3,visible:"inherit"},label:{position:"llft"},snapToGrid:!1,snapSizeX:1,snapSizeY:1,touchFirstPoint:!1,touchLastPoint:!1,lineCap:"butt"},locus:{translateToOrigin:!1,translateTo10:!1,stretch:!1,toOrigin:null,to10:null},metapostspline:{createPoints:!0,isArrayOfCoordinates:!1,points:{strokeOpacity:.05,fillOpacity:.05,highlightStrokeOpacity:1,highlightFillOpacity:1,withLabel:!1,name:"",fixed:!1}},mirrorelement:{fixed:!0,point:{},center:{},type:"Euclidean"},normal:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""}},orthogonalprojection:{},parallel:{strokeColor:"#000000",point:{visible:!1,fixed:!1,withLabel:!1,name:""},label:{position:"llft"}},perpendicular:{strokeColor:"#000000",straightFirst:!0,straightLast:!0},perpendicularsegment:{strokeColor:"#000000",straightFirst:!1,straightLast:!1,point:{visible:!1,fixed:!0,withLabel:!1,name:""}},point:{withLabel:!0,label:{},style:5,face:"o",size:3,sizeUnit:"screen",strokeWidth:2,fillColor:i.palette.red,strokeColor:i.palette.red,highlightFillColor:"#c3d9ff",highlightStrokeColor:"#c3d9ff",zoom:!1,showInfobox:"inherit",infoboxDigits:"auto",draft:!1,attractors:[],attractorUnit:"user",attractorDistance:0,snatchDistance:0,snapToGrid:!1,attractToGrid:!1,snapSizeX:1,snapSizeY:1,snapToPoints:!1,ignoredSnapToPoints:[]},polygon:{hasInnerPoints:!1,fillColor:i.palette.yellow,highlightFillColor:i.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"},visible:"inherit"},vertices:{layer:9,withLabel:!1,name:"",strokeColor:i.palette.red,fillColor:i.palette.red,fixed:!1,visible:"inherit"},label:{offset:[0,0]}},polygonalchain:{fillColor:"none",highlightFillColor:"none"},prescribedangle:{anglePoint:{size:2,visible:!1,withLabel:!1}},reflection:{fixed:!0,center:{},type:"Euclidean"},regularpolygon:{hasInnerPoints:!1,fillColor:i.palette.yellow,highlightFillColor:i.palette.yellow,fillOpacity:.3,highlightFillOpacity:.2,withLines:!0,borders:{withLabel:!1,strokeWidth:1,highlightStrokeWidth:1,layer:5,label:{position:"top"}},vertices:{layer:9,withLabel:!0,strokeColor:i.palette.red,fillColor:i.palette.red,fixed:!1},label:{offset:[0,0]}},riemannsum:{withLabel:!1,fillOpacity:.3,fillColor:i.palette.yellow},sector:{fillColor:i.palette.yellow,highlightFillColor:i.palette.yellow,fillOpacity:.3,highlightFillOpacity:.3,highlightOnSector:!1,highlightStrokeWidth:0,selection:"auto",arc:{visible:!1,fillColor:"none"},radiusPoint:{visible:!1,withLabel:!1},center:{visible:!1,withLabel:!1},anglePoint:{visible:!1,withLabel:!1},label:{offset:[0,0],anchorX:"auto",anchorY:"auto"}},segment:{label:{position:"top"}},semicircle:{center:{visible:!1,withLabel:!1,fixed:!1,fillColor:i.palette.red,strokeColor:i.palette.red,highlightFillColor:"#eeeeee",highlightStrokeColor:i.palette.red,name:""}},slider:{snapWidth:-1,precision:2,digits:2,firstArrow:!1,lastArrow:!1,withTicks:!0,withLabel:!0,suffixLabel:null,unitLabel:null,postLabel:null,layer:9,showInfobox:!1,name:"",visible:!0,strokeColor:"#000000",highlightStrokeColor:"#888888",fillColor:"#ffffff",highlightFillColor:"none",size:6,point1:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},point2:{needsRegularUpdate:!1,showInfobox:!1,withLabel:!1,visible:!1,fixed:!0,name:""},baseline:{needsRegularUpdate:!1,visible:"inherit",fixed:!0,scalable:!1,tabindex:null,name:"",strokeWidth:1,strokeColor:"#000000",highlightStrokeColor:"#888888"},ticks:{needsRegularUpdate:!1,fixed:!0,drawLabels:!1,digits:2,includeBoundaries:1,drawZero:!0,label:{offset:[-4,-14],display:"internal"},minTicksDistance:30,insertTicks:!0,minorHeight:4,majorHeight:5,minorTicks:0,defaultDistance:1,strokeOpacity:1,strokeWidth:1,tickEndings:[0,1],strokeColor:"#000000",visible:"inherit"},highline:{strokeWidth:3,visible:"inherit",fixed:!0,tabindex:null,name:"",strokeColor:"#000000",highlightStrokeColor:"#888888"},label:{visible:"inherit",strokeColor:"#000000"},moveOnUp:!0},comb:{frequency:.2,width:.4,angle:Math.PI/3,reverse:!1,point1:{visible:!1,withLabel:!1,fixed:!1,name:""},point2:{visible:!1,withLabel:!1,fixed:!1,name:""},curve:{strokeWidth:1,strokeColor:"#000000",fillColor:"none"}},slopetriangle:{fillColor:i.palette.red,fillOpacity:.4,highlightFillColor:i.palette.red,highlightFillOpacity:.3,borders:{lastArrow:{type:1,size:6}},glider:{fixed:!0,visible:!1,withLabel:!1},baseline:{visible:!1,withLabel:!1,name:""},basepoint:{visible:!1,withLabel:!1,name:""},tangent:{visible:!1,withLabel:!1,name:""},toppoint:{visible:!1,withLabel:!1,name:""},label:{visible:!0}},stepfunction:{},tapemeasure:{strokeColor:"#000000",strokeWidth:2,highlightStrokeColor:"#000000",withTicks:!0,withLabel:!0,precision:2,digits:2,point1:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},point2:{visible:"inherit",strokeColor:"#000000",fillColor:"#ffffff",fillOpacity:0,highlightFillOpacity:.1,size:6,snapToPoints:!0,attractorUnit:"screen",attractorDistance:20,showInfobox:!1,withLabel:!1,name:""},ticks:{drawLabels:!1,drawZero:!0,insertTicks:!0,minorHeight:8,majorHeight:16,minorTicks:4,tickEndings:[0,1],defaultDistance:.1,strokeOpacity:1,strokeWidth:1,strokeColor:"#000000",visible:"inherit"},label:{position:"top"}},text:{fontSize:12,fontUnit:"px",digits:2,parse:!0,useCaja:!1,isLabel:!1,strokeColor:"#000000",highlightStrokeColor:"#000000",highlightStrokeOpacity:.666666,cssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",highlightCssDefaultStyle:"font-family: Arial, Helvetica, Geneva, sans-serif;",cssStyle:"",highlightCssStyle:"",useASCIIMathML:!1,useMathJax:!1,useKatex:!1,display:"html",anchor:null,anchorX:"left",anchorY:"middle",cssClass:"JXGtext",highlightCssClass:"JXGtext",dragArea:"all",withLabel:!1,rotate:0,visible:!0,snapSizeX:1,snapSizeY:1,attractors:[]},tracecurve:{strokeColor:"#000000",fillColor:"none",numberPoints:100},turtle:{strokeWidth:1,fillColor:"none",strokeColor:"#000000",arrow:{strokeWidth:2,withLabel:!1,strokeColor:i.palette.red,lastArrow:!0}},shortcuts:{color:["strokeColor","fillColor"],opacity:["strokeOpacity","fillOpacity"],highlightColor:["highlightStrokeColor","highlightFillColor"],highlightOpacity:["highlightStrokeOpacity","highlightFillOpacity"],strokeWidth:["strokeWidth","highlightStrokeWidth"]}},e.Validator=function(){var t,i=function(e){return n.isString(e)},o=function(e){return Math.abs(e-Math.round(e))<r.eps},s=function(e){return o(e)&&e>0},a=function(e){return e>0},l=function(e){return e>=0},c={},u={attractorDistance:l,color:i,defaultDistance:n.isNumber,display:function(e){return"html"===e||"internal"===e},doAdvancedPlot:!1,draft:!1,drawLabels:!1,drawZero:!1,face:function(t){return n.exists(e.normalizePointFace(t))},factor:n.isNumber,fillColor:i,fillOpacity:n.isNumber,firstArrow:!1,fontSize:o,dash:o,gridX:n.isNumber,gridY:n.isNumber,hasGrid:!1,highlightFillColor:i,highlightFillOpacity:n.isNumber,highlightStrokeColor:i,highlightStrokeOpacity:n.isNumber,insertTicks:!1,lastArrow:!1,layer:function(e){return o(e)&&e>=0},majorHeight:o,minorHeight:o,minorTicks:l,minTicksDistance:s,numberPointsHigh:s,numberPointsLow:s,opacity:n.isNumber,radius:n.isNumber,RDPsmoothing:!1,renderer:function(e){return"vml"===e||"svg"===e||"canvas"===e||"no"===e},right:function(e){return/^[0-9]+px$/.test(e)},showCopyright:!1,showInfobox:!1,showNavigation:!1,size:l,snapSizeX:a,snapSizeY:a,snapWidth:n.isNumber,snapToGrid:!1,snatchDistance:l,straightFirst:!1,straightLast:!1,stretch:!1,strokeColor:i,strokeOpacity:n.isNumber,strokeWidth:l,takeFirst:!1,takeSizeFromFile:!1,to10:!1,toOrigin:!1,translateTo10:!1,translateToOrigin:!1,useASCIIMathML:!1,useDirection:!1,useMathJax:!1,withLabel:!1,withTicks:!1,zoom:!1};for(t in u)u.hasOwnProperty(t)&&(c[t.toLowerCase()]=u[t]);return c}(),e.normalizePointFace=function(e){return{cross:"x",x:"x",circle:"o",o:"o",square:"[]","[]":"[]",plus:"+","+":"+",diamond:"<>","<>":"<>",triangleup:"^",a:"^","^":"^",triangledown:"v",v:"v",triangleleft:"<","<":"<",triangleright:">",">":">"}[e]},e.useStandardOptions=function(r){var i,n,o,s,a=e.Options,l=r.hasGrid;for(i in r.options.grid.hasGrid=a.grid.hasGrid,r.options.grid.gridX=a.grid.gridX,r.options.grid.gridY=a.grid.gridY,r.options.grid.gridColor=a.grid.gridColor,r.options.grid.gridOpacity=a.grid.gridOpacity,r.options.grid.gridDash=a.grid.gridDash,r.options.grid.snapToGrid=a.grid.snapToGrid,r.options.grid.snapSizeX=a.grid.SnapSizeX,r.options.grid.snapSizeY=a.grid.SnapSizeY,r.takeSizeFromFile=a.takeSizeFromFile,s=function(e,t){e.visProp.fillcolor=t.fillColor,e.visProp.highlightfillcolor=t.highlightFillColor,e.visProp.strokecolor=t.strokeColor,e.visProp.highlightstrokecolor=t.highlightStrokeColor},r.objects)if(r.objects.hasOwnProperty(i))if((o=r.objects[i]).elementClass===t.OBJECT_CLASS_POINT)s(o,a.point);else if(o.elementClass===t.OBJECT_CLASS_LINE)for(s(o,a.line),n=0;n<o.ticks.length;n++)o.ticks[n].majorTicks=a.line.ticks.majorTicks,o.ticks[n].minTicksDistance=a.line.ticks.minTicksDistance,o.ticks[n].visProp.minorheight=a.line.ticks.minorHeight,o.ticks[n].visProp.majorheight=a.line.ticks.majorHeight;else o.elementClass===t.OBJECT_CLASS_CIRCLE?s(o,a.circle):o.type===t.OBJECT_TYPE_ANGLE?s(o,a.angle):o.type===t.OBJECT_TYPE_ARC?s(o,a.arc):o.type===t.OBJECT_TYPE_POLYGON?s(o,a.polygon):o.type===t.OBJECT_TYPE_CONIC?s(o,a.conic):o.type===t.OBJECT_TYPE_CURVE?s(o,a.curve):o.type===t.OBJECT_TYPE_SECTOR&&(o.arc.visProp.fillcolor=a.sector.fillColor,o.arc.visProp.highlightfillcolor=a.sector.highlightFillColor,o.arc.visProp.fillopacity=a.sector.fillOpacity,o.arc.visProp.highlightfillopacity=a.sector.highlightFillOpacity);r.fullUpdate(),l&&!r.hasGrid?r.removeGrids(r):!l&&r.hasGrid&&r.create("grid",[])},e.useBlackWhiteOptions=function(t){var r=e.Options;r.point.fillColor=i.rgb2bw(r.point.fillColor),r.point.highlightFillColor=i.rgb2bw(r.point.highlightFillColor),r.point.strokeColor=i.rgb2bw(r.point.strokeColor),r.point.highlightStrokeColor=i.rgb2bw(r.point.highlightStrokeColor),r.line.fillColor=i.rgb2bw(r.line.fillColor),r.line.highlightFillColor=i.rgb2bw(r.line.highlightFillColor),r.line.strokeColor=i.rgb2bw(r.line.strokeColor),r.line.highlightStrokeColor=i.rgb2bw(r.line.highlightStrokeColor),r.circle.fillColor=i.rgb2bw(r.circle.fillColor),r.circle.highlightFillColor=i.rgb2bw(r.circle.highlightFillColor),r.circle.strokeColor=i.rgb2bw(r.circle.strokeColor),r.circle.highlightStrokeColor=i.rgb2bw(r.circle.highlightStrokeColor),r.arc.fillColor=i.rgb2bw(r.arc.fillColor),r.arc.highlightFillColor=i.rgb2bw(r.arc.highlightFillColor),r.arc.strokeColor=i.rgb2bw(r.arc.strokeColor),r.arc.highlightStrokeColor=i.rgb2bw(r.arc.highlightStrokeColor),r.polygon.fillColor=i.rgb2bw(r.polygon.fillColor),r.polygon.highlightFillColor=i.rgb2bw(r.polygon.highlightFillColor),r.sector.fillColor=i.rgb2bw(r.sector.fillColor),r.sector.highlightFillColor=i.rgb2bw(r.sector.highlightFillColor),r.curve.strokeColor=i.rgb2bw(r.curve.strokeColor),r.grid.gridColor=i.rgb2bw(r.grid.gridColor),e.useStandardOptions(t)},e.Options.normalizePointFace=e.normalizePointFace,e.Options})),define("renderer/abstract",["jxg","options","base/coords","base/constants","math/math","math/geometry","utils/type","utils/env"],(function(e,t,r,i,n,o,s,a){"use strict";return e.AbstractRenderer=function(){this.vOffsetText=0,this.enhancedRendering=!0,this.container=null,this.type="",this.supportsForeignObject=!1},e.extend(e.AbstractRenderer.prototype,{_updateVisual:function(e,t,r){(r||this.enhancedRendering)&&(t=t||{},this.setObjectTransition(e),s.evaluate(e.visProp.draft)?this.setDraft(e):(t.stroke||(e.highlighted?(this.setObjectStrokeColor(e,e.visProp.highlightstrokecolor,e.visProp.highlightstrokeopacity),this.setObjectStrokeWidth(e,e.visProp.highlightstrokewidth)):(this.setObjectStrokeColor(e,e.visProp.strokecolor,e.visProp.strokeopacity),this.setObjectStrokeWidth(e,e.visProp.strokewidth))),t.fill||(e.highlighted?this.setObjectFillColor(e,e.visProp.highlightfillcolor,e.visProp.highlightfillopacity):this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity)),t.dash||this.setDashStyle(e,e.visProp),t.shadow||this.setShadow(e),t.gradient||this.setShadow(e),t.tabindex||this.setTabindex(e)))},_getHighlighted:function(e){var t=!1;return s.exists(e.board)&&s.exists(e.board.highlightedObjects)||(t=!0),!t&&s.exists(e.board.highlightedObjects[e.id])?"highlight":""},drawPoint:function(e){var r,i=t.normalizePointFace(s.evaluate(e.visProp.face));r="o"===i?"ellipse":"[]"===i?"rect":"path",e.rendNode=this.appendChildPrim(this.createPrim(r,e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,r),this._updateVisual(e,{dash:!0,shadow:!0},!0),this.updatePoint(e)},updatePoint:function(e){var r,i=s.evaluate(e.visProp.size),n=t.normalizePointFace(s.evaluate(e.visProp.face)),o=s.evaluate(e.visProp.sizeunit),a=s.evaluate(e.visProp.zoom);isNaN(e.coords.scrCoords[2]+e.coords.scrCoords[1])||("user"===o&&(i*=Math.sqrt(e.board.unitX*e.board.unitY)),r=0===(i*=e.board&&a?Math.sqrt(e.board.zoomX*e.board.zoomY):1)?0:i+1,"o"===n?this.updateEllipsePrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2],r,r):"[]"===n?this.updateRectPrim(e.rendNode,e.coords.scrCoords[1]-i,e.coords.scrCoords[2]-i,2*i,2*i):this.updatePathPrim(e.rendNode,this.updatePathStringPoint(e,i,n),e.board),this._updateVisual(e,{dash:!1,shadow:!1}),this.setShadow(e))},changePointStyle:function(e){var t=this.getElementById(e.id);s.exists(t)&&this.remove(t),this.drawPoint(e),s.clearVisPropOld(e),e.visPropCalc.visible||this.display(e,!1),s.evaluate(e.visProp.draft)&&this.setDraft(e)},drawLine:function(e){e.rendNode=this.appendChildPrim(this.createPrim("line",e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"lines"),this.updateLine(e)},updateLine:function(e){this._updateVisual(e),this.updatePathWithArrowHeads(e),this.setLineCap(e)},drawCurve:function(e){e.rendNode=this.appendChildPrim(this.createPrim("path",e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"path"),this.updateCurve(e)},updateCurve:function(e){this._updateVisual(e),this.updatePathWithArrowHeads(e),this.setLineCap(e)},updatePathWithArrowHeads:function(e,t){var r,n,o=e.visProp,a=t?"highlight":"";r=t&&o.highlightstrokewidth?Math.max(s.evaluate(o.highlightstrokewidth),s.evaluate(o.strokewidth)):s.evaluate(o.strokewidth),n=this.getArrowHeadData(e,r,a),this.makeArrows(e,n),e.elementClass===i.OBJECT_CLASS_LINE?this.updateLineWithEndings(e,n):e.elementClass===i.OBJECT_CLASS_CURVE&&this.updatePath(e),this.setArrowSize(e,n)},getArrowHeadData:function(e,t,r){var o,a,l,c,u=n.eps,h=0,d=0,p=0,f=0,v=s.evaluate(e.visProp.firstarrow),m=s.evaluate(e.visProp.lastarrow);return(v||m)&&(o=s.exists(v.type)?s.evaluate(v.type):e.elementClass===i.OBJECT_CLASS_LINE?1:7,a=s.exists(m.type)?s.evaluate(m.type):e.elementClass===i.OBJECT_CLASS_LINE?1:7,v&&(c=6,s.exists(v.size)&&(c=s.evaluate(v.size)),""!==r&&s.exists(v[r+"size"])&&(c=s.evaluate(v[r+"size"])),l=t*c,2===o?(l*=.5,u+=t*c):3===o?(l=t*c/3,u+=t):4===o||5===o||6===o?(l=t*c/1.5,u+=t*c):7===o?(l=0,c=10,u+=t):u+=t*c,h+=l,p=c),m&&(c=6,s.exists(m.size)&&(c=s.evaluate(m.size)),""!==r&&s.exists(m[r+"size"])&&(c=s.evaluate(m[r+"size"])),l=t*c,2===a?(l*=.5,u+=t*c):3===a?(l=t*c/3,u+=t):4===a||5===a||6===a?(l=t*c/1.5,u+=t*c):7===a?(l=0,c=10,u+=t):u+=t*c,d+=l,f=c)),e.visPropCalc.typeFirst=o,e.visPropCalc.typeLast=a,{evFirst:v,evLast:m,typeFirst:o,typeLast:a,offFirst:h,offLast:d,sizeFirst:p,sizeLast:f,showFirst:1,showLast:1,minLen:u,strokeWidth:t}},updateLineWithEndings:function(e,t){var n,a,l;return n=new r(i.COORDS_BY_USER,e.point1.coords.usrCoords,e.board),a=new r(i.COORDS_BY_USER,e.point2.coords.usrCoords,e.board),l=s.evaluate(e.visProp.margin),o.calcStraight(e,n,a,l),this.handleTouchpoints(e,n,a,t),this.getPositionArrowHead(e,n,a,t),this.updateLinePrim(e.rendNode,n.scrCoords[1],n.scrCoords[2],a.scrCoords[1],a.scrCoords[2],e.board),this},updatePath:function(e){return s.evaluate(e.visProp.handdrawing)?this.updatePathPrim(e.rendNode,this.updatePathStringBezierPrim(e),e.board):this.updatePathPrim(e.rendNode,this.updatePathStringPrim(e),e.board),this},getPositionArrowHead:function(e,t,r,n){var o,s,a,l,c;return(n.evFirst||n.evLast)&&(s=a=l=c=0,o=t.distance(i.COORDS_BY_SCREEN,r),n.evFirst&&"vml"!==e.board.renderer.type&&(o>=n.minLen?(s=(r.scrCoords[1]-t.scrCoords[1])*n.offFirst/o,a=(r.scrCoords[2]-t.scrCoords[2])*n.offFirst/o):n.showFirst=0),n.evLast&&"vml"!==e.board.renderer.type&&(o>=n.minLen?(l=(r.scrCoords[1]-t.scrCoords[1])*n.offLast/o,c=(r.scrCoords[2]-t.scrCoords[2])*n.offLast/o):n.showLast=0),t.setCoordinates(i.COORDS_BY_SCREEN,[t.scrCoords[1]+s,t.scrCoords[2]+a],!1,!0),r.setCoordinates(i.COORDS_BY_SCREEN,[r.scrCoords[1]-l,r.scrCoords[2]-c],!1,!0)),this},handleTouchpoints:function(e,t,r,n){var o,a,l,c,u,h,d;return(n.evFirst||n.evLast)&&(l=c=u=h=d=0,o=s.evaluate(e.point1.visProp.size)+s.evaluate(e.point1.visProp.strokewidth),a=s.evaluate(e.point2.visProp.size)+s.evaluate(e.point2.visProp.strokewidth),n.evFirst&&s.evaluate(e.visProp.touchfirstpoint)&&(l=t.distance(i.COORDS_BY_SCREEN,r),c=(r.scrCoords[1]-t.scrCoords[1])*o/l,u=(r.scrCoords[2]-t.scrCoords[2])*o/l),n.evLast&&s.evaluate(e.visProp.touchlastpoint)&&(l=t.distance(i.COORDS_BY_SCREEN,r),h=(r.scrCoords[1]-t.scrCoords[1])*a/l,d=(r.scrCoords[2]-t.scrCoords[2])*a/l),t.setCoordinates(i.COORDS_BY_SCREEN,[t.scrCoords[1]+c,t.scrCoords[2]+u],!1,!0),r.setCoordinates(i.COORDS_BY_SCREEN,[r.scrCoords[1]-h,r.scrCoords[2]-d],!1,!0)),this},setArrowSize:function(e,t){return t.evFirst&&this._setArrowWidth(e.rendNodeTriangleStart,t.showFirst*t.strokeWidth,e.rendNode,t.sizeFirst),t.evLast&&this._setArrowWidth(e.rendNodeTriangleEnd,t.showLast*t.strokeWidth,e.rendNode,t.sizeLast),this},setLineCap:function(e){},drawTicks:function(e){e.rendNode=this.appendChildPrim(this.createPrim("path",e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"path")},updateTicks:function(e){},drawEllipse:function(e){e.rendNode=this.appendChildPrim(this.createPrim("ellipse",e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"ellipse"),this.updateEllipse(e)},updateEllipse:function(e){this._updateVisual(e);var t=e.Radius();t>0&&Math.abs(e.center.coords.usrCoords[0])>n.eps&&!isNaN(t+e.center.coords.scrCoords[1]+e.center.coords.scrCoords[2])&&t*e.board.unitX<2e6&&this.updateEllipsePrim(e.rendNode,e.center.coords.scrCoords[1],e.center.coords.scrCoords[2],t*e.board.unitX,t*e.board.unitY)},drawPolygon:function(e){e.rendNode=this.appendChildPrim(this.createPrim("polygon",e.id),s.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"polygon"),this.updatePolygon(e)},updatePolygon:function(e){this._updateVisual(e,{stroke:!0,dash:!0}),this.updatePolygonPrim(e.rendNode,e)},displayCopyright:function(e,t){},drawInternalText:function(e){},updateInternalText:function(e){},drawText:function(e){var t,r,i,n;"html"===s.evaluate(e.visProp.display)&&a.isBrowser&&"no"!==this.type?((t=this.container.ownerDocument.createElement("div")).style.position="absolute",t.className=s.evaluate(e.visProp.cssclass),i=s.evaluate(e.visProp.layer),s.exists(i)||(i=0),r=""===this.container.style.zIndex?0:parseInt(this.container.style.zIndex,10),t.style.zIndex=r+i,this.container.appendChild(t),t.setAttribute("id",this.container.id+"_"+e.id)):t=this.drawInternalText(e),e.rendNode=t,e.htmlStr="",e.visProp.islabel&&s.exists(e.visProp.anchor)?(n=s.evaluate(e.visProp.anchor.visProp.visible),e.prepareUpdate().updateVisibility(n)):e.prepareUpdate().updateVisibility(),this.updateText(e)},updateText:function(t){var r,i,n,o,l,c,u,h,d,p=t.plaintext;if(t.visPropCalc.visible)if(this.updateTextStyle(t,!1),"html"===s.evaluate(t.visProp.display)&&"no"!==this.type){if(isNaN(t.coords.scrCoords[1]+t.coords.scrCoords[2])||(i=t.coords.scrCoords[1],i=Math.abs(i)<1e6?i:1e6,r="right"===(h=t.getAnchorX())?t.board.canvasWidth-i:"middle"===h?i-.5*t.size[0]:i,t.visPropOld.left!==h+r&&("right"===h?(t.rendNode.style.right=r+"px",t.rendNode.style.left="auto"):(t.rendNode.style.left=r+"px",t.rendNode.style.right="auto"),t.visPropOld.left=h+r),i=t.coords.scrCoords[2]+this.vOffsetText,i=Math.abs(i)<1e6?i:1e6,r="bottom"===(d=t.getAnchorY())?t.board.canvasHeight-i:"middle"===d?i-.5*t.size[1]:i,t.visPropOld.top!==d+r&&("bottom"===d?(t.rendNode.style.top="auto",t.rendNode.style.bottom=r+"px"):(t.rendNode.style.bottom="auto",t.rendNode.style.top=r+"px"),t.visPropOld.top=d+r)),t.htmlStr!==p){try{t.type===s.OBJECT_TYPE_BUTTON?t.rendNodeButton.innerHTML=p:t.type===s.OBJECT_TYPE_CHECKBOX||t.type===s.OBJECT_TYPE_INPUT?t.rendNodeLabel.innerHTML=p:t.rendNode.innerHTML=p}catch(e){n=t.rendNode.parentNode,t.rendNode.parentNode.removeChild(t.rendNode),t.rendNode.innerHTML=p,n.appendChild(t.rendNode)}if(t.htmlStr=p,s.evaluate(t.visProp.usemathjax))try{MathJax.typeset?MathJax.typeset([t.rendNode]):MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.rendNode]),u="fullscreenwrap_"+(c=t.board.container),document.getElementById(u)&&(o=t.board.containerObj._cssFullscreenStore.scale,l=t.board.containerObj._cssFullscreenStore.vshift,a.scaleJSXGraphDiv("#"+u,"#"+c,o,l))}catch(t){e.debug("MathJax (not yet) loaded")}else if(s.evaluate(t.visProp.usekatex))try{katex.render(p,t.rendNode,{throwOnError:!1})}catch(t){e.debug("KaTeX (not yet) loaded")}else if(s.evaluate(t.visProp.useasciimathml))try{AMprocessNode(t.rendNode,!1)}catch(t){e.debug("AsciiMathML (not yet) loaded")}}this.transformImage(t,t.transformations)}else this.updateInternalText(t)},_css2js:function(e){var t,r,i,n,o,a=[],l=s.trim(e).replace(/;$/,"").split(";");for(r=l.length,t=0;t<r;++t)""!==s.trim(l[t])&&(o=l[t].split(":"),i=s.trim(o[0].replace(/-([a-z])/gi,(function(e,t){return t.toUpperCase()}))),n=s.trim(o[1]),a.push({key:i,val:n}));return a},updateTextStyle:function(e,t){var r,i,n,o,l,c,u,h,d,p=e.visProp,f=a.isBrowser?p.display:"internal",v=["rendNode","rendNodeTag","rendNodeLabel"],m=v.length,g=s.evaluate(p.fontunit),b=["cssdefaultstyle","cssstyle"],y=b.length;if(t?(n=p.highlightstrokecolor,i=p.highlightstrokeopacity,o=p.highlightcssclass):(n=p.strokecolor,i=p.strokeopacity,o=p.cssclass),"no"!==this.type&&("html"===f||"canvas"!==this.type)){for(h=0;h<y;h++)if(""!==(d=s.evaluate(p[(t?"highlight":"")+b[h]]))&&e.visPropOld[b[h]]!==d){for(c=this._css2js(d),l=0;l<m;l++)if(s.exists(e[v[l]]))for(u in c)c.hasOwnProperty(u)&&(e[v[l]].style[c[u].key]=c[u].val);e.visPropOld[b[h]]=d}if(r=s.evaluate(p.fontsize),e.visPropOld.fontsize!==r){e.needsSizeUpdate=!0;try{for(l=0;l<m;l++)s.exists(e[v[l]])&&(e[v[l]].style.fontSize=r+g)}catch(t){for(l=0;l<m;l++)s.exists(e[v[l]])&&(e[v[l]].style.fontSize=r)}e.visPropOld.fontsize=r}}return this.setObjectTransition(e),"html"===f&&"no"!==this.type?(e.visPropOld.cssclass!==o&&(e.rendNode.className=o,e.visPropOld.cssclass=o,e.needsSizeUpdate=!0),this.setObjectStrokeColor(e,n,i)):this.updateInternalTextStyle(e,n,i),this},updateInternalTextStyle:function(e,t,r){this.setObjectStrokeColor(e,t,r)},drawImage:function(e){},updateImage:function(e){this.updateRectPrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),this.updateImageURL(e),this.transformImage(e,e.transformations),this._updateVisual(e,{stroke:!0,dash:!0},!0)},joinTransforms:function(e,t){var r,i=e.board.origin.scrCoords[1],o=e.board.origin.scrCoords[2],s=e.board.unitX,a=e.board.unitY,l=t.length,c=[[1,0,0],[-i/s,1/s,0],[o/a,0,-1/a]];for(r=0;r<l;r++)c=n.matMatMult(t[r].matrix,c);return n.matMatMult([[1,0,0],[i,s,0],[o,0,-a]],c)},transformImage:function(e,t){},updateImageURL:function(e){},updateImageStyle:function(e,t){e.rendNode.className=s.evaluate(t?e.visProp.highlightcssclass:e.visProp.cssclass)},drawForeignObject:function(e){},updateForeignObject:function(e){},appendChildPrim:function(e,t){},appendNodesToElement:function(e,t){},createPrim:function(e,t){return null},remove:function(e){},makeArrows:function(e,t){},_setArrowWidth:function(e,t,r){},updateEllipsePrim:function(e,t,r,i,n){},updateLinePrim:function(e,t,r,i,n,o){},updatePathPrim:function(e,t,r){},updatePathStringPoint:function(e,t,r){},updatePathStringPrim:function(e){},updatePathStringBezierPrim:function(e){},updatePolygonPrim:function(e,t){},updateRectPrim:function(e,t,r,i,n){},setPropertyPrim:function(e,t,r){},setTabindex:function(e){var t;e.board.attr.keyboard.enabled&&s.exists(e.rendNode)&&(t=s.evaluate(e.visProp.tabindex),e.visPropCalc.visible&&!s.evaluate(e.visProp.fixed)||(t=null),t!==e.visPropOld.tabindex&&(e.rendNode.setAttribute("tabindex",t),e.visPropOld.tabindex=t))},display:function(e,t){e&&(e.visPropOld.visible=t)},show:function(e){},hide:function(e){},setBuffering:function(e,t){},setDashStyle:function(e){},setDraft:function(e){if(s.evaluate(e.visProp.draft)){var t=e.board.options.elements.draft.color,r=e.board.options.elements.draft.opacity;this.setObjectTransition(e),e.type===i.OBJECT_TYPE_POLYGON?this.setObjectFillColor(e,t,r):(e.elementClass===i.OBJECT_CLASS_POINT?this.setObjectFillColor(e,t,r):this.setObjectFillColor(e,"none",0),this.setObjectStrokeColor(e,t,r),this.setObjectStrokeWidth(e,e.board.options.elements.draft.strokeWidth))}},removeDraft:function(e){this.setObjectTransition(e),e.type===i.OBJECT_TYPE_POLYGON?this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity):(e.type===i.OBJECT_CLASS_POINT&&this.setObjectFillColor(e,e.visProp.fillcolor,e.visProp.fillopacity),this.setObjectStrokeColor(e,e.visProp.strokecolor,e.visProp.strokeopacity),this.setObjectStrokeWidth(e,e.visProp.strokewidth))},setGradient:function(e){},updateGradient:function(e){},setObjectTransition:function(e,t){},setObjectFillColor:function(e,t,r){},setObjectStrokeColor:function(e,t,r){},setObjectStrokeWidth:function(e,t){},setShadow:function(e){},highlight:function(e){var t,r,n=e.visProp;if(this.setObjectTransition(e),!n.draft){if(e.type===i.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(e,n.highlightfillcolor,n.highlightfillopacity),t=0;t<e.borders.length;t++)this.setObjectStrokeColor(e.borders[t],e.borders[t].visProp.highlightstrokecolor,e.borders[t].visProp.highlightstrokeopacity);else e.elementClass===i.OBJECT_CLASS_TEXT?this.updateTextStyle(e,!0):e.type===i.OBJECT_TYPE_IMAGE?(this.updateImageStyle(e,!0),this.setObjectFillColor(e,n.highlightfillcolor,n.highlightfillopacity)):(this.setObjectStrokeColor(e,n.highlightstrokecolor,n.highlightstrokeopacity),this.setObjectFillColor(e,n.highlightfillcolor,n.highlightfillopacity));n.highlightstrokewidth&&(r=Math.max(s.evaluate(n.highlightstrokewidth),s.evaluate(n.strokewidth)),this.setObjectStrokeWidth(e,r),e.elementClass!==i.OBJECT_CLASS_LINE&&e.elementClass!==i.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(e,!0))}return this},noHighlight:function(e){var t,r,n=e.visProp;if(this.setObjectTransition(e),!s.evaluate(e.visProp.draft)){if(e.type===i.OBJECT_TYPE_POLYGON)for(this.setObjectFillColor(e,n.fillcolor,n.fillopacity),t=0;t<e.borders.length;t++)this.setObjectStrokeColor(e.borders[t],e.borders[t].visProp.strokecolor,e.borders[t].visProp.strokeopacity);else e.elementClass===i.OBJECT_CLASS_TEXT?this.updateTextStyle(e,!1):e.type===i.OBJECT_TYPE_IMAGE?(this.updateImageStyle(e,!1),this.setObjectFillColor(e,n.fillcolor,n.fillopacity)):(this.setObjectStrokeColor(e,n.strokecolor,n.strokeopacity),this.setObjectFillColor(e,n.fillcolor,n.fillopacity));r=s.evaluate(n.strokewidth),this.setObjectStrokeWidth(e,r),e.elementClass!==i.OBJECT_CLASS_LINE&&e.elementClass!==i.OBJECT_CLASS_CURVE||this.updatePathWithArrowHeads(e,!1)}return this},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(e,t){var r,i,n=function(e){e||(e=window.event),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},o=function(t,o){var l;l=r.createElement("span"),i.appendChild(l),l.appendChild(r.createTextNode(t)),l.style.paddingLeft="7px",l.style.paddingRight="7px",void 0!==l.classList&&l.classList.add("JXG_navigation_button"),a.addEvent(l,"click",(function(t){return s.bind(o,e)(),!1}),e),a.addEvent(l,"mouseup",n,e),a.addEvent(l,"mousedown",n,e),a.addEvent(l,"touchend",n,e),a.addEvent(l,"touchstart",n,e)};a.isBrowser&&"no"!==this.type&&(r=e.containerObj.ownerDocument,(i=r.createElement("div")).setAttribute("id",e.containerObj.id+"_navigationbar"),i.style.color=t.strokecolor,i.style.backgroundColor=t.fillcolor,i.style.padding=t.padding,i.style.position=t.position,i.style.fontSize=t.fontsize,i.style.cursor=t.cursor,i.style.zIndex=t.zindex,e.containerObj.appendChild(i),i.style.right=t.right,i.style.bottom=t.bottom,void 0!==i.classList&&i.classList.add("JXG_navigation"),e.attr.showfullscreen&&o(e.attr.fullscreen.symbol,(function(){e.toFullscreen(e.attr.fullscreen.id)})),e.attr.showscreenshot&&o(e.attr.screenshot.symbol,(function(){window.setTimeout((function(){e.renderer.screenshot(e,"",!1)}),330)})),e.attr.showreload&&o("\u21bb",(function(){e.reload()})),e.attr.showcleartraces&&o("\u2297",(function(){e.clearTraces()})),e.attr.shownavigation&&(e.attr.showzoom&&(o("\u2013",e.zoomOut),o("o",e.zoom100),o("+",e.zoomIn)),o("\u2190",e.clickLeftArrow),o("\u2193",e.clickUpArrow),o("\u2191",e.clickDownArrow),o("\u2192",e.clickRightArrow)))},getElementById:function(e){return s.exists(this.container)?this.container.ownerDocument.getElementById(this.container.id+"_"+e):""},removeToInsertLater:function(e){var t=e.parentNode,r=e.nextSibling;if(null!==t)return t.removeChild(e),function(){r?t.insertBefore(e,r):t.appendChild(e)}},resize:function(e,t){},createTouchpoints:function(e){},showTouchpoint:function(e){},hideTouchpoint:function(e){},updateTouchpoint:function(e,t){},dumpToDataURI:function(e){},dumpToCanvas:function(e,t,r,i){},screenshot:function(e){},setLayer:function(e,t){}}),e.AbstractRenderer})),define("reader/file",["jxg","utils/env","utils/type","utils/encoding","utils/base64"],(function(e,t,r,i,n){"use strict";return e.FileReader={handleRemoteFile:function(t,o,s,a,l,c){var u=!1;try{u=new XMLHttpRequest,"raw"===s.toLowerCase()?u.overrideMimeType("text/plain; charset="+l):u.overrideMimeType("text/xml; charset="+l)}catch(e){try{u=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{u=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){u=!1}}}if(u){u.open("GET",t,a),"raw"===s.toLowerCase()?this.cbp=function(){var e=u;4===e.readyState&&o(e.responseText)}:this.cbp=function(){var e=u,t="";4===e.readyState&&(t=!r.exists(e.responseStream)||"PK"!==e.responseText.slice(0,2)&&31!==i.asciiCharCodeAt(e.responseText.slice(0,1),0)?e.responseText:n.decode(jxgBinFileReader(e)),this.parseString(t,o,s,c))},this.cb=r.bind(this.cbp,this),u.onreadystatechange=this.cb;try{u.send(null)}catch(e){throw new Error("JSXGraph: A problem occurred while trying to read remote file '"+t+"'.")}}else e.debug("AJAX not activated!")},handleLocalFile:function(e,t,i,n,o,s){r.exists(n)||(n=!0),"raw"===i.toLowerCase()?this.cbp=function(e){t(e.target.result)}:this.cbp=function(e){var r=e.target.result;this.parseString(r,t,i,s)},this.cb=r.bind(this.cbp,this);var a=new FileReader;a.onload=this.cb,"raw"===i.toLowerCase()?a.readAsText(e):a.readAsText(e,o)},parseFileContent:function(e,t,i,n,o,s){r.isString(e)||void 0===FileReader?this.handleRemoteFile(e,t,i,n,o,s):this.handleLocalFile(e,t,i,n,o,s)},parseString:function(t,i,n,o){var s;if(n=n.toLowerCase(),s=e.readers[n],r.exists(s))new s(i,t).read();else if("jessiecode"!==n)throw new Error("JSXGraph: There is no reader available for '"+n+"'.");r.isFunction(o)&&o(i)}},!t.isMetroApp()&&t.isBrowser&&"object"==typeof navigator&&/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)&&document&&document.write&&document.write('<script type="text/vbscript">\nFunction Base64Encode(inData)\n  Const Base64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"\n  Dim cOut, sOut, I\n  For I = 1 To LenB(inData) Step 3\n    Dim nGroup, pOut, sGroup\n    nGroup = &H10000 * AscB(MidB(inData, I, 1)) + _\n      &H100 * MyASC(MidB(inData, I + 1, 1)) + MyASC(MidB(inData, I + 2, 1))\n    nGroup = Oct(nGroup)\n    nGroup = String(8 - Len(nGroup), "0") & nGroup\n    pOut = Mid(Base64, CLng("&o" & Mid(nGroup, 1, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 3, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 5, 2)) + 1, 1) + _\n      Mid(Base64, CLng("&o" & Mid(nGroup, 7, 2)) + 1, 1)\n    sOut = sOut + pOut\n  Next\n  Select Case LenB(inData) Mod 3\n    Case 1: \'8 bit final\n      sOut = Left(sOut, Len(sOut) - 2) + "=="\n    Case 2: \'16 bit final\n      sOut = Left(sOut, Len(sOut) - 1) + "="\n  End Select\n  Base64Encode = sOut\nEnd Function\n\nFunction MyASC(OneChar)\n  If OneChar = "" Then MyASC = 0 Else MyASC = AscB(OneChar)\nEnd Function\n\nFunction jxgBinFileReader(xhr)\n    Dim byteString\n    Dim b64String\n    Dim i\n    byteString = xhr.responseBody\n    ReDim byteArray(LenB(byteString))\n    For i = 1 To LenB(byteString)\n        byteArray(i-1) = AscB(MidB(byteString, i, 1))\n    Next\n    b64String = Base64Encode(byteString)\n    jxgBinFileReader = b64String\nEnd Function\n<\/script>\n'),e.FileReader})),define("parser/geonext",["jxg","base/constants","utils/type"],(function(e,t,r){"use strict";return e.GeonextParser={replacePow:function(e){var t,r,i,n,o,s,a,l,c,u,h,d;for(u=(e=e.replace(/(\s*)\^(\s*)/g,"^")).indexOf("^"),n=-1;u>=0&&u<e.length-1;){if(n===u)throw new Error("JSXGraph: Error while parsing expression '"+e+"'");if(n=u,c=e.slice(0,u),h=e.slice(u+1),")"===c.charAt(c.length-1)){for(t=1,r=c.length-2;r>=0&&t>0;)")"===(i=c.charAt(r))?t++:"("===i&&(t-=1),r-=1;if(0!==t)throw new Error("JSXGraph: Missing '(' in expression");for(o="",a=c.substring(0,r+1),l=r;l>=0&&a.substr(l,1).match(/([\w.]+)/);)o=RegExp.$1+o,l-=1;o=(o+=c.substring(r+1,c.length)).replace(/([()+*%^\-/\][])/g,"\\$1")}else o="[\\w\\.]+";if(h.match(/^([\w.]*\()/)){for(t=1,r=RegExp.$1.length;r<h.length&&t>0;)")"===(i=h.charAt(r))?t-=1:"("===i&&(t+=1),r+=1;if(0!==t)throw new Error("JSXGraph: Missing ')' in expression");s=(s=h.substring(0,r)).replace(/([()+*%^\-/[\]])/g,"\\$1")}else s="[\\w\\.]+";d=new RegExp("("+o+")\\^("+s+")"),u=(e=e.replace(d,"pow($1,$2)")).indexOf("^")}return e},replaceIf:function(e){var t,r,i,n,o,s,a,l,c,u="",h=null,d=null,p=null;if((i=e.indexOf("If("))<0)return e;for(e=e.replace(/""/g,"0");i>=0;){for(t=e.slice(0,i),r=e.slice(i+3),o=1,n=0,s=-1,a=-1;n<r.length&&o>0;)")"===(l=r.charAt(n))?o-=1:"("===l?o+=1:","===l&&1===o&&(s<0?s=n:a=n),n+=1;if(c=r.slice(0,n-1),r=r.slice(n),s<0)return"";if(a<0)return"";h=c.slice(0,s),d=c.slice(s+1,a),p=c.slice(a+1),u+=t+"(("+(h=this.replaceIf(h))+")?("+(d=this.replaceIf(d))+"):("+(p=this.replaceIf(p))+"))",h=null,d=null,i=(e=r).indexOf("If(")}return u+r},replaceNameById:function(e,t,r){var i,n,o,s,a=0,l=["X","Y","L","V"],c=function(e){return r?"$('"+e+"')":e};for(s=0;s<l.length;s++)for(a=e.indexOf(l[s]+"(");a>=0;)a>=0&&(i=e.indexOf(")",a+2))>=0&&(n=(n=e.slice(a+2,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+2)+(r?"$('":"")+c(o.id)+e.slice(i))),i=e.indexOf(")",a+2),a=e.indexOf(l[s]+"(",i);for(a=e.indexOf("Dist(");a>=0;)a>=0&&(i=e.indexOf(",",a+5))>=0&&(n=(n=e.slice(a+5,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+5)+c(o.id)+e.slice(i))),i=e.indexOf(",",a+5),a=e.indexOf(",",i),(i=e.indexOf(")",a+1))>=0&&(n=(n=e.slice(a+1,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+1)+c(o.id)+e.slice(i))),i=e.indexOf(")",a+1),a=e.indexOf("Dist(",i);for(l=["Deg","Rad"],s=0;s<l.length;s++)for(a=e.indexOf(l[s]+"(");a>=0;)a>=0&&(i=e.indexOf(",",a+4))>=0&&(n=(n=e.slice(a+4,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+4)+c(o.id)+e.slice(i))),i=e.indexOf(",",a+4),a=e.indexOf(",",i),(i=e.indexOf(",",a+1))>=0&&(n=(n=e.slice(a+1,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+1)+c(o.id)+e.slice(i))),i=e.indexOf(",",a+1),a=e.indexOf(",",i),(i=e.indexOf(")",a+1))>=0&&(n=(n=e.slice(a+1,i)).replace(/\\(['"])?/g,"$1"),(o=t.elementsByName[n])&&(e=e.slice(0,a+1)+c(o.id)+e.slice(i))),i=e.indexOf(")",a+1),a=e.indexOf(l[s]+"(",i);return e},replaceIdByObj:function(e){var t=/(X|Y|L)\(([\w_]+)\)/g;return e=e.replace(t,"$('$2').$1()"),t=/(V)\(([\w_]+)\)/g,e=e.replace(t,"$('$2').Value()"),t=/(Dist)\(([\w_]+),([\w_]+)\)/g,e=e.replace(t,"dist($('$2'), $('$3'))"),t=/(Deg)\(([\w_]+),([ \w[\w_]+),([\w_]+)\)/g,e=e.replace(t,"deg($('$2'),$('$3'),$('$4'))"),t=/Rad\(([\w_]+),([\w_]+),([\w_]+)\)/g,e=e.replace(t,"rad($('$1'),$('$2'),$('$3'))"),t=/N\((.+)\)/g,e.replace(t,"($1)")},geonext2JS:function(e,t){var r,i,n,o=["Abs","ACos","ASin","ATan","Ceil","Cos","Exp","Factorial","Floor","Log","Max","Min","Random","Round","Sin","Sqrt","Tan","Trunc"],s=["abs","acos","asin","atan","ceil","cos","exp","factorial","floor","log","max","min","random","round","sin","sqrt","tan","ceil"];for(i=e=(e=(e=e.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),i=this.replaceNameById(i,t),i=this.replaceIf(i),i=this.replacePow(i),i=this.replaceIdByObj(i),n=0;n<o.length;n++)r=new RegExp(["(\\W|^)(",o[n],")"].join(""),"ig"),i=i.replace(r,["$1",s[n]].join(""));return(i=(i=(i=(i=i.replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")).replace(/Pi/g,"PI")).replace(/"/g,"'")},findDependencies:function(e,i,n){var o,s,a,l;for(s in r.exists(n)||(n=e.board),o=n.elementsByName)o.hasOwnProperty(s)&&s!==e.name&&(o[s].elementClass===t.OBJECT_CLASS_TEXT&&r.evaluate(o[s].visProp.islabel)||(l=(l=s.replace(/\[/g,"\\[")).replace(/\]/g,"\\]"),a=new RegExp("\\(([\\w\\[\\]'_ ]+,)*("+l+")(,[\\w\\[\\]'_ ]+)*\\)","g"),i.search(a)>=0&&o[s].addChild(e)))},gxt2jc:function(e,t){var r;return r=e=(e=(e=e.replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&amp;/g,"&"),(r=(r=(r=this.replaceNameById(r,t,!0)).replace(/True/g,"true")).replace(/False/g,"false")).replace(/fasle/g,"false")}},e.GeonextParser})),define("base/element",["jxg","base/constants","base/coords","math/math","math/statistics","options","utils/event","utils/color","utils/type"],(function(e,t,r,i,n,o,s,a,l){"use strict";return e.GeometryElement=function(e,r,i,n){var o,a,c;if(this.needsUpdate=!0,this.isDraggable=!1,this.isReal=!0,this.childElements={},this.hasLabel=!1,this.highlighted=!1,this.notExistingParents={},this.traces={},this.numTraces=0,this.transformations=[],this.baseElement=null,this.descendants={},this.ancestors={},this.parents=[],this.symbolic={},this.rendNode=null,this.elType="",this.dump=!0,this.subs={},this.inherits=[],this._pos=-1,this.stdform=[1,0,0,0,1,1,0,0],this.methodMap={setLabel:"setLabel",label:"label",setName:"setName",getName:"getName",addTransform:"addTransform",setProperty:"setAttribute",setAttribute:"setAttribute",addChild:"addChild",animate:"animate",on:"on",off:"off",trigger:"trigger",addTicks:"addTicks",removeTicks:"removeTicks",removeAllTicks:"removeAllTicks"},this.quadraticform=[[1,0,0],[0,1,0],[0,0,1]],this.visProp={},this.visPropCalc={visible:!1},s.eventify(this),this.mouseover=!1,this.lastDragTime=new Date,arguments.length>0){for(a in this.board=e,this.type=i,this._org_type=i,this.elementClass=n||t.OBJECT_CLASS_OTHER,this.id=r.id,o=r.name,l.exists(o)||(o=this.board.generateName(this)),""!==o&&(this.board.elementsByName[o]=this),this.name=o,this.needsRegularUpdate=r.needsregularupdate,l.clearVisPropOld(this),c=this.resolveShortcuts(r))c.hasOwnProperty(a)&&this._set(a,c[a]);this.visProp.draft=c.draft&&c.draft.draft}},e.extend(e.GeometryElement.prototype,{addChild:function(e){var t,r;for(t in this.childElements[e.id]=e,this.addDescendants(e),e.ancestors[this.id]=this,this.descendants)if(this.descendants.hasOwnProperty(t))for(r in this.descendants[t].ancestors[this.id]=this,this.ancestors)this.ancestors.hasOwnProperty(r)&&(this.descendants[t].ancestors[this.ancestors[r].id]=this.ancestors[r]);for(t in this.ancestors)if(this.ancestors.hasOwnProperty(t))for(r in this.descendants)this.descendants.hasOwnProperty(r)&&(this.ancestors[t].descendants[this.descendants[r].id]=this.descendants[r]);return this},addDescendants:function(e){var t;for(t in this.descendants[e.id]=e,e.childElements)e.childElements.hasOwnProperty(t)&&this.addDescendants(e.childElements[t]);return this},addParents:function(e){var t,r,i;for(r=(i=l.isArray(e)?e:arguments).length,t=0;t<r;++t)l.exists(i[t])&&(l.isId(this.board,i[t])?this.parents.push(i[t]):l.exists(i[t].id)&&this.parents.push(i[t].id));this.parents=l.uniqueArray(this.parents)},setParents:function(e){this.parents=[],this.addParents(e)},removeChild:function(e){return delete this.childElements[e.id],this.removeDescendants(e),delete e.ancestors[this.id],this},removeDescendants:function(e){var t;for(t in delete this.descendants[e.id],e.childElements)e.childElements.hasOwnProperty(t)&&this.removeDescendants(e.childElements[t]);return this},countChildren:function(){var e,t,r=0;for(e in t=this.childElements)t.hasOwnProperty(e)&&e.indexOf("Label")<0&&r++;return r},getName:function(){return this.name},addTransform:function(e){return this},draggable:function(){return this.isDraggable&&!l.evaluate(this.visProp.fixed)&&this.type!==t.OBJECT_TYPE_GLIDER},setPosition:function(e,r){var i,n,o,s,a=[];if(!l.exists(this.parents))return this;for(o=this.parents.length,n=0;n<o;++n)if(i=this.board.select(this.parents[n]),l.isPoint(i)){if(!i.draggable())return this;a.push(i)}for(3===r.length&&(r=r.slice(1)),s=this.board.create("transform",r,{type:"translate"}),(o=a.length)>0?s.applyOnce(a):this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(s):this.addTransform(s),n=0;n<o;++n)a[n].type===t.OBJECT_TYPE_GLIDER&&a[n].updateGlider();return this},setPositionDirectly:function(e,i,o){var s=new r(e,i,this.board,!1),a=new r(e,o,this.board,!1),l=n.subtract(s.usrCoords,a.usrCoords);return this.setPosition(t.COORDS_BY_USER,l),this},generatePolynomial:function(){return[]},animate:function(e,t,r){r=r||{};var i,n,o,s=this.board.attr.animationdelay,c=Math.ceil(t/s),u=this,h=function(e,t,r){var i,n,s,l,h;for(i=a.rgb2hsv(e),s=((n=a.rgb2hsv(t))[0]-i[0])/c,l=(n[1]-i[1])/c,h=(n[2]-i[2])/c,u.animationData[r]=[],o=0;o<c;o++)u.animationData[r][c-o-1]=a.hsv2rgb(i[0]+(o+1)*s,i[1]+(o+1)*l,i[2]+(o+1)*h)},d=function(e,t,r,i){var n,s;if(e=parseFloat(e),t=parseFloat(t),!isNaN(e)&&!isNaN(t))for(s=(t-e)/c,u.animationData[r]=[],o=0;o<c;o++)n=e+(o+1)*s,u.animationData[r][c-o-1]=i?Math.floor(n):n};for(i in this.animationData={},e)if(e.hasOwnProperty(i))switch(n=i.toLowerCase()){case"strokecolor":case"fillcolor":h(this.visProp[n],e[i],n);break;case"size":if(!l.isPoint(this))break;d(this.visProp[n],e[i],n,!0);break;case"strokeopacity":case"strokewidth":case"fillopacity":d(this.visProp[n],e[i],n,!1)}return this.animationCallback=r.callback,this.board.addAnimation(this),this},update:function(){return l.evaluate(this.visProp.trace)&&this.cloneToBackground(),this},updateRenderer:function(){return this},fullUpdate:function(e){return this.prepareUpdate().update().updateVisibility(e).updateRenderer()},setDisplayRendNode:function(e){var t,r,i,n,o;if(void 0===e&&(e=this.visPropCalc.visible),e===this.visPropOld.visible)return this;for(this.board.renderer.display(this,e),r=this.inherits.length,i=0;i<r;i++)if(o=this.inherits[i],l.isArray(o))for(n=o.length,t=0;t<n;t++)l.exists(o[t])&&l.exists(o[t].rendNode)&&"inherit"===l.evaluate(o[t].visProp.visible)&&o[t].setDisplayRendNode(e);else l.exists(o)&&l.exists(o.rendNode)&&"inherit"===l.evaluate(o.visProp.visible)&&o.setDisplayRendNode(e);return this.hasLabel&&l.exists(this.label)&&l.exists(this.label.rendNode)&&"inherit"===l.evaluate(this.label.visProp.visible)&&this.label.setDisplayRendNode(e),this},hide:function(){return this.setAttribute({visible:!1}),this},hideElement:function(){return this.hide(),this},show:function(){return this.setAttribute({visible:!0}),this},showElement:function(){return this.show(),this},updateVisibility:function(e){var t,r,i,n,o,s;if(this.needsUpdate){for(void 0!==e?this.visPropCalc.visible=e:(s=l.evaluate(this.visProp.visible),l.exists(this.hiddenByParent)&&this.hiddenByParent&&(s=!1),"inherit"!==s&&(this.visPropCalc.visible=s)),r=this.inherits.length,i=0;i<r;i++)if(o=this.inherits[i],l.isArray(o))for(n=o.length,t=0;t<n;t++)l.exists(o[t])&&"inherit"===l.evaluate(o[t].visProp.visible)&&o[t].prepareUpdate().updateVisibility(this.visPropCalc.visible);else l.exists(o)&&"inherit"===l.evaluate(o.visProp.visible)&&o.prepareUpdate().updateVisibility(this.visPropCalc.visible);l.exists(this.label)&&l.exists(this.label.visProp)&&l.evaluate(this.label.visProp.visible)&&this.label.prepareUpdate().updateVisibility(this.visPropCalc.visible)}return this},_set:function(e,t){var r;if(e=e.toLocaleLowerCase(),this.visProp.hasOwnProperty(e)&&e.indexOf("color")>=0&&l.isString(t)&&9===t.length&&"#"===t.charAt(0))t=a.rgba2rgbo(t),this.visProp[e]=t[0],this.visProp[e.replace("color","opacity")]=t[1];else if(null===t||!l.isObject(t)||l.exists(t.id)||l.exists(t.name))this.visProp[e]=t;else for(r in this.visProp[e]={},t)t.hasOwnProperty(r)&&(this.visProp[e][r.toLocaleLowerCase()]=t[r])},resolveShortcuts:function(e){var t,r;for(t in o.shortcuts)if(o.shortcuts.hasOwnProperty(t)&&l.exists(e[t]))for(r=0;r<o.shortcuts[t].length;r++)l.exists(e[o.shortcuts[t][r]])||(e[o.shortcuts[t][r]]=e[t]);return e},setLabel:function(e){this.hasLabel||this.setAttribute({withlabel:!0}),this.setLabelText(e)},setLabelText:function(e){return l.exists(this.label)&&(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.label.setText(e)),this},setName:function(e){e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"slider"!==this.elType&&this.setLabelText(e),this.setAttribute({name:e})},setProperty:function(){e.deprecated("setProperty()","setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(r){var i,n,o,s,c,u,h,d,p,f={};for(i=0;i<arguments.length;i++)u=arguments[i],l.isString(u)?(d=u.split(":"),f[l.trim(d[0])]=l.trim(d[1])):l.isArray(u)?f[u[0]]=u[1]:e.extend(f,u);for(i in f=this.resolveShortcuts(f))if(f.hasOwnProperty(i)){if(s=i.replace(/\s+/g,"").toLowerCase(),c=f[i],l.isObject(c)&&l.exists(this.visProp[s])){if(this.visProp[s]=l.merge(this.visProp[s],c),this.type===t.OBJECT_TYPE_TICKS&&l.exists(this.labels))for(o=this.labels.length,n=0;n<o;n++)this.labels[n].setAttribute(c);else if(l.exists(this[s]))if(l.isArray(this[s]))for(n=0;n<this[s].length;n++)this[s][n].setAttribute(c);else this[s].setAttribute(c);continue}switch(p=this.visProp[s],s){case"name":p=this.name,delete this.board.elementsByName[this.name],this.name=c,this.board.elementsByName[this.name]=this;break;case"needsregularupdate":this.needsRegularUpdate=!("false"===c||!1===c),this.board.renderer.setBuffering(this,this.needsRegularUpdate?"auto":"static");break;case"labelcolor":h=(c=a.rgba2rgbo(c))[1],c=c[0],0===h&&l.exists(this.label)&&this.hasLabel&&this.label.hideElement(),l.exists(this.label)&&this.hasLabel&&(this.label.visProp.strokecolor=c,this.board.renderer.setObjectStrokeColor(this.label,c,h)),this.elementClass===t.OBJECT_CLASS_TEXT&&(this.visProp.strokecolor=c,this.visProp.strokeopacity=h,this.board.renderer.setObjectStrokeColor(this,c,h));break;case"infoboxtext":l.isString(c)?this.infoboxText=c:this.infoboxText=!1;break;case"visible":this.visProp.visible="false"!==c&&("true"===c||c),this.setDisplayRendNode(l.evaluate(this.visProp.visible)),l.evaluate(this.visProp.visible)&&l.exists(this.updateSize)&&this.updateSize();break;case"face":l.isPoint(this)&&(this.visProp.face=c,this.board.renderer.changePointStyle(this));break;case"trace":"false"===c||!1===c?(this.clearTrace(),this.visProp.trace=!1):this.visProp.trace="pause"!==c;break;case"gradient":this.visProp.gradient=c,this.board.renderer.setGradient(this);break;case"gradientsecondcolor":c=a.rgba2rgbo(c),this.visProp.gradientsecondcolor=c[0],this.visProp.gradientsecondopacity=c[1],this.board.renderer.updateGradient(this);break;case"gradientsecondopacity":this.visProp.gradientsecondopacity=c,this.board.renderer.updateGradient(this);break;case"withlabel":this.visProp.withlabel=c,l.evaluate(c)?(this.label||this.createLabel(),this.label.setAttribute({visible:"inherit"})):this.label&&this.hasLabel&&this.label.setAttribute({visible:!1}),this.hasLabel=c;break;case"radius":this.type!==t.OBJECT_TYPE_ANGLE&&this.type!==t.OBJECT_TYPE_SECTOR||this.setRadius(c);break;case"rotate":(this.elementClass===t.OBJECT_CLASS_TEXT&&"internal"===l.evaluate(this.visProp.display)||this.type===t.OBJECT_TYPE_IMAGE)&&this.addRotation(c);break;case"ticksdistance":this.type===t.OBJECT_TYPE_TICKS&&l.isNumber(c)&&(this.ticksFunction=this.makeTicksFunction(c));break;case"generatelabelvalue":this.type===t.OBJECT_TYPE_TICKS&&l.isFunction(c)&&(this.generateLabelValue=c);break;case"onpolygon":this.type===t.OBJECT_TYPE_GLIDER&&(this.onPolygon=!!c);break;case"disabled":l.exists(this.rendNodeTag)&&(this.rendNodeTag.disabled=!!c);break;case"checked":l.exists(this.rendNodeTag)&&(this.rendNodeCheckbox.checked=!!c);break;case"maxlength":l.exists(this.rendNodeTag)&&(this.rendNodeTag.maxlength=!!c);break;case"layer":this.board.renderer.setLayer(this,l.evaluate(c)),this._set(s,c);break;case"tabindex":l.exists(this.rendNode)&&(this.rendNode.setAttribute("tabindex",c),this._set(s,c));break;default:l.exists(this.visProp[s])&&(!e.Validator[s]||e.Validator[s]&&e.Validator[s](c)||e.Validator[s]&&l.isFunction(c)&&e.Validator[s](c()))&&(c=(!c.toLowerCase||"false"!==c.toLowerCase())&&c,this._set(s,c))}this.triggerEventHandlers(["attribute:"+s],[p,c,this])}return this.triggerEventHandlers(["attribute"],[f,this]),l.evaluate(this.visProp.needsregularupdate)?this.board.update(this):this.board.fullUpdate(),this},getProperty:function(){e.deprecated("getProperty()","getAttribute()"),this.getProperty.apply(this,arguments)},getAttribute:function(e){var t;switch(e=e.toLowerCase()){case"needsregularupdate":t=this.needsRegularUpdate;break;case"labelcolor":t=this.label.visProp.strokecolor;break;case"infoboxtext":t=this.infoboxText;break;case"withlabel":t=this.hasLabel;break;default:t=this.visProp[e]}return t},setDash:function(e){return this.setAttribute({dash:e}),this},prepareUpdate:function(){return this.needsUpdate=!0,this},remove:function(){return this.board.renderer.remove(this.board.renderer.getElementById(this.id)),this.hasLabel&&this.board.renderer.remove(this.board.renderer.getElementById(this.label.id)),this},getTextAnchor:function(){return new r(t.COORDS_BY_USER,[0,0],this.board)},getLabelAnchor:function(){return new r(t.COORDS_BY_USER,[0,0],this.board)},setArrow:function(e,r){return this.visProp.firstarrow=e,this.visProp.lastarrow=r,r&&(this.type=t.OBJECT_TYPE_VECTOR,this.elType="arrow"),this.prepareUpdate().update().updateVisibility().updateRenderer(),this},createGradient:function(){var e=l.evaluate(this.visProp.gradient);"linear"!==e&&"radial"!==e||this.board.renderer.setGradient(this)},createLabel:function(){var t,r=this;return e.elements.text?((t=l.deepCopy(this.visProp.label,null)).id=this.id+"Label",t.isLabel=!0,t.anchor=this,t.priv=this.visProp.priv,this.visProp.withlabel&&(this.label=e.elements.text(this.board,[0,0,function(){return l.isFunction(r.name)?r.name():r.name}],t),this.label.needsUpdate=!0,this.label.dump=!1,this.label.fullUpdate(),this.hasLabel=!0)):e.debug("JSXGraph: Can't create label: text element is not available. Make sure you include base/text"),this},highlight:function(e){return e=l.def(e,!1),!l.evaluate(this.visProp.highlight)||this.highlighted&&!e||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this)),this},noHighlight:function(){return this.highlighted&&(this.highlighted=!1,delete this.board.highlightedObjects[this.id],this.board.renderer.noHighlight(this)),this},clearTrace:function(){var e;for(e in this.traces)this.traces.hasOwnProperty(e)&&this.board.renderer.remove(this.traces[e]);return this.numTraces=0,this},cloneToBackground:function(){return this},bounds:function(){return[0,0,0,0]},normalize:function(){return this.stdform=i.normalize(this.stdform),this},toJSON:function(){var e,t,r=['{"name":',this.name];for(t in r.push(', "id":'+this.id),e=[],this.visProp)this.visProp.hasOwnProperty(t)&&l.exists(this.visProp[t])&&e.push('"'+t+'":'+this.visProp[t]);return r.push(', "visProp":{'+e.toString()+"}"),r.push("}"),r.join("")},addRotation:function(e){var r,i,n,o,s,a=this;return(this.elementClass===t.OBJECT_CLASS_TEXT&&"internal"===l.evaluate(this.visProp.display)||this.type===t.OBJECT_TYPE_IMAGE)&&0!==e&&(r=this.board.create("transform",[function(){return-a.X()},function(){return-a.Y()}],{type:"translate"}),i=this.board.create("transform",[function(){return a.X()},function(){return a.Y()}],{type:"translate"}),n=this.board.create("transform",[function(){return a.board.unitX/a.board.unitY},function(){return 1}],{type:"scale"}),o=this.board.create("transform",[function(){return a.board.unitY/a.board.unitX},function(){return 1}],{type:"scale"}),s=this.board.create("transform",[function(){return l.evaluate(e)*Math.PI/180}],{type:"rotate"}),r.bindTo(this),n.bindTo(this),s.bindTo(this),o.bindTo(this),i.bindTo(this)),this},highlightStrokeColor:function(t){return e.deprecated("highlightStrokeColor()","setAttribute()"),this.setAttribute({highlightStrokeColor:t}),this},strokeColor:function(t){return e.deprecated("strokeColor()","setAttribute()"),this.setAttribute({strokeColor:t}),this},strokeWidth:function(t){return e.deprecated("strokeWidth()","setAttribute()"),this.setAttribute({strokeWidth:t}),this},fillColor:function(t){return e.deprecated("fillColor()","setAttribute()"),this.setAttribute({fillColor:t}),this},highlightFillColor:function(t){return e.deprecated("highlightFillColor()","setAttribute()"),this.setAttribute({highlightFillColor:t}),this},labelColor:function(t){return e.deprecated("labelColor()","setAttribute()"),this.setAttribute({labelColor:t}),this},dash:function(t){return e.deprecated("dash()","setAttribute()"),this.setAttribute({dash:t}),this},visible:function(t){return e.deprecated("visible()","setAttribute()"),this.setAttribute({visible:t}),this},shadow:function(t){return e.deprecated("shadow()","setAttribute()"),this.setAttribute({shadow:t}),this},getType:function(){return this.elType},getParents:function(){return l.isArray(this.parents)?this.parents:[]},snapToGrid:function(){return this},snapToPoints:function(){return this},getAttributes:function(){var e,t=l.deepCopy(this.visProp),r=[],i=r.length;for(t.id=this.id,t.name=this.name,e=0;e<i;e++)delete t[r[e]];return t},hasPoint:function(e,t){return!1},addTicks:function(e){return""!==e.id&&l.exists(e.id)||(e.id=this.id+"_ticks_"+(this.ticks.length+1)),this.board.renderer.drawTicks(e),this.ticks.push(e),e.id},removeAllTicks:function(){var e;if(l.exists(this.ticks)){for(e=this.ticks.length-1;e>=0;e--)this.removeTicks(this.ticks[e]);this.ticks=[],this.board.update()}},removeTicks:function(e){var t,r;if(l.exists(this.defaultTicks)&&this.defaultTicks===e&&(this.defaultTicks=null),l.exists(this.ticks))for(t=this.ticks.length-1;t>=0;t--)if(this.ticks[t]===e){if(this.board.removeObject(this.ticks[t]),this.ticks[t].ticks)for(r=0;r<this.ticks[t].ticks.length;r++)l.exists(this.ticks[t].labels[r])&&this.board.removeObject(this.ticks[t].labels[r]);delete this.ticks[t];break}},getSnapSizes:function(){var e,t,r;return e=l.evaluate(this.visProp.snapsizex),t=l.evaluate(this.visProp.snapsizey),e<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(e=(r=this.board.defaultAxes.x.defaultTicks).ticksDelta*(l.evaluate(r.visProp.minorticks)+1)),t<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(t=(r=this.board.defaultAxes.y.defaultTicks).ticksDelta*(l.evaluate(r.visProp.minorticks)+1)),[e,t]},handleSnapToGrid:function(r,i){var n,o,s,a,c,u,h,d,p,f=l.evaluate(this.visProp.attracttogrid),v=l.evaluate(this.visProp.attractorunit),m=l.evaluate(this.visProp.attractordistance);return!l.exists(this.coords)||l.evaluate(this.visProp.fixed)||(l.evaluate(this.visProp.snaptogrid)||f||!0===r)&&(n=this.coords.usrCoords[1],o=this.coords.usrCoords[2],d=(h=this.getSnapSizes())[0],p=h[1],d>0&&p>0&&(u=this.board.getBoundingBox(),s=Math.round(n/d)*d,a=Math.round(o/p)*p,c=new e.Coords(t.COORDS_BY_USER,[s,a],this.board),(!f||c.distance("screen"===v?t.COORDS_BY_SCREEN:t.COORDS_BY_USER,this.coords)<m)&&(n=s,o=a,i||(n<u[0]?n+=d:n>u[2]&&(n-=d),o<u[3]?o+=p:o>u[1]&&(o-=p)),this.coords.setCoordinates(t.COORDS_BY_USER,[n,o])))),this},getBoundingBox:function(){var e,r,i,n,o,s=[1/0,1/0,-1/0,-1/0];if(this.type===t.OBJECT_TYPE_POLYGON){if((r=this.vertices.length-1)<=0)return s;for(e=0;e<r;e++)i=this.vertices[e].X(),s[0]=i<s[0]?i:s[0],s[2]=i>s[2]?i:s[2],i=this.vertices[e].Y(),s[1]=i<s[1]?i:s[1],s[3]=i>s[3]?i:s[3]}else if(this.elementClass===t.OBJECT_CLASS_CIRCLE)n=this.center.X(),o=this.center.Y(),s=[n-this.radius,o+this.radius,n+this.radius,o-this.radius];else if(this.elementClass===t.OBJECT_CLASS_CURVE){if(0===(r=this.vertices.length))return s;for(e=0;e<r;e++)i=this.points[e].coords.usrCoords[1],s[0]=i<s[0]?i:s[0],s[2]=i>s[2]?i:s[2],i=this.points[e].coords.usrCoords[1],s[1]=i<s[1]?i:s[1],s[3]=i>s[3]?i:s[3]}return s},addEvent:e.shortcut(e.GeometryElement.prototype,"on"),removeEvent:e.shortcut(e.GeometryElement.prototype,"off"),__evt__over:function(e){},__evt__mouseover:function(e){},__evt__out:function(e){},__evt__mouseout:function(e){},__evt__move:function(e){},__evt__mousemove:function(e){},__evt__drag:function(e){},__evt__mousedrag:function(e){},__evt__pendrag:function(e){},__evt__touchdrag:function(e){},__evt__down:function(e){},__evt__mousedown:function(e){},__evt__pendown:function(e){},__evt__touchdown:function(e){},__evt__up:function(e){},__evt__mouseup:function(e){},__evt__penup:function(e){},__evt__touchup:function(e){},__evt__attribute:function(e,t){},__evt__attribute_:function(e,t,r){},__evt:function(){}}),e.GeometryElement})),define("base/coordselement",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/coords","base/constants","utils/type"],(function(e,t,r,i,n,o,s,a){"use strict";return e.CoordsElement=function(e,t){var r;for(a.exists(e)||(e=[1,0,0]),r=0;r<e.length;++r)e[r]=parseFloat(e[r]);this.coords=new o(s.COORDS_BY_USER,e,this.board),this.initialCoords=new o(s.COORDS_BY_USER,e,this.board),this.position=null,this.isConstrained=!1,this.onPolygon=!1,this.slideObject=null,this.slideObjects=[],this.needsUpdateFromParent=!0,this.groups=[],this.Xjc=null,this.Yjc=null,this.methodMap=a.deepCopy(this.methodMap,{move:"moveTo",moveTo:"moveTo",moveAlong:"moveAlong",visit:"visit",glide:"makeGlider",makeGlider:"makeGlider",intersect:"makeIntersection",makeIntersection:"makeIntersection",X:"X",Y:"Y",free:"free",setPosition:"setGliderPosition",setGliderPosition:"setGliderPosition",addConstraint:"addConstraint",dist:"Dist",onPolygon:"onPolygon"}),a.exists(this.element)&&this.addAnchor(e,t),this.isDraggable=!0},e.extend(e.CoordsElement.prototype,{updateConstraint:function(){return this},updateCoords:function(e){return this.needsUpdate?(a.exists(e)||(e=!1),a.evaluate(this.visProp.frozen)||this.updateConstraint(),this.type===s.OBJECT_TYPE_GLIDER&&(this.isConstrained&&(e=!1),e?this.updateGliderFromParent():this.updateGlider()),this.updateTransform(e),this):this},updateGlider:function(){var e,i,n,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P=2*Math.PI,S=!1,E=this.slideObject,O=[];if(this.needsUpdateFromParent=!1,E.elementClass===s.OBJECT_CLASS_CIRCLE)a.evaluate(this.visProp.isgeonext)&&(P=1),b=r.projectPointToCircle(this,E,this.board),y=r.rad([E.center.X()+1,E.center.Y()],E.center,this)/P;else if(E.elementClass===s.OBJECT_CLASS_LINE){if(this.onPolygon){if(i=E.point1.coords.usrCoords,l=(n=E.point2.coords.usrCoords)[e=1]-i[e],Math.abs(l)<t.eps&&(l=n[e=2]-i[e]),h=(r.projectPointToLine(this,E,this.board).usrCoords[e]-i[e])/l,u=E.parentPolygon,h<0){for(e=0;e<u.borders.length;e++)if(E===u.borders[e]){E=u.borders[(e-1+u.borders.length)%u.borders.length];break}}else if(h>1)for(e=0;e<u.borders.length;e++)if(E===u.borders[e]){E=u.borders[(e+1+u.borders.length)%u.borders.length];break}E.id!==this.slideObject.id&&(this.slideObject=E)}i=E.point1.coords,n=E.point2.coords,(l=i.distance(s.COORDS_BY_USER,n))<t.eps?(b=i,S=!0,y=0):(b=r.projectPointToLine(this,E,this.board),i=i.usrCoords.slice(0),n=n.usrCoords.slice(0),Math.abs(n[0])<t.eps?(l=n[e=1],Math.abs(l)<t.eps&&(l=n[e=2]),y=((l=(b.usrCoords[e]-i[e])/l)>=0?1:-1)*(l=Math.abs(l))/(l+1)):Math.abs(i[0])<t.eps?(l=i[e=1],Math.abs(l)<t.eps&&(l=i[e=2]),y=(l=(b.usrCoords[e]-n[e])/l)<0?(1-2*l)/(1-l):1/(l+1)):(l=n[e=1]-i[e],Math.abs(l)<t.eps&&(l=n[e=2]-i[e]),y=(b.usrCoords[e]-i[e])/l)),_=a.evaluate(this.visProp.snapwidth),a.evaluate(_)>0&&Math.abs(this._smax-this._smin)>=t.eps&&(c=(y=Math.max(Math.min(y,1),0))*(this._smax-this._smin)+this._smin,y=((c=Math.round(c/_)*_)-this._smin)/(this._smax-this._smin),this.update(!0)),i=E.point1.coords,!a.evaluate(E.visProp.straightfirst)&&Math.abs(i.usrCoords[0])>t.eps&&y<0&&(b=i,S=!0,y=0),n=E.point2.coords,!a.evaluate(E.visProp.straightlast)&&Math.abs(n.usrCoords[0])>t.eps&&y>1&&(b=n,S=!0,y=1)}else if(E.type===s.OBJECT_TYPE_TURTLE)this.updateConstraint(),b=(C=r.projectPointToTurtle(this,E,this.board))[0],y=C[1];else if(E.elementClass===s.OBJECT_CLASS_CURVE)if(E.type===s.OBJECT_TYPE_ARC||E.type===s.OBJECT_TYPE_SECTOR)b=r.projectPointToCircle(this,E,this.board),f=r.rad(E.radiuspoint,E.center,this),d=0,p=r.rad(E.radiuspoint,E.center,E.anglepoint),y=f,("minor"===(_=a.evaluate(E.visProp.selection))&&p>Math.PI||"major"===_&&p<Math.PI)&&(d=p,p=2*Math.PI),(f<d||f>p)&&(y=p,(f<d&&f>.5*d||f>p&&f>.5*p+Math.PI)&&(y=d),this.needsUpdateFromParent=!0,this.updateGliderFromParent()),P=p-d,this.visProp.isgeonext&&(P=1),Math.abs(P)>t.eps&&(y/=P);else if(this.updateConstraint(),E.transformations.length>0){for(w=!1,(C=E.getTransformationSource())[0]&&(w=C[0],O.push(E),O.push(C[1]));C[0]&&a.exists(C[1]._transformationSource);)C=C[1].getTransformationSource(),O.push(C[1]);if(x=this.coords.usrCoords,w){for(e=0;e<O.length;e++)O[e].updateTransformMatrix(),g=t.inverse(O[e].transformMat),x=t.matVecMult(g,x);for(v=new o(s.COORDS_BY_USER,x,this.board).usrCoords,x=(m=r.projectCoordsToCurve(v[1],v[2],this.position||0,O[O.length-1],this.board))[0].usrCoords,e=O.length-2;e>=0;e--)x=t.matVecMult(O[e].transformMat,x);m[0]=new o(s.COORDS_BY_USER,x,this.board)}else E.updateTransformMatrix(),g=t.inverse(E.transformMat),x=t.matVecMult(g,x),v=new o(s.COORDS_BY_USER,x,this.board).usrCoords,m=r.projectCoordsToCurve(v[1],v[2],this.position||0,E,this.board);b=m[0],y=m[1]}else b=(C=r.projectPointToCurve(this,E,this.board))[0],y=C[1];else a.isPoint(E)&&(b=r.projectPointToPoint(this,E,this.board),y=this.position);this.coords.setCoordinates(s.COORDS_BY_USER,b.usrCoords,S),this.position=y},updateGliderFromParent:function(){var e,i,n,l,c,u,h,d,p,f,v,m,g=this.slideObject,b=[],y=2*Math.PI;if(this.needsUpdateFromParent){if(g.elementClass===s.OBJECT_CLASS_CIRCLE)n=g.Radius(),a.evaluate(this.visProp.isgeonext)&&(y=1),c=[g.center.X()+n*Math.cos(this.position*y),g.center.Y()+n*Math.sin(this.position*y)];else if(g.elementClass===s.OBJECT_CLASS_LINE)e=g.point1.coords.usrCoords,i=g.point2.coords.usrCoords,0===e[0]&&0===e[1]&&0===e[2]||0===i[0]&&0===i[1]&&0===i[2]?c=[0,0,0]:Math.abs(i[0])<t.eps?(l=Math.min(Math.abs(this.position),1-t.eps),l/=1-l,this.position<0&&(l=-l),c=[e[0]+l*i[0],e[1]+l*i[1],e[2]+l*i[2]]):Math.abs(e[0])<t.eps?(l=Math.max(this.position,t.eps),l=(l=Math.min(l,2-t.eps))>1?(l-1)/(l-2):(1-l)/l,c=[i[0]+l*e[0],i[1]+l*e[1],i[2]+l*e[2]]):(l=this.position,c=[e[0]+l*(i[0]-e[0]),e[1]+l*(i[1]-e[1]),e[2]+l*(i[2]-e[2])]);else if(g.type===s.OBJECT_TYPE_TURTLE)this.coords.setCoordinates(s.COORDS_BY_USER,[g.Z(this.position),g.X(this.position),g.Y(this.position)]),this.updateConstraint(),c=r.projectPointToTurtle(this,g,this.board)[0].usrCoords;else if(g.elementClass===s.OBJECT_CLASS_CURVE){for(d=!1,(u=g.getTransformationSource())[0]&&(d=u[0],b.push(g),b.push(u[1]));u[0]&&a.exists(u[1]._transformationSource);)u=u[1].getTransformationSource(),b.push(u[1]);if(d?this.coords.setCoordinates(s.COORDS_BY_USER,[b[b.length-1].Z(this.position),b[b.length-1].X(this.position),b[b.length-1].Y(this.position)]):this.coords.setCoordinates(s.COORDS_BY_USER,[g.Z(this.position),g.X(this.position),g.Y(this.position)]),g.type===s.OBJECT_TYPE_ARC||g.type===s.OBJECT_TYPE_SECTOR)p=r.rad([g.center.X()+1,g.center.Y()],g.center,g.radiuspoint),f=0,m=r.rad(g.radiuspoint,g.center,g.anglepoint),("minor"===g.visProp.selection&&m>Math.PI||"major"===g.visProp.selection&&m<Math.PI)&&(f=m,m=2*Math.PI),y=m-f,a.evaluate(this.visProp.isgeonext)&&(y=1),((v=this.position*y)<f||v>m)&&(((v=m)<f&&v>.5*f||v>m&&v>.5*m+Math.PI)&&(v=f),this.position=v,Math.abs(y)>t.eps&&(this.position/=y)),n=g.Radius(),c=[g.center.X()+n*Math.cos(this.position*y+p),g.center.Y()+n*Math.sin(this.position*y+p)];else if(this.updateConstraint(),d)for(c=r.projectPointToCurve(this,b[b.length-1],this.board)[0].usrCoords,h=b.length-2;h>=0;h--)c=new o(s.COORDS_BY_USER,t.matVecMult(b[h].transformMat,c),this.board).usrCoords;else c=r.projectPointToCurve(this,g,this.board)[0].usrCoords}else a.isPoint(g)&&(c=r.projectPointToPoint(this,g,this.board).usrCoords);this.coords.setCoordinates(s.COORDS_BY_USER,c,!1)}else this.needsUpdateFromParent=!0},updateRendererGeneric:function(e){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.coords.usrCoords[1]+this.coords.usrCoords[2]),this.isReal=Math.abs(this.coords.usrCoords[0])>t.eps&&this.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer[e](this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},X:function(){return this.coords.usrCoords[1]},Y:function(){return this.coords.usrCoords[2]},Z:function(){return this.coords.usrCoords[0]},XEval:function(){return this.coords.usrCoords[1]},YEval:function(){return this.coords.usrCoords[2]},ZEval:function(){return this.coords.usrCoords[0]},Dist:function(e){return this.isReal&&e.isReal?this.coords.distance(s.COORDS_BY_USER,e.coords):NaN},snapToGrid:function(e){return this.handleSnapToGrid(e)},handleSnapToPoints:function(e){var t,i,n,o,l,c,u,h,d=0,p=1/0,f=null,v=a.evaluate(this.visProp.ignoredsnaptopoints),m=!1;if(o=this.board.objectsList.length,v&&(u=v.length),a.evaluate(this.visProp.snaptopoints)||e){for(l=a.evaluate(this.visProp.attractorunit),c=a.evaluate(this.visProp.attractordistance),t=0;t<o;t++){if(i=this.board.objectsList[t],v){for(m=!1,h=0;h<u;h++)if(i===this.board.select(v[h])){m=!0;break}if(m)continue}a.isPoint(i)&&i!==this&&i.visPropCalc.visible&&(n=r.projectPointToPoint(this,i,this.board),(d="screen"===l?n.distance(s.COORDS_BY_SCREEN,this.coords):n.distance(s.COORDS_BY_USER,this.coords))<c&&d<p&&(p=d,f=n))}null!==f&&this.coords.setCoordinates(s.COORDS_BY_USER,f.usrCoords)}return this},snapToPoints:function(e){return this.handleSnapToPoints(e)},handleAttractors:function(){var e,t,i,n,l=0,c=a.evaluate(this.visProp.attractorunit),u=a.evaluate(this.visProp.attractordistance),h=a.evaluate(this.visProp.snatchdistance),d=a.evaluate(this.visProp.attractors),p=d.length;if(0!==u){for(e=0;e<p;e++)if(t=this.board.select(d[e]),a.exists(t)&&t!==this){if(a.isPoint(t)?i=r.projectPointToPoint(this,t,this.board):t.elementClass===s.OBJECT_CLASS_LINE?(n=r.projectCoordsToSegment(this.coords.usrCoords,t.point1.coords.usrCoords,t.point2.coords.usrCoords),i=!a.evaluate(t.visProp.straightfirst)&&n[1]<0?t.point1.coords:!a.evaluate(t.visProp.straightlast)&&n[1]>1?t.point2.coords:new o(s.COORDS_BY_USER,n[0],this.board)):t.elementClass===s.OBJECT_CLASS_CIRCLE?i=r.projectPointToCircle(this,t,this.board):t.elementClass===s.OBJECT_CLASS_CURVE?i=r.projectPointToCurve(this,t,this.board)[0]:t.type===s.OBJECT_TYPE_TURTLE?i=r.projectPointToTurtle(this,t,this.board)[0]:t.type===s.OBJECT_TYPE_POLYGON&&(i=new o(s.COORDS_BY_USER,r.projectCoordsToPolygon(this.coords.usrCoords,t),this.board)),(l="screen"===c?i.distance(s.COORDS_BY_SCREEN,this.coords):i.distance(s.COORDS_BY_USER,this.coords))<u){this.type===s.OBJECT_TYPE_GLIDER&&(t===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===t)||this.makeGlider(t);break}l>=h&&(t===this.slideObject||this.slideObject&&this.onPolygon&&this.slideObject.parentPolygon===t)&&this.popSlideObject()}return this}},setPositionDirectly:function(e,r){var i,l,c,u,h=this.coords;if(this.relativeCoords)return l=new o(e,r,this.board),a.evaluate(this.visProp.islabel)?(c=n.subtract(l.scrCoords,h.scrCoords),this.relativeCoords.scrCoords[1]+=c[1],this.relativeCoords.scrCoords[2]+=c[2]):(c=n.subtract(l.usrCoords,h.usrCoords),this.relativeCoords.usrCoords[1]+=c[1],this.relativeCoords.usrCoords[2]+=c[2]),this;for(this.coords.setCoordinates(e,r),this.handleSnapToGrid(),this.handleSnapToPoints(),this.handleAttractors(),i=this.transformations.length-1;i>=0;i--)e===s.COORDS_BY_SCREEN?u=new o(e,r,this.board).usrCoords:(2===r.length&&(r=[1].concat(r)),u=r),this.initialCoords.setCoordinates(s.COORDS_BY_USER,t.matVecMult(t.inverse(this.transformations[i].matrix),u));return this.prepareUpdate().update(),this.board.isSuspendedUpdate&&this.type===s.OBJECT_TYPE_GLIDER&&this.updateGlider(),this},setPositionByTransform:function(e,t){var r;return t=new o(e,t,this.board),r=this.board.create("transform",t.usrCoords.slice(1),{type:"translate"}),this.transformations.length>0&&this.transformations[this.transformations.length-1].isNumericMatrix?this.transformations[this.transformations.length-1].melt(r):this.addTransform(this,r),this.prepareUpdate().update(),this},setPosition:function(e,t){return this.setPositionDirectly(e,t)},setGliderPosition:function(e){return this.type===s.OBJECT_TYPE_GLIDER&&(this.position=e,this.board.update()),this},makeGlider:function(t){var r,i,n,o=this.board.select(t),l=!1;if(o.type===s.OBJECT_TYPE_POLYGON){for(r=Number.MAX_VALUE,i=0;i<o.borders.length;i++)(n=e.Math.Geometry.distPointLine(this.coords.usrCoords,o.borders[i].stdform))<r&&(r=n,t=o.borders[i]);o=this.board.select(t),l=!0}if(!a.exists(o))throw new Error("JSXGraph: slide object undefined.");if(o.type===s.OBJECT_TYPE_TICKS)throw new Error("JSXGraph: gliders on ticks are not possible.");return this.slideObject=this.board.select(t),this.slideObjects.push(this.slideObject),this.addParents(t),this.type=s.OBJECT_TYPE_GLIDER,this.elType="glider",this.visProp.snapwidth=-1,this.slideObject.addChild(this),this.isDraggable=!0,this.onPolygon=l,this.generatePolynomial=function(){return this.slideObject.generatePolynomial(this)},this.updateGlider(),this.needsUpdateFromParent=!0,this.updateGliderFromParent(),this},popSlideObject:function(){this.slideObjects.length>0&&(this.slideObjects.pop(),this.slideObject.removeChild(this),0===this.slideObjects.length?(this.type=this._org_type,this.type===s.OBJECT_TYPE_POINT?this.elType="point":this.elementClass===s.OBJECT_CLASS_TEXT?this.elType="text":this.type===s.OBJECT_TYPE_IMAGE?this.elType="image":this.type===s.OBJECT_TYPE_FOREIGNOBJECT&&(this.elType="foreignobject"),this.slideObject=null):this.slideObject=this.slideObjects[this.slideObjects.length-1])},free:function(){var e,t;if(this.type!==s.OBJECT_TYPE_GLIDER){if(this.transformations.length=0,delete this.updateConstraint,this.isConstrained=!1,this.isDraggable)return;this.isDraggable=!0,this.elementClass===s.OBJECT_CLASS_POINT&&(this.type=s.OBJECT_TYPE_POINT,this.elType="point"),this.XEval=function(){return this.coords.usrCoords[1]},this.YEval=function(){return this.coords.usrCoords[2]},this.ZEval=function(){return this.coords.usrCoords[0]},this.Xjc=null,this.Yjc=null}for(e in this.board.objects)this.board.objects.hasOwnProperty(e)&&(t=this.board.objects[e]).descendants&&(delete t.descendants[this.id],delete t.childElements[this.id],this.hasLabel&&(delete t.descendants[this.label.id],delete t.childElements[this.label.id]));this.ancestors={},this.slideObject=null,this.slideObjects=[],this.elementClass===s.OBJECT_CLASS_POINT?(this.type=s.OBJECT_TYPE_POINT,this.elType="point"):this.elementClass===s.OBJECT_CLASS_TEXT?(this.type=this._org_type,this.elType="text"):this.elementClass===s.OBJECT_CLASS_OTHER&&(this.type=this._org_type,this.elType="image")},addConstraint:function(e){var t,r,i=[],n=["X","Y"],o=function(e){return function(){return e}},l=function(e){return function(){return e.Value()}};for(this.elementClass===s.OBJECT_CLASS_POINT&&(this.type=s.OBJECT_TYPE_CAS),this.isDraggable=!1,t=0;t<e.length;t++)r=e[t],a.isString(r)?(i[t]=this.board.jc.snippet(r,!0,null,!0),2===e.length&&(this[n[t]+"jc"]=e[t])):a.isFunction(r)?i[t]=r:a.isNumber(r)?i[t]=o(r):a.isObject(r)&&a.isFunction(r.Value)&&(i[t]=l(r)),i[t].origin=r;return 1===e.length?this.updateConstraint=function(){var e=i[0]();return a.isArray(e)?this.coords.setCoordinates(s.COORDS_BY_USER,e):this.coords=e,this}:2===e.length?(this.XEval=i[0],this.YEval=i[1],this.setParents([i[0].origin,i[1].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(s.COORDS_BY_USER,[this.XEval(),this.YEval()]),this}):(this.ZEval=i[0],this.XEval=i[1],this.YEval=i[2],this.setParents([i[0].origin,i[1].origin,i[2].origin]),this.updateConstraint=function(){return this.coords.setCoordinates(s.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()]),this}),this.isConstrained=!0,this.prepareUpdate().update(),this.board.isSuspendedUpdate||(this.updateVisibility().updateRenderer(),this.hasLabel&&this.label.fullUpdate()),this},addAnchor:function(e,t){this.relativeCoords=t?new o(s.COORDS_BY_SCREEN,e.slice(0,2),this.board):new o(s.COORDS_BY_USER,e,this.board),this.element.addChild(this),t&&this.addParents(this.element),this.XEval=function(){var e,t,r;return a.evaluate(this.visProp.islabel)?(r=a.evaluate(this.visProp.offset),e=parseFloat(r[0]),t=this.element.getLabelAnchor(),new o(s.COORDS_BY_SCREEN,[e+this.relativeCoords.scrCoords[1]+t.scrCoords[1],0],this.board).usrCoords[1]):(t=this.element.getTextAnchor(),this.relativeCoords.usrCoords[1]+t.usrCoords[1])},this.YEval=function(){var e,t,r;return a.evaluate(this.visProp.islabel)?(r=a.evaluate(this.visProp.offset),e=-parseFloat(r[1]),t=this.element.getLabelAnchor(),new o(s.COORDS_BY_SCREEN,[0,e+this.relativeCoords.scrCoords[2]+t.scrCoords[2]],this.board).usrCoords[2]):(t=this.element.getTextAnchor(),this.relativeCoords.usrCoords[2]+t.usrCoords[2])},this.ZEval=a.createFunction(1,this.board,""),this.updateConstraint=function(){this.coords.setCoordinates(s.COORDS_BY_USER,[this.ZEval(),this.XEval(),this.YEval()])},this.isConstrained=!0,this.updateConstraint()},updateTransform:function(e){var t;if(0===this.transformations.length)return this;for(t=0;t<this.transformations.length;t++)this.transformations[t].update();return this},addTransform:function(e,t){var r,i=a.isArray(t)?t:[t],n=i.length;for(0===this.transformations.length&&(this.baseElement=e),r=0;r<n;r++)this.transformations.push(i[r]);return this},startAnimation:function(e,t,r){var i=this;return r=r||250,this.type!==s.OBJECT_TYPE_GLIDER||a.exists(this.intervalCode)||(this.intervalCode=window.setInterval((function(){i._anim(e,t)}),r),a.exists(this.intervalCount)||(this.intervalCount=0)),this},stopAnimation:function(){return a.exists(this.intervalCode)&&(window.clearInterval(this.intervalCode),delete this.intervalCode),this},moveAlong:function(e,t,r){r=r||{};var n,o,l,c,u,h=[],d=[],p=t/this.board.attr.animationdelay,f=function(t,r){return function(){return e[t][r]}};if(a.isArray(e)){for(l=e.length,n=0;n<l;n++)a.isPoint(e[n])?d[n]=e[n]:d[n]={elementClass:s.OBJECT_CLASS_POINT,X:f(n,0),Y:f(n,1)};if(0===(t=t||0))return this.setPosition(s.COORDS_BY_USER,[d[d.length-1].X(),d[d.length-1].Y()]),this.board.update(this);if(!a.exists(r.interpolate)||r.interpolate)for(o=i.Neville(d),n=0;n<p;n++)h[n]=[],h[n][0]=o[0]((p-n)/p*o[3]()),h[n][1]=o[1]((p-n)/p*o[3]());else{for(l=e.length-1,n=0;n<p;++n)u=n/p*l-(c=Math.floor(n/p*l)),h[n]=[],h[n][0]=(1-u)*d[c].X()+u*d[c+1].X(),h[n][1]=(1-u)*d[c].Y()+u*d[c+1].Y();h.push([d[l].X(),d[l].Y()]),h.reverse()}this.animationPath=h}else a.isFunction(e)&&(this.animationPath=e,this.animationStart=(new Date).getTime());return this.animationCallback=r.callback,this.board.addAnimation(this),this},moveTo:function(e,r,i){i=i||{},e=new o(s.COORDS_BY_USER,e,this.board);var n,l=this.board.attr.animationdelay,c=Math.ceil(r/l),u=[],h=this.coords.usrCoords[1],d=this.coords.usrCoords[2],p=e.usrCoords[1]-h,f=e.usrCoords[2]-d,v=function(e){return i.effect&&"<>"===i.effect?Math.pow(Math.sin(e/c*Math.PI/2),2):e/c};if(!a.exists(r)||0===r||Math.abs(e.usrCoords[0]-this.coords.usrCoords[0])>t.eps)return this.setPosition(s.COORDS_BY_USER,e.usrCoords),this.board.update(this);if(!a.exists(i.callback)&&Math.abs(p)<t.eps&&Math.abs(f)<t.eps)return this;for(n=c;n>=0;n--)u[c-n]=[e.usrCoords[0],h+p*v(n),d+f*v(n)];return this.animationPath=u,this.animationCallback=i.callback,this.board.addAnimation(this),this},visit:function(e,t,r){e=new o(s.COORDS_BY_USER,e,this.board);var i,n,l,c=this.board.attr.animationdelay,u=[],h=this.coords.usrCoords[1],d=this.coords.usrCoords[2],p=e.usrCoords[1]-h,f=e.usrCoords[2]-d,v=function(e){var t=e<l/2?2*e/l:2*(l-e)/l;return r.effect&&"<>"===r.effect?Math.pow(Math.sin(t*Math.PI/2),2):t};for(a.isNumber(r)?r={repeat:r}:(r=r||{},a.exists(r.repeat)||(r.repeat=1)),l=Math.ceil(t/(c*r.repeat)),n=0;n<r.repeat;n++)for(i=l;i>=0;i--)u[n*(l+1)+l-i]=[e.usrCoords[0],h+p*v(i),d+f*v(i)];return this.animationPath=u,this.animationCallback=r.callback,this.board.addAnimation(this),this},_anim:function(e,t){var i,n,o,a,l,c,u,h,d;return this.intervalCount+=1,this.intervalCount>t&&(this.intervalCount=0),this.slideObject.elementClass===s.OBJECT_CLASS_LINE?(u=this.slideObject.point1.coords.scrCoords,h=this.slideObject.point2.coords.scrCoords,i=Math.round((h[1]-u[1])*this.intervalCount/t),n=Math.round((h[2]-u[2])*this.intervalCount/t),e>0?a=this.slideObject.point1:(a=this.slideObject.point2,i*=-1,n*=-1),this.coords.setCoordinates(s.COORDS_BY_SCREEN,[a.coords.scrCoords[1]+i,a.coords.scrCoords[2]+n])):this.slideObject.elementClass===s.OBJECT_CLASS_CURVE?(l=e>0?Math.round(this.intervalCount/t*this.board.canvasWidth):Math.round((t-this.intervalCount)/t*this.board.canvasWidth),this.coords.setCoordinates(s.COORDS_BY_SCREEN,[l,0]),d=r.projectPointToCurve(this,this.slideObject,this.board),this.coords=d[0],this.position=d[1]):this.slideObject.elementClass===s.OBJECT_CLASS_CIRCLE&&(o=2*Math.PI,o*=e<0?this.intervalCount/t:t-this.intervalCount,c=this.slideObject.Radius(),this.coords.setCoordinates(s.COORDS_BY_USER,[this.slideObject.center.coords.usrCoords[1]+c*Math.cos(o),this.slideObject.center.coords.usrCoords[2]+c*Math.sin(o)])),this.board.update(this),this},getTextAnchor:function(){return this.coords},getLabelAnchor:function(){return this.coords},getParents:function(){var e=[this.Z(),this.X(),this.Y()];return 0!==this.parents.length&&(e=this.parents),this.type===s.OBJECT_TYPE_GLIDER&&(e=[this.X(),this.Y(),this.slideObject.id]),e}}),e.CoordsElement.create=function(e,t,r,i,n,o){var s,l,c=!1;for(l=0;l<r.length;l++)(a.isFunction(r[l])||a.isString(r[l]))&&(c=!0);if(c)(s=new e(t,[0,0],i,n,o)).addConstraint(r);else if(a.isNumber(r[0])&&a.isNumber(r[1]))s=new e(t,r,i,n,o),a.exists(i.slideobject)?s.makeGlider(i.slideobject):s.baseElement=s,s.isDraggable=!0;else{if(!a.isObject(r[0])||!a.isTransformationOrArray(r[1]))return!1;(s=new e(t,[0,0],i,n,o)).addTransform(r[0],r[1]),s.isDraggable=!1}return s.handleSnapToGrid(),s.handleSnapToPoints(),s.handleAttractors(),s.addParents(r),s},e.CoordsElement})),define("base/text",["jxg","base/constants","base/element","parser/geonext","utils/env","utils/type","math/math","base/coordselement"],(function(e,t,r,i,n,o,s,a){"use strict";var l=function(){this._val=parseFloat(this.rendNodeRange.value),this.rendNodeOut.value=this.rendNodeRange.value,this.board.update()};return e.Text=function(e,r,i,n){this.constructor(e,i,t.OBJECT_TYPE_TEXT,t.OBJECT_CLASS_TEXT),this.element=this.board.select(i.anchor),this.coordsConstructor(r,o.evaluate(this.visProp.islabel)),this.content="",this.plaintext="",this.plaintextOld=null,this.orgText="",this.needsSizeUpdate=!1,this.hiddenByParent=!1,this.size=[1,1],this.id=this.board.setId(this,"T"),this.board.renderer.drawText(this),this.board.finalizeAdding(this),this.setText(n),o.isString(this.content)&&this.notifyParents(this.content),this.elType="text",this.methodMap=o.deepCopy(this.methodMap,{setText:"setTextJessieCode",move:"setCoords"})},e.Text.prototype=new r,o.copyPrototypeMethods(e.Text,a,"coordsConstructor"),e.extend(e.Text.prototype,{hasPoint:function(e,t){var r,i,n,a,l,c,u,h;return o.isObject(o.evaluate(this.visProp.precision))?(u=this.board._inputDevice,h=o.evaluate(this.visProp.precision[u])):h=this.board.options.precision.hasPoint,this.transformations.length>0&&(e=(r=s.matVecMult(s.inverse(this.board.renderer.joinTransforms(this,this.transformations)),[1,e,t]))[1],t=r[2]),i=(r="right"===(l=this.getAnchorX())?this.coords.scrCoords[1]-this.size[0]:"middle"===l?this.coords.scrCoords[1]-.5*this.size[0]:this.coords.scrCoords[1])+this.size[0],n=(a="top"===(c=this.getAnchorY())?this.coords.scrCoords[2]+this.size[1]:"middle"===c?this.coords.scrCoords[2]+.5*this.size[1]:this.coords.scrCoords[2])-this.size[1],"all"===o.evaluate(this.visProp.dragarea)?e>=r-h&&e<i+h&&t>=n-h&&t<=a+h:t>=n-h&&t<=a+h&&(e>=r-h&&e<=r+2*h||e>=i-2*h&&e<=i+h)},_createFctUpdateText:function(e){var t,r,i=o.evaluate(this.visProp.parse),n=o.evaluate(this.visProp.usemathjax),s=o.evaluate(this.visProp.usekatex);this.orgText=e,o.isFunction(e)?this.updateText=function(){r=e().toString(),this.plaintext=!i||n||s?r:this.replaceSub(this.replaceSup(this.convertGeonextAndSketchometry2CSS(r)))}:o.isString(e)&&!i?this.updateText=function(){this.plaintext=e}:(o.isNumber(e)?this.content=o.toFixed(e,o.evaluate(this.visProp.digits)):o.evaluate(this.visProp.useasciimathml)?this.content="'`"+e+"`'":this.content=n||s?"'"+e+"'":this.generateTerm(e,!0,!0),t=this.board.jc.snippet(this.content,!0,"",!1),this.updateText=function(){this.plaintext=t()})},_setText:function(e){return this._createFctUpdateText(e),this.updateText(),this.fullUpdate(),this.board.infobox&&this.id===this.board.infobox.id||this.updateSize(),this},setTextJessieCode:function(e){var t;return this.visProp.castext=e,t=o.isFunction(e)?function(){return o.sanitizeHTML(e())}:o.isNumber(e)?e:o.sanitizeHTML(e),this._setText(t)},setText:function(e){return this._setText(e)},updateSize:function(){var e,t,r,i=o.evaluate(this.visProp.display);return n.isBrowser&&"no"!==this.board.renderer.type?(r=this.rendNode,"html"===i||"vml"===this.board.renderer.type?o.exists(r.offsetWidth)?(t=this,window.setTimeout((function(){t.size=[r.offsetWidth,r.offsetHeight],t.needsUpdate=!0,t.updateRenderer()}),0)):this.size=this.crudeSizeEstimate():"internal"===i&&("svg"===this.board.renderer.type?(t=this,window.setTimeout((function(){try{e=r.getBBox(),t.size=[e.width,e.height],t.needsUpdate=!0,t.updateRenderer()}catch(e){}}),0)):"canvas"===this.board.renderer.type&&(this.size=this.crudeSizeEstimate())),this):this},crudeSizeEstimate:function(){var e=parseFloat(o.evaluate(this.visProp.fontsize));return[e*this.plaintext.length*.45,.9*e]},utf8_decode:function(e){return e.replace(/&#x(\w+);/g,(function(e,t){return String.fromCharCode(parseInt(t,16))}))},replaceSub:function(e){if(!e.indexOf)return e;for(var t,r=e.indexOf("_{");r>=0;)(t=(e=e.substr(0,r)+e.substr(r).replace(/_\{/,"<sub>")).substr(r).indexOf("}"))>=0&&(e=e.substr(0,t)+e.substr(t).replace(/\}/,"</sub>")),r=e.indexOf("_{");for(r=e.indexOf("_");r>=0;)r=(e=e.substr(0,r)+e.substr(r).replace(/_(.?)/,"<sub>$1</sub>")).indexOf("_");return e},replaceSup:function(e){if(!e.indexOf)return e;for(var t,r=e.indexOf("^{");r>=0;)(t=(e=e.substr(0,r)+e.substr(r).replace(/\^\{/,"<sup>")).substr(r).indexOf("}"))>=0&&(e=e.substr(0,t)+e.substr(t).replace(/\}/,"</sup>")),r=e.indexOf("^{");for(r=e.indexOf("^");r>=0;)r=(e=e.substr(0,r)+e.substr(r).replace(/\^(.?)/,"<sup>$1</sup>")).indexOf("^");return e},getSize:function(){return this.size},setCoords:function(e,r){var i,n,s;return o.isArray(e)&&e.length>1&&(r=e[1],e=e[0]),o.evaluate(this.visProp.islabel)&&o.exists(this.element)?(n=(e-(i=this.element.getLabelAnchor()).usrCoords[1])*this.board.unitX,s=-(r-i.usrCoords[2])*this.board.unitY,this.relativeCoords.setCoordinates(t.COORDS_BY_SCREEN,[n,s])):this.coords.setCoordinates(t.COORDS_BY_USER,[e,r]),this.fullUpdate(),this},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateText(),"internal"===o.evaluate(this.visProp.display)&&o.isString(this.plaintext)&&(this.plaintext=this.utf8_decode(this.plaintext)),this.checkForSizeUpdate(),this.needsSizeUpdate&&this.updateSize(),this):this},checkForSizeUpdate:function(){this.board.infobox&&this.id===this.board.infobox.id?this.needsSizeUpdate=!1:(this.needsSizeUpdate=this.plaintextOld!==this.plaintext,this.needsSizeUpdate&&(this.plaintextOld=this.plaintext))},updateRenderer:function(){return o.evaluate(this.visProp.autoposition)&&this.setAutoPosition().updateConstraint(),this.updateRendererGeneric("updateText")},expandShortMath:function(e){return e.replace(/([)0-9.])\s*([(a-zA-Z_])/g,"$1*$2")},generateTerm:function(e,t,r){var n,s,a,l,c='""';if(a=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e||"").replace(/\r/g,"")).replace(/\n/g,"")).replace(/"/g,"'")).replace(/'/g,"\\'")).replace(/&amp;arc;/g,"&ang;")).replace(/<arc\s*\/>/g,"&ang;")).replace(/&lt;arc\s*\/&gt;/g,"&ang;")).replace(/&lt;sqrt\s*\/&gt;/g,"&radic;")).replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>")).indexOf("<value>"),l=e.indexOf("</value>"),a>=0)for(;a>=0;)c+=' + "'+this.replaceSub(this.replaceSup(e.slice(0,a)))+'"',s=(s=e.slice(a+7,l)).replace(/\s+/g,""),!0===t&&(s=this.expandShortMath(s)),(n=(n=(n=r?s:i.geonext2JS(s,this.board)).replace(/\\"/g,"'")).replace(/\\'/g,"'")).indexOf("toFixed")<0&&o.isNumber(o.bind(this.board.jc.snippet(n,!0,"",!1),this)())?c+="+("+n+").toFixed("+o.evaluate(this.visProp.digits)+")":c+="+("+n+")",a=(e=e.slice(l+8)).indexOf("<value>"),l=e.indexOf("</value>");return c+=' + "'+this.replaceSub(this.replaceSup(e))+'"',(c=(c=this.convertGeonextAndSketchometry2CSS(c)).replace(/&amp;/g,"&")).replace(/"/g,"'")},convertGeonext2CSS:function(e){return o.isString(e)&&(e=(e=(e=(e=e.replace(/(<|&lt;)overline(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/overline(>|&gt;)/g,"</span>")).replace(/(<|&lt;)arrow(>|&gt;)/g,"<span style=text-decoration:overline;>")).replace(/(<|&lt;)\/arrow(>|&gt;)/g,"</span>")),e},convertSketchometry2CSS:function(e){return o.isString(e)&&(e=(e=(e=(e=e.replace(/(<|&lt;)sketchofont(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchofont(>|&gt;)/g,"</span>")).replace(/(<|&lt;)sketchometry-light(>|&gt;)/g,"<span style=font-family:sketchometry-light;font-weight:500;>")).replace(/(<|&lt;)\/sketchometry-light(>|&gt;)/g,"</span>")),e},convertGeonextAndSketchometry2CSS:function(e){return e=this.convertGeonext2CSS(e),this.convertSketchometry2CSS(e)},notifyParents:function(e){var t,r=null;e=(e=e.replace(/&lt;value&gt;/g,"<value>")).replace(/&lt;\/value&gt;/g,"</value>");do{null!==(r=(t=/<value>([\w\s*/^\-+()[\],<>=!]+)<\/value>/).exec(e))&&(i.findDependencies(this,r[1],this.board),e=(e=e.substr(r.index)).replace(t,""))}while(null!==r);return this},getParents:function(){var e;return e=void 0!==this.relativeCoords?[this.relativeCoords.usrCoords[1],this.relativeCoords.usrCoords[2],this.orgText]:[this.Z(),this.X(),this.Y(),this.orgText],0!==this.parents.length&&(e=this.parents),e},bounds:function(){var e=this.coords.usrCoords;return o.evaluate(this.visProp.islabel)||0===this.board.unitY||0===this.board.unitX?[0,0,0,0]:[e[1],e[2]+this.size[1]/this.board.unitY,e[1]+this.size[0]/this.board.unitX,e[2]]},getAnchorX:function(){var e=o.evaluate(this.visProp.anchorx);if("auto"===e)switch(this.visProp.position){case"top":case"bot":return"middle";case"rt":case"lrt":case"urt":return"left";default:return"right"}return e},getAnchorY:function(){var e=o.evaluate(this.visProp.anchory);if("auto"===e)switch(this.visProp.position){case"top":case"ulft":case"urt":return"bottom";case"bot":case"lrt":case"llft":return"top";default:return"middle"}return e},getNumberofConflicts:function(e,t,r,i){var n,o,s,a,l=0;for(a=this.board.options.precision.hasPoint,this.board.options.precision.hasPoint=.25*(r+i),n=0,s=this.board.objectsList.length;n<s;n++)(o=this.board.objectsList[n]).visPropCalc.visible&&"axis"!==o.elType&&"ticks"!==o.elType&&o!==this.board.infobox&&o!==this&&o.hasPoint(e,t)&&l++;return this.board.options.precision.hasPoint=a,l},setAutoPosition:function(){var e,t,r,i,n,s,a,l,c,u,h,d,p,f,v,m,g=this.size[0],b=this.size[1],y={conflicts:1/0,angle:0,r:0},_=2*Math.PI/12;if(this===this.board.infobox||!this.visPropCalc.visible||!o.evaluate(this.visProp.islabel)||!this.element)return this;if(u=o.evaluate(this.visProp.offset),r=(n=this.element.getLabelAnchor()).scrCoords[1],i=n.scrCoords[2],p=u[0],f=u[1],0===(c=this.getNumberofConflicts(r+p,i-f,g,b)))return this;for(l=.2*(h=12),s=Math.atan2(f,p),y.conflicts=c,y.angle=s,y.r=h;y.conflicts>0&&h<28;){for(d=1,a=s+_;d<12&&y.conflicts>0&&(e=r+h*(v=Math.cos(a)),t=i-h*(m=Math.sin(a)),(c=this.getNumberofConflicts(e,t,g,b))<y.conflicts&&(y.conflicts=c,y.angle=a,y.r=h),0!==y.conflicts);d++)a+=_;h+=l}return h=y.r,v=Math.cos(y.angle),m=Math.sin(y.angle),this.visProp.offset=[h*v,h*m],this.visProp.anchorx=v<-.2?"right":v>.2?"left":"middle",this}}),e.createText=function(t,r,i){var n,s=o.copyAttributes(i,t.options,"text"),l=r.slice(0,-1),c=r[r.length-1];if(s.anchor=s.parent||s.anchor,!(n=a.create(e.Text,t,l,s,c)))throw new Error("JSXGraph: Can't create text with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==s.rotate&&"internal"===s.display&&n.addRotation(s.rotate),n},e.registerElement("text",e.createText),e.createHTMLSlider=function(t,r,i){var s,a,c=o.copyAttributes(i,t.options,"htmlslider");if(2!==r.length||2!==r[0].length||3!==r[1].length)throw new Error("JSXGraph: Can't create htmlslider with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parents are: [[x,y], [min, start, max]]");c.anchor=c.parent||c.anchor,c.fixed=c.fixed||!0,a=[r[0][0],r[0][1],'<form style="display:inline"><input type="range" /><span></span><input type="text" /></form>'],(s=e.createText(t,a,c)).type=o.OBJECT_TYPE_HTMLSLIDER,s.rendNodeForm=s.rendNode.childNodes[0],s.rendNodeRange=s.rendNodeForm.childNodes[0],s.rendNodeRange.min=r[1][0],s.rendNodeRange.max=r[1][2],s.rendNodeRange.step=c.step,s.rendNodeRange.value=r[1][1],s.rendNodeLabel=s.rendNodeForm.childNodes[1],s.rendNodeLabel.id=s.rendNode.id+"_label",c.withlabel&&(s.rendNodeLabel.innerHTML=s.name+"="),s.rendNodeOut=s.rendNodeForm.childNodes[2],s.rendNodeOut.value=r[1][1];try{s.rendNodeForm.id=s.rendNode.id+"_form",s.rendNodeRange.id=s.rendNode.id+"_range",s.rendNodeOut.id=s.rendNode.id+"_out"}catch(t){e.debug(t)}return s.rendNodeRange.style.width=c.widthrange+"px",s.rendNodeRange.style.verticalAlign="middle",s.rendNodeOut.style.width=c.widthout+"px",s._val=r[1][1],e.supportsVML()?n.addEvent(s.rendNodeForm,"change",l,s):n.addEvent(s.rendNodeForm,"input",l,s),s.Value=function(){return this._val},s},e.registerElement("htmlslider",e.createHTMLSlider),{Text:e.Text,createText:e.createText,createHTMLSlider:e.createHTMLSlider}})),define("utils/uuid",["jxg"],(function(e){"use strict";var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return e.Util=e.Util||{},e.Util.genUUID=function(e){var r,i,n=[],o=0;for(""!==(e=e||"")&&"-"!==e.substr(e.length-1)&&(e+="-"),i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(o<=2&&(o=33554432+16777216*Math.random()|0),r=15&o,o>>=4,n[i]=t[19===i?3&r|8:r]);return e+n.join("")},e.Util})),define("parser/jessiecode",["jxg","base/constants","base/text","math/math","math/ia","math/geometry","math/statistics","utils/type","utils/uuid","utils/env"],(function(JXG,Const,Text,Mat,Interval,Geometry,Statistics,Type,UUID,Env){Object.create||(Object.create=function(e,t){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object: "+e);if(null===e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function r(){}return r.prototype=e,new r});var priv={modules:{math:Mat,"math/geometry":Geometry,"math/statistics":Statistics,"math/numerics":Mat.Numerics}},r,_ccache;JXG.JessieCode=function(e,t){this.scope={id:0,hasChild:!0,args:[],locals:{},context:null,previous:null},this.scopes=[],this.scopes.push(this.scope),this.dpstack=[[]],this.pscope=0,this.propstack=[{}],this.propscope=0,this.lhs=[],this.isLHS=!1,this.warnLog="jcwarn",this.$log=[],this.builtIn=this.defineBuiltIn(),this.operands=this.getPossibleOperands(),this.board=null,this.lineToElement={},this.parCurLine=1,this.parCurColumn=0,this.line=1,this.col=1,JXG.CA&&(this.CA=new JXG.CA(this.node,this.createNode,this)),this.code="","string"==typeof e&&this.parse(e,t)},JXG.extend(JXG.JessieCode.prototype,{node:function(e,t,r){return{type:e,value:t,children:r}},createNode:function(e,t,r){var i,n=this.node(e,t,[]);for(i=2;i<arguments.length;i++)n.children.push(arguments[i]);return"node_const"==n.type&&Type.isNumber(n.value)&&(n.isMath=!0),n.line=this.parCurLine,n.col=this.parCurColumn,n},pushScope:function(e){var t={args:e,locals:{},context:null,previous:this.scope};return this.scope.hasChild=!0,this.scope=t,t.id=this.scopes.push(t)-1,t},popScope:function(){var e=this.scope.previous;return this.scope=null!==e?e:this.scope,this.scope},getElementById:function(e){return this.board.objects[e]},log:function(){this.$log.push(arguments),"object"==typeof console&&console.log&&console.log.apply(console,arguments)},creator:(_ccache={},(r=function(e){var t,r;return"function"==typeof _ccache[this.board.id+e]?t=_ccache[this.board.id+e]:(r=this,(t=function(t,i){var n;return void 0===(n=Type.exists(i)?i:{}).name&&void 0===n.id&&(n.name=0!==r.lhs[r.scope.id]?r.lhs[r.scope.id]:""),r.board.create(e,t,n)}).creator=!0,_ccache[this.board.id+e]=t),t}).clearCache=function(){_ccache={}},r),letvar:function(e,t){this.builtIn[e]&&this._warn('"'+e+'" is a predefined value.'),this.scope.locals[e]=t},isLocalVariable:function(e){for(var t=this.scope;null!==t;){if(Type.exists(t.locals[e]))return t;t=t.previous}return null},isParameter:function(e){for(var t=this.scope;null!==t;){if(Type.indexOf(t.args,e)>-1)return t;t=t.previous}return null},isCreator:function(e){return!!JXG.elements[e]},isMathMethod:function(e){return"E"!==e&&!!Math[e]},isBuiltIn:function(e){return!!this.builtIn[e]},getvar:function(e,t,r){var i;if(t=Type.def(t,!1),null!==(i=this.isLocalVariable(e)))return i.locals[e];if("$board"===e||"EULER"===e||"PI"===e)return this.builtIn[e];if(r){if(this.isBuiltIn(e))return this.builtIn[e];if(this.isMathMethod(e))return Math[e];if(this.isCreator(e))return this.creator(e)}return t||(i=this.board.select(e))===e?void 0:i},resolve:function(e){for(var t=this.scope;null!==t;){if(Type.exists(t.locals[e]))return t.locals[e];t=t.previous}},getvarJS:function(e,t,r){var i,n="";return t=Type.def(t,!1),r=Type.def(r,!1),null!==this.isParameter(e)?e:null===this.isLocalVariable(e)||r?this.isCreator(e)?"(function () { var a = Array.prototype.slice.call(arguments, 0), props = "+(r?"a.pop()":"{}")+"; return $jc$.board.create.apply($jc$.board, ['"+e+"'].concat([a, props])); })":(r&&this._error("Syntax error (attribute values are allowed with element creators only)"),this.isBuiltIn(e)?(n=this.builtIn[e].src||this.builtIn[e],Type.isNumber(n)||n.match(/board\.select/)?n:(e=n.split(".").pop(),Type.exists(this.board.mathLib)&&null!==(i=new RegExp("^Math."+e)).exec(n)?n.replace(i,"$jc$.board.mathLib."+e):Type.exists(this.board.mathLibJXG)&&null!==(i=new RegExp("^JXG.Math.")).exec(n)?n.replace(i,"$jc$.board.mathLibJXG."):n)):this.isMathMethod(e)?"$jc$.board.mathLib."+e:t?"":(Type.isId(this.board,e)?(n="$jc$.board.objects['"+e+"']","slider"===this.board.objects[e].elType&&(n+=".Value()")):Type.isName(this.board,e)?(n="$jc$.board.elementsByName['"+e+"']","slider"===this.board.elementsByName[e].elType&&(n+=".Value()")):Type.isGroup(this.board,e)&&(n="$jc$.board.groups['"+e+"']"),n)):"$jc$.resolve('"+e+"')"},makeMap:function(e){return e.isMap=!0,e},functionCodeJS:function(e){var t=e.children[0].join(", "),r="",i="";return"op_map"===e.value&&(r="{ return  ",i=" }"),"function ("+t+") {\nvar $oldscope$ = $jc$.scope;\n$jc$.scope = $jc$.scopes["+this.scope.id+"];\nvar r = (function () "+r+this.compile(e.children[1],!0)+i+")();\n$jc$.scope = $oldscope$;\nreturn r;\n}"},defineFunction:function defineFunction(node){var fun,i,that=this,list=node.children[0],scope=this.pushScope(list),_that;if(this.board.options.jc.compile){for(this.isLHS=!1,i=0;i<list.length;i++)scope.locals[list[i]]=list[i];this.replaceNames(node.children[1]),fun=function($jc$){var fun,str="var f = "+$jc$.functionCodeJS(node)+"; f;";try{for(fun=eval(str),scope.argtypes=[],i=0;i<list.length;i++)scope.argtypes.push(that.resolveType(list[i],node));return fun}catch(t){return $jc$._warn("error compiling function\n\n"+str+"\n\n"+t.toString()),function(){}}}(this),this.popScope()}else fun=function(e,t,r){return function(){var i,n;for(n=t.scope,t.scope=t.scopes[r],i=0;i<e.length;i++)t.scope.locals[e[i]]=arguments[i];return i=t.execute(node.children[1]),t.scope=n,i}}(list,this,scope.id);return fun.node=node,fun.scope=scope,fun.toJS=fun.toString,fun.toString=(_that=this,function(){return _that.compile(_that.replaceIDs(Type.deepCopy(node)))}),fun.deps={},this.collectDependencies(node.children[1],fun.deps),fun},mergeAttributes:function(e){var t,r={};for(t=0;t<arguments.length;t++)r=Type.deepCopy(r,arguments[t],!0);return r},setProp:function(e,t,r){var i,n,o={};e.elementClass!==Const.OBJECT_CLASS_POINT||"X"!==t&&"Y"!==t?e.elementClass!==Const.OBJECT_CLASS_TEXT||"X"!==t&&"Y"!==t?e.type&&e.elementClass&&e.visProp?Type.exists(e[e.methodMap[t]])&&"function"!=typeof e[e.methodMap[t]]?e[e.methodMap[t]]=r:(o[t]=r,e.setAttribute(o)):e[t]=r:("number"==typeof r?e[t]=function(){return r}:"function"==typeof r?(e.isDraggable=!1,e[t]=r):"string"==typeof r&&(e.isDraggable=!1,e[t]=Type.createFunction(r,this.board,null,!0),e[t+"jc"]=r),e[t].origin=r,this.board.update()):(t=t.toLowerCase(),e.isDraggable&&"number"==typeof r?(i="x"===t?r:e.X(),n="y"===t?r:e.Y(),e.setPosition(Const.COORDS_BY_USER,[i,n])):!e.isDraggable||"function"!=typeof r&&"string"!=typeof r?e.isDraggable||(i="x"===t?r:e.XEval.origin,n="y"===t?r:e.YEval.origin,e.addConstraint([i,n])):(i="x"===t?r:e.coords.usrCoords[1],n="y"===t?r:e.coords.usrCoords[2],e.addConstraint([i,n])),this.board.update())},_genericParse:function(e,t,r,i){var n,o,s,a,l=e.replace(/\r\n/g,"\n").split("\n"),c=[];i||(this.code+=e+"\n"),Text&&(o=Text.Text.prototype.setText,Text.Text.prototype.setText=Text.Text.prototype.setTextJessieCode);try{for(Type.exists(r)||(r=!1),n=0;n<l.length;n++)r&&(l[n]=JXG.GeonextParser.geonext2JS(l[n],this.board)),c.push(l[n]);switch(e=c.join("\n"),s=parser.parse(e),this.CA&&(s=this.CA.expandDerivatives(s,null,s),s=this.CA.removeTrivialNodes(s)),t){case"parse":a=this.execute(s);break;case"manipulate":a=this.compile(s);break;case"getAst":a=s;break;default:a=!1}}catch(e){throw e}finally{Text&&(Text.Text.prototype.setText=o)}return a},parse:function(e,t,r){return this._genericParse(e,"parse",t,r)},manipulate:function(e,t,r){return this._genericParse(e,"manipulate",t,r)},getAST:function(e,t,r){return this._genericParse(e,"getAst",t,r)},snippet:function(e,t,r,i){var n;return t=Type.def(t,!0),r=Type.def(r,""),i=Type.def(i,!1),n=(t?" function ("+r+") { return ":"")+e+(t?"; }":"")+";",this.parse(n,i,!0)},replaceIDs:function(e){var t,r;if(e.replaced&&(r=this.board.objects[e.children[1][0].value],Type.exists(r)&&""!==r.name&&(e.type="node_var",e.value=r.name,e.children.length=0,delete e.replaced)),Type.isArray(e))for(t=0;t<e.length;t++)e[t]=this.replaceIDs(e[t]);if(e.children)for(t=e.children.length;t>0;t--)Type.exists(e.children[t-1])&&(e.children[t-1]=this.replaceIDs(e.children[t-1]));return e},replaceNames:function(e){var t,r;if(r=e.value,"node_op"===e.type&&"op_lhs"===r&&1===e.children.length?this.isLHS=!0:"node_var"===e.type&&(this.isLHS?this.letvar(r,!0):!Type.exists(this.getvar(r,!0))&&Type.exists(this.board.elementsByName[r])&&(e=this.createReplacementNode(e))),Type.isArray(e))for(t=0;t<e.length;t++)e[t]=this.replaceNames(e[t]);if(e.children)for(t=e.children.length;t>0;t--)Type.exists(e.children[t-1])&&(e.children[t-1]=this.replaceNames(e.children[t-1]));return"node_op"===e.type&&"op_lhs"===e.value&&1===e.children.length&&(this.isLHS=!1),e},createReplacementNode:function(e){var t=e.value,r=this.board.elementsByName[t];return(e=this.createNode("node_op","op_execfun",this.createNode("node_var","$"),[this.createNode("node_str",r.id)])).replaced=!0,e},collectDependencies:function(e,t){var r,i,n,o;if(Type.isArray(e))for(o=e.length,r=0;r<o;r++)this.collectDependencies(e[r],t);else if(i=e.value,"node_var"===e.type&&(n=this.getvar(i))&&n.visProp&&n.type&&n.elementClass&&n.id&&(t[n.id]=n),"node_op"===e.type&&"op_execfun"===e.value&&e.children.length>1&&"$"===e.children[0].value&&e.children[1].length>0&&(t[n=e.children[1][0].value]=this.board.objects[n]),e.children)for(r=e.children.length;r>0;r--)Type.exists(e.children[r-1])&&this.collectDependencies(e.children[r-1],t)},resolveProperty:function(e,t,r){return r=Type.def(r,!1),e&&e.methodMap&&(Type.exists(e.subs)&&Type.exists(e.subs[t])?e=e.subs:Type.exists(e.methodMap[t])?t=e.methodMap[t]:(e=e.visProp,t=t.toLowerCase())),Type.isFunction(e)&&this._error("Accessing function properties is not allowed."),Type.exists(e)||this._error(e+" is not an object"),Type.exists(e[t])||this._error("unknown property "+t),r&&"function"==typeof e[t]?function(){return e[t].apply(e,arguments)}:e[t]},resolveType:function(e,t){var r,i;if(Type.isArray(t))for(r=0;r<t.length;r++)if("any"!==(i=this.resolveType(e,t[r])))return i;if("node_op"===t.type&&"op_execfun"===t.value&&"node_var"===t.children[0].type&&t.children[0].value===e)return"function";if("node_op"===t.type){for(r=0;r<t.children.length;r++)if("node_var"===t.children[0].type&&t.children[0].value===e&&("op_add"===t.value||"op_sub"===t.value||"op_mul"===t.value||"op_div"===t.value||"op_mod"===t.value||"op_exp"===t.value||"op_neg"===t.value))return"any";for(r=0;r<t.children.length;r++)if("any"!==(i=this.resolveType(e,t.children[r])))return i}return"any"},getLHS:function(e){var t;if("node_var"===e.type)t={o:this.scope.locals,what:e.value};else if("node_op"===e.type&&"op_property"===e.value)t={o:this.execute(e.children[0]),what:e.children[1]};else{if("node_op"!==e.type||"op_extvalue"!==e.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");t={o:this.execute(e.children[0]),what:this.execute(e.children[1])}}return t},getLHSCompiler:function(e,t){var r;if("node_var"===e.type)r=e.value;else if("node_op"===e.type&&"op_property"===e.value)r=[this.compile(e.children[0],t),"'"+e.children[1]+"'"];else{if("node_op"!==e.type||"op_extvalue"!==e.value)throw new Error("Syntax error: Invalid left-hand side of assignment.");r=[this.compile(e.children[0],t),"node_const"===e.children[1].type?e.children[1].value:this.compile(e.children[1],t)]}return r},execute:function(e){var t,r,i,n,o,s,a,l,c,u,h=[];if(t=0,!e)return t;switch(this.line=e.line,this.col=e.col,e.type){case"node_op":switch(e.value){case"op_none":e.children[0]&&this.execute(e.children[0]),e.children[1]&&(t=this.execute(e.children[1]));break;case"op_assign":r=this.getLHS(e.children[0]),this.lhs[this.scope.id]=r.what,r.o.type&&r.o.elementClass&&r.o.methodMap&&"label"===r.what&&this._error("Left-hand side of assignment is read-only."),t=this.execute(e.children[1]),r.o!==this.scope.locals||Type.isArray(r.o)&&"number"==typeof r.what?this.setProp(r.o,r.what,t):this.letvar(r.what,t),this.lhs[this.scope.id]=0;break;case"op_if":this.execute(e.children[0])&&(t=this.execute(e.children[1]));break;case"op_conditional":case"op_if_else":t=this.execute(e.children[0])?this.execute(e.children[1]):this.execute(e.children[2]);break;case"op_while":for(;this.execute(e.children[0]);)this.execute(e.children[1]);break;case"op_do":do{this.execute(e.children[0])}while(this.execute(e.children[1]));break;case"op_for":for(this.execute(e.children[0]);this.execute(e.children[1]);this.execute(e.children[2]))this.execute(e.children[3]);break;case"op_proplst":e.children[0]&&this.execute(e.children[0]),e.children[1]&&this.execute(e.children[1]);break;case"op_emptyobject":t={};break;case"op_proplst_val":this.propstack.push({}),this.propscope++,this.execute(e.children[0]),t=this.propstack[this.propscope],this.propstack.pop(),this.propscope--;break;case"op_prop":this.propstack[this.propscope][e.children[0]]=this.execute(e.children[1]);break;case"op_array":for(t=[],o=e.children[0].length,i=0;i<o;i++)t.push(this.execute(e.children[0][i]));break;case"op_extvalue":t=this.execute(e.children[0]),t="number"==typeof(i=this.execute(e.children[1]))&&Math.abs(Math.round(i)-i)<Mat.eps?t[i]:void 0;break;case"op_return":if(0!==this.scope)return this.execute(e.children[0]);this._error("Unexpected return.");break;case"op_map":e.children[1].isMath||"node_var"===e.children[1].type||this._error("execute: In a map only function calls and mathematical expressions are allowed."),(l=this.defineFunction(e)).isMap=!0,t=l;break;case"op_function":(l=this.defineFunction(e)).isMap=!1,t=l;break;case"op_execfun":if(this.dpstack.push([]),this.pscope++,s=e.children[1],Type.exists(e.children[2]))if(e.children[3])for(a=e.children[2],c={},i=0;i<a.length;i++)c=Type.deepCopy(c,this.execute(a[i]),!0);else c=this.execute(e.children[2]);for(e.children[0]._isFunctionName=!0,l=this.execute(e.children[0]),delete e.children[0]._isFunctionName,u=l&&l.sc?l.sc:this,!l.creator&&Type.exists(e.children[2])&&this._error("Unexpected value. Only element creators are allowed to have a value after the function call."),i=0;i<s.length;i++)Type.exists(l.scope)&&Type.exists(l.scope.argtypes)&&"function"===l.scope.argtypes[i]?(s[i]._isFunctionName=!0,h[i]=this.execute(s[i]),delete s[i]._isFunctionName):h[i]=this.execute(s[i]),this.dpstack[this.pscope].push({line:e.children[1][i].line,col:e.children[1][i].ecol});if("function"!=typeof l||l.creator)if("function"==typeof l&&l.creator){n=this.line;try{for((t=l(h,c)).jcLineStart=n,t.jcLineEnd=e.eline,i=n;i<=e.line;i++)this.lineToElement[i]=t;t.debugParents=this.dpstack[this.pscope]}catch(e){this._error(e.toString())}}else this._error("Function '"+l+"' is undefined.");else t=l.apply(u,h);this.dpstack.pop(),this.pscope--;break;case"op_property":n=this.execute(e.children[0]),r=e.children[1],t=this.resolveProperty(n,r,!1),Type.exists(t)&&(t.sc=n);break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),this.use(e.children[0].toString());break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),r=this.getvar(e.children[0]),t=this.del(r);break;case"op_eq":t=this.execute(e.children[0])==this.execute(e.children[1]);break;case"op_neq":t=this.execute(e.children[0])!=this.execute(e.children[1]);break;case"op_approx":t=Math.abs(this.execute(e.children[0])-this.execute(e.children[1]))<Mat.eps;break;case"op_gt":t=this.execute(e.children[0])>this.execute(e.children[1]);break;case"op_lt":t=this.execute(e.children[0])<this.execute(e.children[1]);break;case"op_geq":t=this.execute(e.children[0])>=this.execute(e.children[1]);break;case"op_leq":t=this.execute(e.children[0])<=this.execute(e.children[1]);break;case"op_or":t=this.execute(e.children[0])||this.execute(e.children[1]);break;case"op_and":t=this.execute(e.children[0])&&this.execute(e.children[1]);break;case"op_not":t=!this.execute(e.children[0]);break;case"op_add":t=this.add(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_sub":t=this.sub(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_div":t=this.div(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_mod":t=this.mod(this.execute(e.children[0]),this.execute(e.children[1]),!0);break;case"op_mul":t=this.mul(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_exp":t=this.pow(this.execute(e.children[0]),this.execute(e.children[1]));break;case"op_neg":t=this.neg(this.execute(e.children[0]))}break;case"node_var":t=this.getvar(e.value,!1,e._isFunctionName);break;case"node_const":t=null===e.value?null:Number(e.value);break;case"node_const_bool":t=e.value;break;case"node_str":t=e.value.replace(/\\(.)/,"$1")}return t},compile:function(e,t){var r,i,n,o="";if(Type.exists(t)||(t=!1),!e)return o;switch(e.type){case"node_op":switch(e.value){case"op_none":e.children[0]&&(o=this.compile(e.children[0],t)),e.children[1]&&(o+=this.compile(e.children[1],t));break;case"op_assign":t?(r=this.getLHSCompiler(e.children[0],t),Type.isArray(r)?o="$jc$.setProp("+r[0]+", "+r[1]+", "+this.compile(e.children[1],t)+");\n":(this.isLocalVariable(r)!==this.scope&&(this.scope.locals[r]=!0),o="$jc$.scopes["+this.scope.id+"].locals['"+r+"'] = "+this.compile(e.children[1],t)+";\n")):o=(r=this.compile(e.children[0]))+" = "+this.compile(e.children[1],t)+";\n";break;case"op_if":o=" if ("+this.compile(e.children[0],t)+") "+this.compile(e.children[1],t);break;case"op_if_else":o=" if ("+this.compile(e.children[0],t)+")"+this.compile(e.children[1],t),o+=" else "+this.compile(e.children[2],t);break;case"op_conditional":o="(("+this.compile(e.children[0],t)+")?("+this.compile(e.children[1],t),o+="):("+this.compile(e.children[2],t)+"))";break;case"op_while":o=" while ("+this.compile(e.children[0],t)+") {\n"+this.compile(e.children[1],t)+"}\n";break;case"op_do":o=" do {\n"+this.compile(e.children[0],t)+"} while ("+this.compile(e.children[1],t)+");\n";break;case"op_for":o=" for ("+this.compile(e.children[0],t)+this.compile(e.children[1],t)+"; "+this.compile(e.children[2],t).slice(0,-2)+") {\n"+this.compile(e.children[3],t)+"\n}\n";break;case"op_proplst":e.children[0]&&(o=this.compile(e.children[0],t)+", "),o+=this.compile(e.children[1],t);break;case"op_prop":o=e.children[0]+": "+this.compile(e.children[1],t);break;case"op_emptyobject":o=t?"{}":"<< >>";break;case"op_proplst_val":o=this.compile(e.children[0],t);break;case"op_array":for(n=[],i=0;i<e.children[0].length;i++)n.push(this.compile(e.children[0][i],t));o="["+n.join(", ")+"]";break;case"op_extvalue":o=this.compile(e.children[0],t)+"["+this.compile(e.children[1],t)+"]";break;case"op_return":o=" return "+this.compile(e.children[0],t)+";\n";break;case"op_map":e.children[1].isMath||"node_var"===e.children[1].type||this._error("compile: In a map only function calls and mathematical expressions are allowed."),n=e.children[0],o=t?" $jc$.makeMap(function ("+n.join(", ")+") { return "+this.compile(e.children[1],t)+"; })":"map ("+n.join(", ")+") -> "+this.compile(e.children[1],t);break;case"op_function":n=e.children[0],this.pushScope(n),o=t?this.functionCodeJS(e):" function ("+n.join(", ")+") "+this.compile(e.children[1],t),this.popScope();break;case"op_execfunmath":console.log("op_execfunmath: TODO"),o="-1";break;case"op_execfun":if(e.children[2]){for(n=[],i=0;i<e.children[2].length;i++)n.push(this.compile(e.children[2][i],t));t&&(r="$jc$.mergeAttributes("+n.join(", ")+")")}for(e.children[0].withProps=!!e.children[2],n=[],i=0;i<e.children[1].length;i++)n.push(this.compile(e.children[1][i],t));o=this.compile(e.children[0],t)+"("+n.join(", ")+(e.children[2]&&t?", "+r:"")+")"+(e.children[2]&&!t?r:""),t&&(o+="\n"),t&&"$"===e.children[0].value&&(o="$jc$.board.objects["+this.compile(e.children[1][0],t)+"]");break;case"op_property":o=t&&"X"!==e.children[1]&&"Y"!==e.children[1]?"$jc$.resolveProperty("+this.compile(e.children[0],t)+", '"+e.children[1]+"', true)":this.compile(e.children[0],t)+"."+e.children[1];break;case"op_use":this._warn("Use of the 'use' operator is deprecated."),o=t?"$jc$.use('":"use('",o+=e.children[0].toString()+"');";break;case"op_delete":this._warn("Use of the 'delete' operator is deprecated. Please use the remove() function."),o=t?"$jc$.del(":"remove(",o+=this.compile(e.children[0],t)+")";break;case"op_eq":o="("+this.compile(e.children[0],t)+" === "+this.compile(e.children[1],t)+")";break;case"op_neq":o="("+this.compile(e.children[0],t)+" !== "+this.compile(e.children[1],t)+")";break;case"op_approx":o="("+this.compile(e.children[0],t)+" ~= "+this.compile(e.children[1],t)+")";break;case"op_gt":o=t?"$jc$.gt("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" > "+this.compile(e.children[1],t)+")";break;case"op_lt":o=t?"$jc$.lt("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" < "+this.compile(e.children[1],t)+")";break;case"op_geq":o=t?"$jc$.geq("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" >= "+this.compile(e.children[1],t)+")";break;case"op_leq":o=t?"$jc$.leq("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" <= "+this.compile(e.children[1],t)+")";break;case"op_or":o="("+this.compile(e.children[0],t)+" || "+this.compile(e.children[1],t)+")";break;case"op_and":o="("+this.compile(e.children[0],t)+" && "+this.compile(e.children[1],t)+")";break;case"op_not":o="!("+this.compile(e.children[0],t)+")";break;case"op_add":o=t?"$jc$.add("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" + "+this.compile(e.children[1],t)+")";break;case"op_sub":o=t?"$jc$.sub("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" - "+this.compile(e.children[1],t)+")";break;case"op_div":o=t?"$jc$.div("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" / "+this.compile(e.children[1],t)+")";break;case"op_mod":o=t?"$jc$.mod("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+", true)":"("+this.compile(e.children[0],t)+" % "+this.compile(e.children[1],t)+")";break;case"op_mul":o=t?"$jc$.mul("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+" * "+this.compile(e.children[1],t)+")";break;case"op_exp":o=t?"$jc$.pow("+this.compile(e.children[0],t)+", "+this.compile(e.children[1],t)+")":"("+this.compile(e.children[0],t)+"^"+this.compile(e.children[1],t)+")";break;case"op_neg":o=t?"$jc$.neg("+this.compile(e.children[0],t)+")":"(-"+this.compile(e.children[0],t)+")"}break;case"node_var":o=t?this.getvarJS(e.value,!1,e.withProps):e.value;break;case"node_const":case"node_const_bool":o=e.value;break;case"node_str":o="'"+e.value+"'"}return e.needsBrackets&&(o="{\n"+o+"\n}\n"),o},getName:function(e,t){var r="";return Type.exists(e)&&Type.exists(e.getName)?(r=e.getName(),Type.exists(r)&&""!==r||!t||(r=e.id)):t&&(r=e.id),r},X:function(e){return e.X()},Y:function(e){return e.Y()},V:function(e){return e.Value()},L:function(e){return e.L()},area:function(e){return Type.exists(e)&&Type.exists(e.Area)||this._error("Error: Can't calculate area."),e.Area()},dist:function(e,t){return Type.exists(e)&&Type.exists(e.Dist)||this._error("Error: Can't calculate distance."),e.Dist(t)},radius:function(e){return Type.exists(e)&&Type.exists(e.Radius)||this._error("Error: Can't calculate radius."),e.Radius()},add:function(e,t){var r,i,n;if(e=Type.evalSlider(e),t=Type.evalSlider(t),Interval.isInterval(e)||Interval.isInterval(t))n=Interval.add(e,t);else if(Type.isArray(e)&&Type.isArray(t))for(i=Math.min(e.length,t.length),n=[],r=0;r<i;r++)n[r]=e[r]+t[r];else Type.isNumber(e)&&Type.isNumber(t)?n=e+t:Type.isString(e)||Type.isString(t)?n=e.toString()+t.toString():this._error("Operation + not defined on operands "+typeof e+" and "+typeof t);return n},sub:function(e,t){var r,i,n;if(e=Type.evalSlider(e),t=Type.evalSlider(t),Interval.isInterval(e)||Interval.isInterval(t))n=Interval.sub(e,t);else if(Type.isArray(e)&&Type.isArray(t))for(i=Math.min(e.length,t.length),n=[],r=0;r<i;r++)n[r]=e[r]-t[r];else Type.isNumber(e)&&Type.isNumber(t)?n=e-t:this._error("Operation - not defined on operands "+typeof e+" and "+typeof t);return n},neg:function(e){var t,r,i;if(e=Type.evalSlider(e),Interval.isInterval(e))i=Interval.negative(e);else if(Type.isArray(e))for(r=e.length,i=[],t=0;t<r;t++)i[t]=-e[t];else Type.isNumber(e)?i=-e:this._error("Unary operation - not defined on operand "+typeof e);return i},mul:function(e,t){var r,i,n;if(e=Type.evalSlider(e),t=Type.evalSlider(t),Type.isArray(e)&&Type.isNumber(t)&&(r=e,t=e=t),Interval.isInterval(e)||Interval.isInterval(t))n=Interval.mul(e,t);else if(Type.isArray(e)&&Type.isArray(t))i=Math.min(e.length,t.length),n=Mat.innerProduct(e,t,i);else if(Type.isNumber(e)&&Type.isArray(t))for(i=t.length,n=[],r=0;r<i;r++)n[r]=e*t[r];else Type.isNumber(e)&&Type.isNumber(t)?n=e*t:this._error("Operation * not defined on operands "+typeof e+" and "+typeof t);return n},div:function(e,t){var r,i,n;if(e=Type.evalSlider(e),t=Type.evalSlider(t),Interval.isInterval(e)||Interval.isInterval(t))n=Interval.div(e,t);else if(Type.isArray(e)&&Type.isNumber(t))for(i=e.length,n=[],r=0;r<i;r++)n[r]=e[r]/t;else Type.isNumber(e)&&Type.isNumber(t)?n=e/t:this._error("Operation * not defined on operands "+typeof e+" and "+typeof t);return n},mod:function(e,t){var r,i,n;if(e=Type.evalSlider(e),t=Type.evalSlider(t),Interval.isInterval(e)||Interval.isInterval(t))return Interval.fmod(e,t);if(Type.isArray(e)&&Type.isNumber(t))for(i=e.length,n=[],r=0;r<i;r++)n[r]=Mat.mod(e[r],t,!0);else Type.isNumber(e)&&Type.isNumber(t)?n=Mat.mod(e,t,!0):this._error("Operation * not defined on operands "+typeof e+" and "+typeof t);return n},pow:function(e,t){return e=Type.evalSlider(e),t=Type.evalSlider(t),Interval.isInterval(e)||Interval.isInterval(t)?Interval.pow(e,t):Mat.pow(e,t)},lt:function(e,t){return Interval.isInterval(e)||Interval.isInterval(t)?Interval.lt(e,t):e<t},leq:function(e,t){return Interval.isInterval(e)||Interval.isInterval(t)?Interval.leq(e,t):e<=t},gt:function(e,t){return Interval.isInterval(e)||Interval.isInterval(t)?Interval.gt(e,t):e>t},geq:function(e,t){return Interval.isInterval(e)||Interval.isInterval(t)?Intervalt.geq(e,t):e>=t},randint:function(e,t,r){return Type.exists(r)||(r=1),Math.round(Math.random()*(t-e)/r)*r+e},DDD:function(e){console.log("Dummy derivative function. This should never appear!")},ifthen:function(e,t,r){return e?t:r},del:function(e){"object"==typeof e&&JXG.exists(e.type)&&JXG.exists(e.elementClass)&&this.board.removeObject(e)},use:function(e){var t,r,i=!1;if("string"==typeof e){for(t in JXG.boards)if(JXG.boards.hasOwnProperty(t)&&JXG.boards[t].container===e){r=JXG.boards[t],i=!0;break}}else r=e,i=!0;i?(this.board=r,this.builtIn.$board=r,this.builtIn.$board.src="$jc$.board"):this._error("Board '"+e+"' not found!")},findSymbol:function(e,t){var r,i;for(i=-1===(t=Type.def(t,-1))?this.scope:this.scopes[t];null!==i;){for(r in i.locals)if(i.locals.hasOwnProperty(r)&&i.locals[r]===e)return[r,i];i=i.previous}return[]},importModule:function(e){return priv.modules[e.toLowerCase()]},defineBuiltIn:function(){var e=this,t={PI:Math.PI,EULER:Math.E,D:e.DDD,X:e.X,Y:e.Y,V:e.V,L:e.L,acosh:Mat.acosh,acot:Mat.acot,asinh:Mat.asinh,binomial:Mat.binomial,cbrt:Mat.cbrt,cosh:Mat.cosh,cot:Mat.cot,deg:Geometry.trueAngle,A:e.area,area:e.area,dist:e.dist,R:e.radius,radius:e.radius,erf:Mat.erf,erfc:Mat.erfc,erfi:Mat.erfi,factorial:Mat.factorial,gcd:Mat.gcd,lb:Mat.log2,lcm:Mat.lcm,ld:Mat.log2,lg:Mat.log10,ln:Math.log,log:Mat.log,log10:Mat.log10,log2:Mat.log2,ndtr:Mat.ndtr,ndtri:Mat.ndtri,nthroot:Mat.nthroot,pow:Mat.pow,rad:Geometry.rad,ratpow:Mat.ratpow,trunc:Type.trunc,sinh:Mat.sinh,randint:e.randint,IfThen:e.ifthen,import:e.importModule,use:e.use,remove:e.del,$:e.getElementById,getName:e.getName,name:e.getName,$board:e.board,$log:e.log};return t.rad.sc=Geometry,t.deg.sc=Geometry,t.factorial.sc=Mat,t.X.src="$jc$.X",t.Y.src="$jc$.Y",t.V.src="$jc$.V",t.L.src="$jc$.L",t.acosh.src="JXG.Math.acosh",t.acot.src="JXG.Math.acot",t.asinh.src="JXG.Math.asinh",t.binomial.src="JXG.Math.binomial",t.cbrt.src="JXG.Math.cbrt",t.cot.src="JXG.Math.cot",t.cosh.src="JXG.Math.cosh",t.deg.src="JXG.Math.Geometry.trueAngle",t.erf.src="JXG.Math.erf",t.erfc.src="JXG.Math.erfc",t.erfi.src="JXG.Math.erfi",t.A.src="$jc$.area",t.area.src="$jc$.area",t.dist.src="$jc$.dist",t.R.src="$jc$.radius",t.radius.src="$jc$.radius",t.factorial.src="JXG.Math.factorial",t.gcd.src="JXG.Math.gcd",t.lb.src="JXG.Math.log2",t.lcm.src="JXG.Math.lcm",t.ld.src="JXG.Math.log2",t.lg.src="JXG.Math.log10",t.ln.src="Math.log",t.log.src="JXG.Math.log",t.log10.src="JXG.Math.log10",t.log2.src="JXG.Math.log2",t.ndtr.src="JXG.Math.ndtr",t.ndtri.src="JXG.Math.ndtri",t.nthroot.src="JXG.Math.nthroot",t.pow.src="JXG.Math.pow",t.rad.src="JXG.Math.Geometry.rad",t.ratpow.src="JXG.Math.ratpow",t.trunc.src="JXG.trunc",t.sinh.src="JXG.Math.sinh",t.randint.src="$jc$.randint",t.import.src="$jc$.importModule",t.use.src="$jc$.use",t.remove.src="$jc$.del",t.IfThen.src="$jc$.ifthen",t.$.src="(function (n) { return $jc$.board.select(n); })",t.getName.src="$jc$.getName",t.name.src="$jc$.getName",t.$board&&(t.$board.src="$jc$.board"),t.$log.src="$jc$.log",t},getPossibleOperands:function(){var e,t,r,i,n,o,s,a,l,c,u,h,d,p,f=["E"],v=this.defineBuiltIn(),m=Math;for(d=function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())},p=function(e,t){var r=null;if("jc"===t)r=v[e];else{if("Math"!==t)return;r=m[e]}if(!f.includes(e))return JXG.isFunction(r)?{name:e,type:"function",numParams:r.length,origin:t}:JXG.isNumber(r)?{name:e,type:"constant",value:r,origin:t}:void(void 0!==r&&console.error("undefined type",r))},e=Object.getOwnPropertyNames(v).sort(d),t=Object.getOwnPropertyNames(m).sort(d),r=[],i=0,n=0;i<e.length||n<t.length;)e[i]===t[n]?(o=p(t[n],"Math"),JXG.exists(o)&&r.push(o),i++,n++):!JXG.exists(t[n])||e[i].toLowerCase().localeCompare(t[n].toLowerCase())<0?(o=p(e[i],"jc"),JXG.exists(o)&&r.push(o),i++):(o=p(t[n],"Math"),JXG.exists(o)&&r.push(o),n++);for(l=[],c=[],u=[],h={},s=r.length,i=0;i<s;i++){switch((a=r[i]).type){case"function":l.push(a.name),"jc"===a.origin&&c.push(a.name);break;case"constant":u.push(a.name)}h[a.name]=a}return{all:h,list:r,functions:l,functions_jessiecode:c,constants:u}},_debug:function(e){"object"==typeof console?console.log(e):Env.isBrowser&&document&&null!==document.getElementById("debug")&&(document.getElementById("debug").innerHTML+=e+"<br />")},_error:function(e){var t=new Error("Error("+this.line+"): "+e);throw t.line=this.line,t},_warn:function(e){"object"==typeof console?console.log("Warning("+this.line+"): "+e):Env.isBrowser&&document&&null!==document.getElementById(this.warnLog)&&(document.getElementById(this.warnLog).innerHTML+="Warning("+this.line+"): "+e+"<br />")},_log:function(e){"object"!=typeof window&&"object"==typeof self&&self.postMessage?self.postMessage({type:"log",msg:"Log: "+e.toString()}):console.log("Log: ",arguments)}});var parser=function(){var e=function(e,t,r,i){for(r=r||{},i=e.length;i--;r[e[i]]=t);return r},t=[2,14],r=[1,13],i=[1,37],n=[1,14],o=[1,15],s=[1,21],a=[1,16],l=[1,17],c=[1,33],u=[1,18],h=[1,19],d=[1,12],p=[1,59],f=[1,60],v=[1,58],m=[1,46],g=[1,48],b=[1,49],y=[1,50],_=[1,51],C=[1,52],x=[1,53],w=[1,54],P=[1,45],S=[1,38],E=[1,39],O=[5,7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],T=[5,7,8,12,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],k=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],N=[2,48],M=[1,72],A=[10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,66,83,86],R=[1,78],L=[8,10,16,32,34,35,37,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],I=[1,82],D=[8,10,16,32,34,35,37,39,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],j=[1,83],B=[1,84],Y=[1,85],z=[8,10,16,32,34,35,37,39,41,42,43,50,51,53,54,55,57,64,65,66,83,86],F=[1,89],X=[1,90],Z=[1,91],U=[1,92],G=[1,97],J=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,53,54,55,57,64,65,66,83,86],H=[1,103],V=[1,104],q=[8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,57,64,65,66,83,86],W=[1,105],$=[1,106],K=[1,107],Q=[1,126],ee=[1,139],te=[83,86],re=[1,150],ie=[10,66,86],ne=[8,10,16,20,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,82,83,86],oe=[1,167],se=[10,86],ae={trace:function(){},yy:{},symbols_:{error:2,Program:3,StatementList:4,EOF:5,IfStatement:6,IF:7,"(":8,Expression:9,")":10,Statement:11,ELSE:12,LoopStatement:13,WHILE:14,FOR:15,";":16,DO:17,UnaryStatement:18,USE:19,IDENTIFIER:20,DELETE:21,ReturnStatement:22,RETURN:23,EmptyStatement:24,StatementBlock:25,"{":26,"}":27,ExpressionStatement:28,AssignmentExpression:29,ConditionalExpression:30,LeftHandSideExpression:31,"=":32,LogicalORExpression:33,"?":34,":":35,LogicalANDExpression:36,"||":37,EqualityExpression:38,"&&":39,RelationalExpression:40,"==":41,"!=":42,"~=":43,AdditiveExpression:44,"<":45,">":46,"<=":47,">=":48,MultiplicativeExpression:49,"+":50,"-":51,UnaryExpression:52,"*":53,"/":54,"%":55,ExponentExpression:56,"^":57,"!":58,MemberExpression:59,CallExpression:60,PrimaryExpression:61,FunctionExpression:62,MapExpression:63,".":64,"[":65,"]":66,BasicLiteral:67,ObjectLiteral:68,ArrayLiteral:69,NullLiteral:70,BooleanLiteral:71,StringLiteral:72,NumberLiteral:73,NULL:74,TRUE:75,FALSE:76,STRING:77,NUMBER:78,NAN:79,INFINITY:80,ElementList:81,"<<":82,">>":83,PropertyList:84,Property:85,",":86,PropertyName:87,Arguments:88,AttributeList:89,Attribute:90,FUNCTION:91,ParameterDefinitionList:92,MAP:93,"->":94,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"IF",8:"(",10:")",12:"ELSE",14:"WHILE",15:"FOR",16:";",17:"DO",19:"USE",20:"IDENTIFIER",21:"DELETE",23:"RETURN",26:"{",27:"}",32:"=",34:"?",35:":",37:"||",39:"&&",41:"==",42:"!=",43:"~=",45:"<",46:">",47:"<=",48:">=",50:"+",51:"-",53:"*",54:"/",55:"%",57:"^",58:"!",64:".",65:"[",66:"]",74:"NULL",75:"TRUE",76:"FALSE",77:"STRING",78:"NUMBER",79:"NAN",80:"INFINITY",82:"<<",83:">>",86:",",91:"FUNCTION",93:"MAP",94:"->"},productions_:[0,[3,2],[6,5],[6,7],[13,5],[13,9],[13,7],[18,2],[18,2],[22,2],[22,3],[24,1],[25,3],[4,2],[4,0],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[11,1],[28,2],[9,1],[29,1],[29,3],[30,1],[30,5],[33,1],[33,3],[36,1],[36,3],[38,1],[38,3],[38,3],[38,3],[40,1],[40,3],[40,3],[40,3],[40,3],[44,1],[44,3],[44,3],[49,1],[49,3],[49,3],[49,3],[56,1],[56,3],[52,1],[52,2],[52,2],[52,2],[31,1],[31,1],[59,1],[59,1],[59,1],[59,3],[59,4],[61,1],[61,1],[61,1],[61,1],[61,3],[67,1],[67,1],[67,1],[67,1],[70,1],[71,1],[71,1],[72,1],[73,1],[73,1],[73,1],[69,2],[69,3],[68,2],[68,3],[84,1],[84,3],[85,3],[87,1],[87,1],[87,1],[60,2],[60,3],[60,2],[60,4],[60,3],[88,2],[88,3],[89,1],[89,3],[90,1],[90,1],[81,1],[81,3],[62,4],[62,5],[63,5],[63,6],[92,1],[92,3]],performAction:function(e,t,r,i,n,o,s){var a=o.length-1;switch(n){case 1:return o[a-1];case 2:this.$=le.createNode(ce(s[a-4]),"node_op","op_if",o[a-2],o[a]);break;case 3:this.$=le.createNode(ce(s[a-6]),"node_op","op_if_else",o[a-4],o[a-2],o[a]);break;case 4:this.$=le.createNode(ce(s[a-4]),"node_op","op_while",o[a-2],o[a]);break;case 5:this.$=le.createNode(ce(s[a-8]),"node_op","op_for",o[a-6],o[a-4],o[a-2],o[a]);break;case 6:this.$=le.createNode(ce(s[a-6]),"node_op","op_do",o[a-5],o[a-2]);break;case 7:this.$=le.createNode(ce(s[a-1]),"node_op","op_use",o[a]);break;case 8:this.$=le.createNode(ce(s[a-1]),"node_op","op_delete",o[a]);break;case 9:this.$=le.createNode(ce(s[a-1]),"node_op","op_return",void 0);break;case 10:this.$=le.createNode(ce(s[a-2]),"node_op","op_return",o[a-1]);break;case 11:case 14:this.$=le.createNode(ce(s[a]),"node_op","op_none");break;case 12:this.$=o[a-1],this.$.needsBrackets=!0;break;case 13:this.$=le.createNode(ce(s[a-1]),"node_op","op_none",o[a-1],o[a]);break;case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 23:case 24:case 26:case 28:case 30:case 32:case 36:case 41:case 44:case 48:case 50:case 52:case 54:case 55:case 56:case 58:case 62:case 81:case 84:case 85:case 86:this.$=o[a];break;case 22:case 65:case 93:this.$=o[a-1];break;case 25:this.$=le.createNode(ce(s[a-2]),"node_op","op_assign",o[a-2],o[a]),this.$.isMath=!1;break;case 27:this.$=le.createNode(ce(s[a-4]),"node_op","op_conditional",o[a-4],o[a-2],o[a]),this.$.isMath=!1;break;case 29:this.$=le.createNode(ce(s[a-2]),"node_op","op_or",o[a-2],o[a]),this.$.isMath=!1;break;case 31:this.$=le.createNode(ce(s[a-2]),"node_op","op_and",o[a-2],o[a]),this.$.isMath=!1;break;case 33:this.$=le.createNode(ce(s[a-2]),"node_op","op_eq",o[a-2],o[a]),this.$.isMath=!1;break;case 34:this.$=le.createNode(ce(s[a-2]),"node_op","op_neq",o[a-2],o[a]),this.$.isMath=!1;break;case 35:this.$=le.createNode(ce(s[a-2]),"node_op","op_approx",o[a-2],o[a]),this.$.isMath=!1;break;case 37:this.$=le.createNode(ce(s[a-2]),"node_op","op_lt",o[a-2],o[a]),this.$.isMath=!1;break;case 38:this.$=le.createNode(ce(s[a-2]),"node_op","op_gt",o[a-2],o[a]),this.$.isMath=!1;break;case 39:this.$=le.createNode(ce(s[a-2]),"node_op","op_leq",o[a-2],o[a]),this.$.isMath=!1;break;case 40:this.$=le.createNode(ce(s[a-2]),"node_op","op_geq",o[a-2],o[a]),this.$.isMath=!1;break;case 42:this.$=le.createNode(ce(s[a-2]),"node_op","op_add",o[a-2],o[a]),this.$.isMath=!0;break;case 43:this.$=le.createNode(ce(s[a-2]),"node_op","op_sub",o[a-2],o[a]),this.$.isMath=!0;break;case 45:this.$=le.createNode(ce(s[a-2]),"node_op","op_mul",o[a-2],o[a]),this.$.isMath=!0;break;case 46:this.$=le.createNode(ce(s[a-2]),"node_op","op_div",o[a-2],o[a]),this.$.isMath=!0;break;case 47:this.$=le.createNode(ce(s[a-2]),"node_op","op_mod",o[a-2],o[a]),this.$.isMath=!0;break;case 49:this.$=le.createNode(ce(s[a-2]),"node_op","op_exp",o[a-2],o[a]),this.$.isMath=!0;break;case 51:this.$=le.createNode(ce(s[a-1]),"node_op","op_not",o[a]),this.$.isMath=!1;break;case 53:this.$=le.createNode(ce(s[a-1]),"node_op","op_neg",o[a]),this.$.isMath=!0;break;case 57:case 63:case 64:case 66:case 67:case 68:case 97:this.$=o[a],this.$.isMath=!1;break;case 59:case 91:this.$=le.createNode(ce(s[a-2]),"node_op","op_property",o[a-2],o[a]),this.$.isMath=!0;break;case 60:case 90:this.$=le.createNode(ce(s[a-3]),"node_op","op_extvalue",o[a-3],o[a-1]),this.$.isMath=!0;break;case 61:this.$=le.createNode(ce(s[a]),"node_var",o[a]);break;case 69:this.$=o[a],this.$.isMath=!0;break;case 70:this.$=le.createNode(ce(s[a]),"node_const",null);break;case 71:this.$=le.createNode(ce(s[a]),"node_const_bool",!0);break;case 72:this.$=le.createNode(ce(s[a]),"node_const_bool",!1);break;case 73:this.$=le.createNode(ce(s[a]),"node_str",o[a].substring(1,o[a].length-1));break;case 74:this.$=le.createNode(ce(s[a]),"node_const",parseFloat(o[a]));break;case 75:this.$=le.createNode(ce(s[a]),"node_const",NaN);break;case 76:this.$=le.createNode(ce(s[a]),"node_const",1/0);break;case 77:this.$=le.createNode(ce(s[a-1]),"node_op","op_array",[]);break;case 78:this.$=le.createNode(ce(s[a-2]),"node_op","op_array",o[a-1]);break;case 79:this.$=le.createNode(ce(s[a-1]),"node_op","op_emptyobject",{}),this.$.needsBrackets=!0;break;case 80:this.$=le.createNode(ce(s[a-2]),"node_op","op_proplst_val",o[a-1]),this.$.needsBrackets=!0;break;case 82:this.$=le.createNode(ce(s[a-2]),"node_op","op_proplst",o[a-2],o[a]);break;case 83:this.$=le.createNode(ce(s[a-2]),"node_op","op_prop",o[a-2],o[a]);break;case 87:case 89:this.$=le.createNode(ce(s[a-1]),"node_op","op_execfun",o[a-1],o[a]),this.$.isMath=!0;break;case 88:this.$=le.createNode(ce(s[a-2]),"node_op","op_execfun",o[a-2],o[a-1],o[a],!0),this.$.isMath=!1;break;case 92:this.$=[];break;case 94:case 98:case 104:this.$=[o[a]];break;case 95:case 99:case 105:this.$=o[a-2].concat(o[a]);break;case 96:this.$=le.createNode(ce(s[a]),"node_var",o[a]),this.$.isMath=!0;break;case 100:this.$=le.createNode(ce(s[a-3]),"node_op","op_function",[],o[a]),this.$.isMath=!1;break;case 101:this.$=le.createNode(ce(s[a-4]),"node_op","op_function",o[a-2],o[a]),this.$.isMath=!1;break;case 102:this.$=le.createNode(ce(s[a-4]),"node_op","op_map",[],o[a]);break;case 103:this.$=le.createNode(ce(s[a-5]),"node_op","op_map",o[a-3],o[a])}},table:[e([5,7,8,14,15,16,17,19,20,21,23,26,50,51,58,65,74,75,76,77,78,79,80,82,91,93],t,{3:1,4:2}),{1:[3]},{5:[1,3],6:6,7:r,8:i,9:20,11:4,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{1:[2,1]},e(O,[2,13]),e(T,[2,15]),e(T,[2,16]),e(T,[2,17]),e(T,[2,18]),e(T,[2,19]),e(T,[2,20]),e(T,[2,21]),e([7,8,14,15,16,17,19,20,21,23,26,27,50,51,58,65,74,75,76,77,78,79,80,82,91,93],t,{4:61}),{8:[1,62]},{8:[1,63]},{8:[1,64]},{6:6,7:r,8:i,9:20,11:65,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{20:[1,66]},{20:[1,67]},{8:i,9:69,16:[1,68],20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{16:[1,70]},e(T,[2,11]),e(k,[2,23]),e(k,[2,24]),e([8,10,16,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],N,{32:[1,71],57:M}),e([8,10,16,32,35,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83,86],[2,26],{34:[1,73],37:[1,74]}),e(A,[2,54],{88:77,8:R,64:[1,75],65:[1,76]}),e(A,[2,55],{88:79,8:R,64:[1,81],65:[1,80]}),e(L,[2,28],{39:I}),e(k,[2,56]),e(k,[2,57]),e(k,[2,58]),e(D,[2,30],{41:j,42:B,43:Y}),e(k,[2,61]),e(k,[2,62]),e(k,[2,63]),e(k,[2,64]),{8:i,9:86,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:[1,87]},{8:[1,88]},e(z,[2,32],{45:F,46:X,47:Z,48:U}),e(k,[2,66]),e(k,[2,67]),e(k,[2,68]),e(k,[2,69]),{20:G,72:98,73:99,77:_,78:C,79:x,80:w,83:[1,93],84:94,85:95,87:96},{8:i,20:c,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,66:[1,100],67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,81:101,82:P,91:S,93:E},e(J,[2,36],{50:H,51:V}),e(k,[2,70]),e(k,[2,71]),e(k,[2,72]),e(k,[2,73]),e(k,[2,74]),e(k,[2,75]),e(k,[2,76]),e(q,[2,41],{53:W,54:$,55:K}),e(k,[2,44]),e(k,[2,50]),{8:i,20:c,31:109,50:p,51:f,52:108,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:110,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:111,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{6:6,7:r,8:i,9:20,11:4,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,27:[1,112],28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:113,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:114,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:115,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{14:[1,116]},e(T,[2,7]),e(T,[2,8]),e(T,[2,9]),{16:[1,117]},e(T,[2,22]),{8:i,20:c,29:118,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:119,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,29:120,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,36:121,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{20:[1,122]},{8:i,9:123,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(k,[2,87],{89:124,90:125,68:127,20:Q,82:P}),{8:i,10:[1,128],20:c,29:102,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,81:129,82:P,91:S,93:E},e(k,[2,89]),{8:i,9:130,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{20:[1,131]},{8:i,20:c,31:109,38:132,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,40:133,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,40:134,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,40:135,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{10:[1,136]},{10:[1,137],20:ee,92:138},{10:[1,140],20:ee,92:141},{8:i,20:c,31:109,44:142,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,44:143,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,44:144,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,44:145,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(k,[2,79]),{83:[1,146],86:[1,147]},e(te,[2,81]),{35:[1,148]},{35:[2,84]},{35:[2,85]},{35:[2,86]},e(k,[2,77]),{66:[1,149],86:re},e(ie,[2,98]),{8:i,20:c,31:109,49:151,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,49:152,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:153,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:154,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,31:109,50:p,51:f,52:155,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(k,[2,51]),e([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,64,65,66,83,86],N,{57:M}),e(k,[2,52]),e(k,[2,53]),e([5,7,8,10,12,14,15,16,17,19,20,21,23,26,27,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,58,64,65,66,74,75,76,77,78,79,80,82,83,86,91,93],[2,12]),{10:[1,156]},{10:[1,157]},{16:[1,158]},{8:[1,159]},e(T,[2,10]),e(k,[2,25]),e(k,[2,49]),{35:[1,160]},e(L,[2,29],{39:I}),e(k,[2,59]),{66:[1,161]},e([8,10,16,32,34,35,37,39,41,42,43,45,46,47,48,50,51,53,54,55,57,64,65,66,83],[2,88],{86:[1,162]}),e(k,[2,94]),e(k,[2,96]),e(k,[2,97]),e(ne,[2,92]),{10:[1,163],86:re},{66:[1,164]},e(k,[2,91]),e(D,[2,31],{41:j,42:B,43:Y}),e(z,[2,33],{45:F,46:X,47:Z,48:U}),e(z,[2,34],{45:F,46:X,47:Z,48:U}),e(z,[2,35],{45:F,46:X,47:Z,48:U}),e(k,[2,65]),{25:165,26:d},{10:[1,166],86:oe},e(se,[2,104]),{94:[1,168]},{10:[1,169],86:oe},e(J,[2,37],{50:H,51:V}),e(J,[2,38],{50:H,51:V}),e(J,[2,39],{50:H,51:V}),e(J,[2,40],{50:H,51:V}),e(k,[2,80]),{20:G,72:98,73:99,77:_,78:C,79:x,80:w,85:170,87:96},{8:i,20:c,29:171,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(k,[2,78]),{8:i,20:c,29:172,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(q,[2,42],{53:W,54:$,55:K}),e(q,[2,43],{53:W,54:$,55:K}),e(k,[2,45]),e(k,[2,46]),e(k,[2,47]),{6:6,7:r,8:i,9:20,11:173,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{6:6,7:r,8:i,9:20,11:174,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:175,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:176,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,20:c,29:177,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(k,[2,60]),{20:Q,68:127,82:P,90:178},e(ne,[2,93]),e(k,[2,90]),e(k,[2,100]),{25:179,26:d},{20:[1,180]},{8:i,9:181,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{94:[1,182]},e(te,[2,82]),e(te,[2,83]),e(ie,[2,99]),e(O,[2,2],{12:[1,183]}),e(T,[2,4]),{16:[1,184]},{10:[1,185]},e(k,[2,27]),e(k,[2,95]),e(k,[2,101]),e(se,[2,105]),e(k,[2,102]),{8:i,9:186,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{6:6,7:r,8:i,9:20,11:187,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{8:i,9:188,20:c,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},{16:[1,189]},e(k,[2,103]),e(T,[2,3]),{10:[1,190]},e(T,[2,6]),{6:6,7:r,8:i,9:20,11:191,13:7,14:n,15:o,16:s,17:a,18:8,19:l,20:c,21:u,22:9,23:h,24:11,25:5,26:d,28:10,29:22,30:23,31:24,33:25,36:28,38:32,40:40,44:47,49:55,50:p,51:f,52:56,56:57,58:v,59:26,60:27,61:29,62:30,63:31,65:m,67:34,68:35,69:36,70:41,71:42,72:43,73:44,74:g,75:b,76:y,77:_,78:C,79:x,80:w,82:P,91:S,93:E},e(T,[2,5])],defaultActions:{3:[2,1],97:[2,84],98:[2,85],99:[2,86]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],i=[null],n=[],o=this.table,s="",a=0,l=0,c=0,u=2,h=1,d=n.slice.call(arguments,1),p=Object.create(this.lexer),f={yy:{}};for(var v in this.yy)Object.prototype.hasOwnProperty.call(this.yy,v)&&(f.yy[v]=this.yy[v]);p.setInput(e,f.yy),f.yy.lexer=p,f.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var m=p.yylloc;n.push(m);var g=p.options&&p.options.ranges;"function"==typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,y,_,C,x,w,P,S,E,O=function(){var e;return"number"!=typeof(e=p.lex()||h)&&(e=t.symbols_[e]||e),e},T={};;){if(_=r[r.length-1],this.defaultActions[_]?C=this.defaultActions[_]:(null==b&&(b=O()),C=o[_]&&o[_][b]),void 0===C||!C.length||!C[0]){var k="";for(w in E=[],o[_])this.terminals_[w]&&w>u&&E.push("'"+this.terminals_[w]+"'");k=p.showPosition?"Parse error on line "+(a+1)+":\n"+p.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(a+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(k,{text:p.match,token:this.terminals_[b]||b,line:p.yylineno,loc:m,expected:E})}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+b);switch(C[0]){case 1:r.push(b),i.push(p.yytext),n.push(p.yylloc),r.push(C[1]),b=null,y?(b=y,y=null):(l=p.yyleng,s=p.yytext,a=p.yylineno,m=p.yylloc,c>0&&c--);break;case 2:if(P=this.productions_[C[1]][1],T.$=i[i.length-P],T._$={first_line:n[n.length-(P||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(P||1)].first_column,last_column:n[n.length-1].last_column},g&&(T._$.range=[n[n.length-(P||1)].range[0],n[n.length-1].range[1]]),void 0!==(x=this.performAction.apply(T,[s,l,a,f.yy,C[1],i,n].concat(d))))return x;P&&(r=r.slice(0,-1*P*2),i=i.slice(0,-1*P),n=n.slice(0,-1*P)),r.push(this.productions_[C[1]][0]),i.push(T.$),n.push(T._$),S=o[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},le={node:function(e,t,r){return{type:e,value:t,children:r}},createNode:function(e,t,r,i){var n,o=this.node(t,r,[]);for(n=3;n<arguments.length;n++)o.children.push(arguments[n]);return o.line=e[0],o.col=e[1],o.eline=e[2],o.ecol=e[3],o}},ce=function(e){return[e.first_line,e.first_column,e.last_line,e.last_column]},ue=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===i.length?this.yylloc.first_column:0)+i[i.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,i,n;if(this.options.backtrack_lexer&&(n={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(n.yylloc.range=this.yylloc.range.slice(0))),(i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var o in n)this[o]=n[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),o=0;o<n.length;o++)if((r=this._input.match(this.rules[n[o]]))&&(!t||r[0].length>t[0].length)){if(t=r,i=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,n[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,n[i]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,i){switch(r){case 0:case 5:case 6:break;case 1:case 2:return 78;case 3:case 4:return 77;case 7:return 7;case 8:return 12;case 9:return 14;case 10:return 17;case 11:return 15;case 12:return 91;case 13:return 93;case 14:return 19;case 15:return 23;case 16:return 21;case 17:return 75;case 18:return 76;case 19:return 74;case 20:return 80;case 21:case 22:return 94;case 23:return 82;case 24:return 83;case 25:return 26;case 26:return 27;case 27:return 16;case 28:return"#";case 29:return 34;case 30:return 35;case 31:return 79;case 32:return 64;case 33:return 65;case 34:return 66;case 35:return 8;case 36:return 10;case 37:return 58;case 38:return 57;case 39:return 53;case 40:return 54;case 41:return 55;case 42:return 50;case 43:return 51;case 44:return 47;case 45:return 45;case 46:return 48;case 47:return 46;case 48:return 41;case 49:return 43;case 50:return 42;case 51:return 39;case 52:return 37;case 53:return 32;case 54:return 86;case 55:return 5;case 56:return 20;case 57:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:[0-9]+\.[0-9]*|[0-9]*\.[0-9]+\b)/,/^(?:[0-9]+)/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:if\b)/,/^(?:else\b)/,/^(?:while\b)/,/^(?:do\b)/,/^(?:for\b)/,/^(?:function\b)/,/^(?:map\b)/,/^(?:use\b)/,/^(?:return\b)/,/^(?:delete\b)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:Infinity\b)/,/^(?:->)/,/^(?:=>)/,/^(?:<<)/,/^(?:>>)/,/^(?:\{)/,/^(?:\})/,/^(?:;)/,/^(?:#)/,/^(?:\?)/,/^(?::)/,/^(?:NaN\b)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:\()/,/^(?:\))/,/^(?:!)/,/^(?:\^)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:\+)/,/^(?:-)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:==)/,/^(?:~=)/,/^(?:!=)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:=)/,/^(?:,)/,/^(?:$)/,/^(?:[A-Za-z_\$][A-Za-z0-9_]*)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],inclusive:!0}}};return e}();function he(){this.yy={}}return ae.lexer=ue,he.prototype=ae,ae.Parser=he,new he}();return void 0!==require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(e){e[1]||(console.log("Usage: "+e[0]+" FILE"),process.exit(1));var t=require("fs").readFileSync(require("path").normalize(e[1]),"utf8");return exports.parser.parse(t)},require.main===module&&exports.main(process.argv.slice(1))),parser.yy.parseError=parser.parseError,JXG.JessieCode})),define("base/composition",["jxg","utils/type"],(function(e,t){"use strict";return e.Composition=function(e){var r,i=this,n=["setAttribute","setParents","prepareUpdate","updateRenderer","update","fullUpdate","highlight","noHighlight"],o=function(e){return function(){var r;for(r in i.elements)i.elements.hasOwnProperty(r)&&t.exists(i.elements[r][e])&&i.elements[r][e].apply(i.elements[r],arguments);return i}};for(r=0;r<n.length;r++)this[n[r]]=o(n[r]);for(r in this.elements={},this.objects=this.elements,this.elementsByName={},this.objectsList=[],this.groups={},this.methodMap={setAttribute:"setAttribute",setProperty:"setAttribute",setParents:"setParents",add:"add",remove:"remove",select:"select"},e)e.hasOwnProperty(r)&&this.add(r,e[r]);this.dump=!0,this.subs={}},e.extend(e.Composition.prototype,{add:function(e,r){return!(t.exists(this[e])||!t.exists(r))&&(t.exists(r.id)?this.elements[r.id]=r:this.elements[e]=r,t.exists(r.name)&&(this.elementsByName[r.name]=r),r.on("attribute:name",this.nameListener,this),this.objectsList.push(r),this[e]=r,this.methodMap[e]=r,!0)},remove:function(e){var t,r=!1;for(t in this.elements)if(this.elements.hasOwnProperty(t)&&this.elements[t].id===this[e].id){r=!0;break}return r&&(delete this.elements[this[e].id],delete this[e]),r},nameListener:function(e,t,r){delete this.elementsByName[e],this.elementsByName[t]=r},select:function(r){return t.exists(e.Board)?e.Board.prototype.select.call(this,r):new e.Composition},getParents:function(){return this.parents},getType:function(){return this.elType},getAttributes:function(){var e,t={};for(e in this.subs)this.subs.hasOwnProperty(e)&&(t[e]=this.subs[e].visProp);return this.attr}}),e.Composition})),define("base/board",["jxg","base/constants","base/coords","options","math/numerics","math/math","math/geometry","math/complex","math/statistics","parser/jessiecode","utils/color","utils/type","utils/event","utils/env","base/composition"],(function(e,t,r,i,n,o,s,a,l,c,u,h,d,p,f){"use strict";return e.Board=function(r,n,o,s,a,l,u,f,v,m,g){if(this.BOARD_MODE_NONE=0,this.BOARD_MODE_DRAG=1,this.BOARD_MODE_MOVE_ORIGIN=2,this.BOARD_MODE_ZOOM=17,this.BOARD_QUALITY_LOW=1,this.BOARD_QUALITY_HIGH=2,h.exists(g.document)&&!1!==g.document?this.document=g.document:void 0!==document&&h.isObject(document)&&(this.document=document),this.container=r,this.containerObj=p.isBrowser?this.document.getElementById(this.container):null,p.isBrowser&&"no"!==n.type&&null===this.containerObj)throw new Error("\nJSXGraph: HTML container element '"+r+"' not found.");this.renderer=n,this.grids=[],this.options=h.deepCopy(i),this.attr=g,this.dimension=2,this.jc=new c,this.jc.use(this),this.origin={},this.origin.usrCoords=[1,0,0],this.origin.scrCoords=[1,s[0],s[1]],this.zoomX=a,this.zoomY=l,this.unitX=u*this.zoomX,this.unitY=f*this.zoomY,this.keepaspectratio=!1,this.canvasWidth=v,this.canvasHeight=m,h.exists(o)&&""!==o&&p.isBrowser&&!h.exists(this.document.getElementById(o))?this.id=o:this.id=this.generateId(),d.eventify(this),this.hooks=[],this.dependentBoards=[],this.inUpdate=!1,this.objects={},this.objectsList=[],this.groups={},this.animationObjects={},this.highlightedObjects={},this.numObjects=0,this.elementsByName={},this.mode=this.BOARD_MODE_NONE,this.updateQuality=this.BOARD_QUALITY_HIGH,this.isSuspendedRedraw=!1,this.calculateSnapSizes(),this.drag_dx=0,this.drag_dy=0,this.drag_position=[0,0],this.mouse={},this.touches=[],this.xmlString="",this.cPos=[],this.touchMoveLast=0,this.touchMoveLastId=1/0,this.positionAccessLast=0,this.downObjects=[],this.attr.showcopyright&&this.renderer.displayCopyright(t.licenseText,parseInt(this.options.text.fontSize,10)),this.needsFullUpdate=!1,this.reducedUpdate=!1,this.currentCBDef="none",this.geonextCompatibilityMode=!1,this.options.text.useASCIIMathML&&translateASCIIMath?init():this.options.text.useASCIIMathML=!1,this.hasMouseHandlers=!1,this.hasTouchHandlers=!1,this.hasPointerHandlers=!1,this.hasMouseUp=!1,this.hasTouchEnd=!1,this.hasPointerUp=!1,this._drag_offset=[0,0],this._inputDevice="mouse",this._board_touches=[],this.selectingMode=!1,this.isSelecting=!1,this._isScrolling=!1,this._isResizing=!1,this.selectingBox=[[0,0],[0,0]],this.mathLib=Math,this.mathLibJXG=e.Math,this.attr.registerevents&&this.addEventHandlers(),this.methodMap={update:"update",fullUpdate:"fullUpdate",on:"on",off:"off",trigger:"trigger",setView:"setBoundingBox",setBoundingBox:"setBoundingBox",migratePoint:"migratePoint",colorblind:"emulateColorblindness",suspendUpdate:"suspendUpdate",unsuspendUpdate:"unsuspendUpdate",clearTraces:"clearTraces",left:"clickLeftArrow",right:"clickRightArrow",up:"clickUpArrow",down:"clickDownArrow",zoomIn:"zoomIn",zoomOut:"zoomOut",zoom100:"zoom100",zoomElements:"zoomElements",remove:"removeObject",removeObject:"removeObject"}},e.extend(e.Board.prototype,{generateName:function(e){var r,i,n=this.attr.maxnamelength,o="",s="",a=[],l="";if(e.type===t.OBJECT_TYPE_TICKS)return"";for(r=h.isPoint(e)?["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:e.type===t.OBJECT_TYPE_ANGLE?["","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;"]:["","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],h.isPoint(e)||e.elementClass===t.OBJECT_CLASS_LINE||e.type===t.OBJECT_TYPE_ANGLE||(o=e.type===t.OBJECT_TYPE_POLYGON?"P_{":e.elementClass===t.OBJECT_CLASS_CIRCLE?"k_{":e.elementClass===t.OBJECT_CLASS_TEXT?"t_{":"s_{",s="}"),i=0;i<n;i++)a[i]=0;for(;a[n-1]<r.length;){for(a[0]=1;a[0]<r.length;a[0]++){for(l=o,i=n;i>0;i--)l+=r[a[i-1]];if(!h.exists(this.elementsByName[l+s]))return l+s}for(a[0]=r.length,i=1;i<n;i++)a[i-1]===r.length&&(a[i-1]=1,a[i]+=1)}return""},generateId:function(){for(var t=1;h.exists(e.boards["jxgBoard"+t]);)t=Math.round(65535*Math.random());return"jxgBoard"+t},setId:function(e,t){var r,i=this.numObjects,n=e.id;if(this.numObjects+=1,""===n||!h.exists(n))for(n=this.id+t+i;h.exists(this.objects[n]);)r=Math.round(65535*Math.random()),n=this.id+t+i+"-"+r;return e.id=n,this.objects[n]=e,e._pos=this.objectsList.length,this.objectsList[this.objectsList.length]=e,n},finalizeAdding:function(e){!1===h.evaluate(e.visProp.visible)&&this.renderer.display(e,!1)},finalizeLabel:function(e){e.hasLabel&&!h.evaluate(e.label.visProp.islabel)&&!1===h.evaluate(e.label.visProp.visible)&&this.renderer.display(e.label,!1)},checkFrameRate:function(e){var t=!1,r=(new Date).getTime();return h.exists(e.pointerId)&&this.touchMoveLastId!==e.pointerId&&(t=!0,this.touchMoveLastId=e.pointerId),!t&&(r-this.touchMoveLast)*this.attr.maxframerate>=1e3&&(t=!0),t&&(this.touchMoveLast=r),t},getCoordsTopLeftCorner:function(){var e,t,r,i,n,o=this.document.documentElement||this.document.body.parentNode,s=this.document.body,a=this.containerObj;if(this.cPos.length>0&&(this.mode===this.BOARD_MODE_DRAG||this.mode===this.BOARD_MODE_MOVE_ORIGIN||(new Date).getTime()-this.positionAccessLast<1e3))return this.cPos;if(this.positionAccessLast=(new Date).getTime(),a.getBoundingClientRect){for(r=a.getBoundingClientRect(),i=1,n=a;n&&h.exists(n.parentNode);)h.exists(n.style)&&h.exists(n.style.zoom)&&""!==n.style.zoom&&(i*=parseFloat(n.style.zoom)),n=n.parentNode;return(e=[r.left*i,r.top*i])[0]+=p.getProp(a,"border-left-width"),e[1]+=p.getProp(a,"border-top-width"),"vml"!==this.renderer.type&&(e[0]+=p.getProp(a,"padding-left"),e[1]+=p.getProp(a,"padding-top")),this.cPos=e.slice(),this.cPos}return e=p.getOffset(a),t=this.document.documentElement.ownerDocument,!this.containerObj.currentStyle&&t.defaultView&&(e[0]+=p.getProp(o,"margin-left"),e[1]+=p.getProp(o,"margin-top"),e[0]+=p.getProp(o,"border-left-width"),e[1]+=p.getProp(o,"border-top-width"),e[0]+=p.getProp(o,"padding-left"),e[1]+=p.getProp(o,"padding-top")),s&&(e[0]+=p.getProp(s,"left"),e[1]+=p.getProp(s,"top")),"object"==typeof google&&google.translate&&(e[0]+=10,e[1]+=25),e[0]+=p.getProp(a,"border-left-width"),e[1]+=p.getProp(a,"border-top-width"),"vml"!==this.renderer.type&&(e[0]+=p.getProp(a,"padding-left"),e[1]+=p.getProp(a,"padding-top")),e[0]+=this.attr.offsetx,e[1]+=this.attr.offsety,this.cPos=e.slice(),this.cPos},getMousePosition:function(e,t){var r,i,n=this.getCoordsTopLeftCorner();return r=p.getPosition(e,t,this.document),h.exists(this.cssTransMat)||this.updateCSSTransforms(),i=[1,r[0]-n[0],r[1]-n[1]],(i=o.matVecMult(this.cssTransMat,i))[1]/=i[0],i[2]/=i[0],[i[1],i[2]]},initMoveOrigin:function(e,t){this.drag_dx=e-this.origin.scrCoords[1],this.drag_dy=t-this.origin.scrCoords[2],this.mode=this.BOARD_MODE_MOVE_ORIGIN,this.updateQuality=this.BOARD_QUALITY_LOW},initMoveObject:function(e,r,i,n){var o,s,a,c=[],u=[],d=this.objectsList.length,p={visProp:{layer:-1e4}};for(s=0;s<d;s++)a=(o=this.objectsList[s]).hasPoint&&o.hasPoint(e,r),o.visPropCalc.visible&&a&&(o.triggerEventHandlers([n+"down","down"],[i]),this.downObjects.push(o)),a&&o.isDraggable&&o.visPropCalc.visible&&(this.geonextCompatibilityMode&&(h.isPoint(o)||o.elementClass===t.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!h.evaluate(o.visProp.fixed)&&(o.visProp.layer>p.visProp.layer||o.visProp.layer===p.visProp.layer&&o.lastDragTime.getTime()>=p.lastDragTime.getTime())&&(this.attr.ignorelabels&&h.exists(p.label)&&o===p.label||(p=o,c.push(p),h.exists(p.coords)?u.push(l.subtract(p.coords.scrCoords.slice(1),[e,r])):u.push([0,0])));return this.attr.drag.enabled&&c.length>0&&(this.mode=this.BOARD_MODE_DRAG),this.attr.takefirst?(c.length=1,this._drag_offset=u[0]):(c=c.slice(-1),this._drag_offset=u[u.length-1]),this._drag_offset||(this._drag_offset=[0,0]),"svg"===this.renderer.type&&h.exists(c[0])&&h.evaluate(c[0].visProp.dragtotopoflayer)&&1===c.length&&h.exists(c[0].rendNode)&&c[0].rendNode.parentNode.appendChild(c[0].rendNode),this.previousRotation=0,this.previousScale=1,c.length>=1&&(c[0].highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[i,c[0]])),c},moveObject:function(e,i,n,o,s){var a,c,u,d=new r(t.COORDS_BY_SCREEN,this.getScrCoordsOfMouse(e,i),this);n&&n.obj&&((a=n.obj).coords&&(c=a.coords.scrCoords.slice()),this.drag_position=[d.scrCoords[1],d.scrCoords[2]],this.drag_position=l.add(this.drag_position,this._drag_offset),h.exists(a.coords)?a.setPositionDirectly(t.COORDS_BY_SCREEN,this.drag_position):(this.displayInfobox(!1),isNaN(n.targets[0].Xprev+n.targets[0].Yprev)||a.setPositionDirectly(t.COORDS_BY_SCREEN,[d.scrCoords[1],d.scrCoords[2]],[n.targets[0].Xprev,n.targets[0].Yprev]),n.targets[0].Xprev=d.scrCoords[1],n.targets[0].Yprev=d.scrCoords[2]),h.exists(a.coords)&&(a.prepareUpdate().update(!1).updateRenderer(),this.updateInfobox(a),a.prepareUpdate().update(!0).updateRenderer()),a.coords&&(u=a.coords.scrCoords),a.coords&&c[1]===u[1]&&c[2]===u[2]||(a.triggerEventHandlers([s+"drag","drag"],[o]),this.update()),a.highlight(!0),this.triggerEventHandlers(["mousehit","hit"],[o,a]),a.lastDragTime=new Date)},twoFingerMove:function(e,r,i){var n;h.exists(e)&&h.exists(e.obj)&&((n=e.obj).elementClass===t.OBJECT_CLASS_LINE||n.type===t.OBJECT_TYPE_POLYGON?this.twoFingerTouchObject(e.targets,n,r):n.elementClass===t.OBJECT_CLASS_CIRCLE&&this.twoFingerTouchCircle(e.targets,n,r),i&&n.triggerEventHandlers(["touchdrag","drag"],[i]))},twoFingerTouchObject:function(e,i,n){var a,l,c,u,d,p,f,v,m,g,b,y,_,C,x,w,P;if(h.exists(e[0])&&h.exists(e[1])&&!isNaN(e[0].Xprev+e[0].Yprev+e[1].Xprev+e[1].Yprev)){if(n===e[0].num?(x=e[1],w=e[0]):(x=e[0],w=e[1]),P=new r(t.COORDS_BY_SCREEN,[x.Xprev,x.Yprev],this).usrCoords,l=new r(t.COORDS_BY_SCREEN,[w.Xprev,w.Yprev],this).usrCoords,a=new r(t.COORDS_BY_SCREEN,[w.X,w.Y],this).usrCoords,u=o.crossProduct(P,l),c=o.crossProduct(P,a),f=o.crossProduct(u,c),Math.abs(f[0])<o.eps)return;if(p=s.rad(l.slice(1),P.slice(1),a.slice(1)),(v=this.create("transform",[p,[P[1],P[2]]],{type:"rotate"})).update(),h.evaluate(i.visProp.scalable)&&(d=s.distance(a,P)/s.distance(l,P),m=this.create("transform",[-P[1],-P[2]],{type:"translate"}),g=this.create("transform",[d,d],{type:"scale"}),b=this.create("transform",[P[1],P[2]],{type:"translate"}),v.melt(m).melt(g).melt(b)),i.elementClass===t.OBJECT_CLASS_LINE)y=[],i.point1.draggable()&&y.push(i.point1),i.point2.draggable()&&y.push(i.point2),v.applyOnce(y);else if(i.type===t.OBJECT_TYPE_POLYGON){for(y=[],C=i.vertices.length-1,_=0;_<C;++_)i.vertices[_].draggable()&&y.push(i.vertices[_]);v.applyOnce(y)}this.update(),i.highlight(!0)}},twoFingerTouchCircle:function(e,i,n){var o,a,l,c,u,d,p,f,v,m,g;"pointCircle"!==i.method&&"pointLine"!==i.method&&h.exists(e[0])&&h.exists(e[1])&&!isNaN(e[0].Xprev+e[0].Yprev+e[1].Xprev+e[1].Yprev)&&(n===e[0].num?(o=e[1],a=e[0]):(o=e[0],a=e[1]),u=new r(t.COORDS_BY_SCREEN,[o.Xprev,o.Yprev],this).usrCoords,c=new r(t.COORDS_BY_SCREEN,[a.Xprev,a.Yprev],this).usrCoords,l=new r(t.COORDS_BY_SCREEN,[a.X,a.Y],this).usrCoords,p=s.rad(c.slice(1),u.slice(1),l.slice(1)),f=this.create("transform",[-u[1],-u[2]],{type:"translate"}),v=this.create("transform",[p],{type:"rotate"}),f.melt(v),h.evaluate(i.visProp.scalable)&&(d=s.distance(u,l)/s.distance(u,c),m=this.create("transform",[d,d],{type:"scale"}),f.melt(m)),g=this.create("transform",[u[1],u[2]],{type:"translate"}),f.melt(g),i.center.draggable()&&f.applyOnce([i.center]),"twoPoints"===i.method?i.point2.draggable()&&f.applyOnce([i.point2]):"pointRadius"===i.method&&h.isNumber(i.updateRadius.origin)&&i.setRadius(i.radius*d),this.update(i.center),i.highlight(!0))},highlightElements:function(e,t,r,i){var n,o,s,a={},l=this.objectsList.length;for(n=0;n<l;n++)s=(o=this.objectsList[n]).id,h.exists(o.hasPoint)&&o.visPropCalc.visible&&o.hasPoint(e,t)&&(this.updateInfobox(o),h.exists(this.highlightedObjects[s])||(a[s]=o,o.highlight(),this.triggerEventHandlers(["mousehit","hit"],[r,o,i])),o.mouseover?o.triggerEventHandlers(["mousemove","move"],[r]):(o.triggerEventHandlers(["mouseover","over"],[r]),o.mouseover=!0));for(n=0;n<l;n++)s=(o=this.objectsList[n]).id,o.mouseover&&(a[s]||(o.triggerEventHandlers(["mouseout","out"],[r]),o.mouseover=!1))},saveStartPos:function(r,i){var n,o,s=[];if(r.type===t.OBJECT_TYPE_TICKS)s.push([1,NaN,NaN]);else if(r.elementClass===t.OBJECT_CLASS_LINE)s.push(r.point1.coords.usrCoords),s.push(r.point2.coords.usrCoords);else if(r.elementClass===t.OBJECT_CLASS_CIRCLE)s.push(r.center.coords.usrCoords),"twoPoints"===r.method&&s.push(r.point2.coords.usrCoords);else if(r.type===t.OBJECT_TYPE_POLYGON)for(o=r.vertices.length-1,n=0;n<o;n++)s.push(r.vertices[n].coords.usrCoords);else if(r.type===t.OBJECT_TYPE_SECTOR)s.push(r.point1.coords.usrCoords),s.push(r.point2.coords.usrCoords),s.push(r.point3.coords.usrCoords);else if(h.isPoint(r)||r.type===t.OBJECT_TYPE_GLIDER)s.push(r.coords.usrCoords);else if(r.elementClass===t.OBJECT_CLASS_CURVE)r.points.length>0&&s.push(r.points[0].usrCoords);else try{s.push(r.coords.usrCoords)}catch(t){e.debug("JSXGraph+ saveStartPos: obj.coords.usrCoords not available: "+t)}for(o=s.length,n=0;n<o;n++)i.Zstart.push(s[n][0]),i.Xstart.push(s[n][1]),i.Ystart.push(s[n][2])},mouseOriginMoveStart:function(e){var t,r;return(t=this._isRequiredKeyPressed(e,"pan"))&&(r=this.getMousePosition(e),this.initMoveOrigin(r[0],r[1])),t},mouseOriginMove:function(e){var t,r=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return r&&(t=this.getMousePosition(e),this.moveOrigin(t[0],t[1],!0)),r},touchStartMoveOriginOneFinger:function(t){var r,i,n=t[e.touchProperty];return(r=this.attr.pan.enabled&&!this.attr.pan.needtwofingers&&1===n.length)&&(i=this.getMousePosition(t,0),this.initMoveOrigin(i[0],i[1])),r},touchOriginMove:function(e){var t,r=this.mode===this.BOARD_MODE_MOVE_ORIGIN;return r&&(t=this.getMousePosition(e,0),this.moveOrigin(t[0],t[1],!0)),r},originMoveEnd:function(){this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE},addEventHandlers:function(){if(p.supportsPointerEvents()?this.addPointerEventHandlers():(this.addMouseEventHandlers(),this.addTouchEventHandlers()),null!==this.containerObj&&(this.containerObj.oncontextmenu=function(e){return h.exists(e)&&e.preventDefault(),!1}),this.addFullscreenEventHandlers(),this.addKeyboardEventHandlers(),p.isBrowser){try{this.startResizeObserver()}catch(e){p.addEvent(window,"resize",this.resizeListener,this),this.startIntersectionObserver()}p.addEvent(window,"scroll",this.scrollListener,this)}},removeEventHandlers:function(){this.removeMouseEventHandlers(),this.removeTouchEventHandlers(),this.removePointerEventHandlers(),this.removeFullscreenEventHandlers(),this.removeKeyboardEventHandlers(),p.isBrowser&&(h.exists(this.resizeObserver)?this.stopResizeObserver():(p.removeEvent(window,"resize",this.resizeListener,this),this.stopIntersectionObserver()),p.removeEvent(window,"scroll",this.scrollListener,this))},addPointerEventHandlers:function(){if(!this.hasPointerHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.addEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.addEvent(e,"MSPointerMove",this.pointerMoveListener,this)):(p.addEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.addEvent(e,"pointermove",this.pointerMoveListener,this)),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),null!==this.containerObj&&(this.containerObj.style.touchAction="none"),this.hasPointerHandlers=!0}},addMouseEventHandlers:function(){if(!this.hasMouseHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.addEvent(e,"mousemove",this.mouseMoveListener,this),p.addEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.addEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!0}},addTouchEventHandlers:function(e){if(!this.hasTouchHandlers&&p.isBrowser){var t=this.attr.movetarget||this.containerObj;p.addEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.addEvent(t,"touchmove",this.touchMoveListener,this),this.hasTouchHandlers=!0}},addFullscreenEventHandlers:function(){var e,t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],r=t.length;if(!this.hasFullsceenEventHandlers&&p.isBrowser){for(e=0;e<r;e++)p.addEvent(this.document,t[e],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!0}},addKeyboardEventHandlers:function(){this.attr.keyboard.enabled&&!this.hasKeyboardHandlers&&p.isBrowser&&(p.addEvent(this.containerObj,"keydown",this.keyDownListener,this),p.addEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.addEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!0)},removeKeyboardEventHandlers:function(){this.hasKeyboardHandlers&&p.isBrowser&&(p.removeEvent(this.containerObj,"keydown",this.keyDownListener,this),p.removeEvent(this.containerObj,"focusin",this.keyFocusInListener,this),p.removeEvent(this.containerObj,"focusout",this.keyFocusOutListener,this),this.hasKeyboardHandlers=!1)},removeFullscreenEventHandlers:function(){var e,t=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"],r=t.length;if(this.hasFullsceenEventHandlers&&p.isBrowser){for(e=0;e<r;e++)p.removeEvent(this.document,t[e],this.fullscreenListener,this);this.hasFullsceenEventHandlers=!1}},removePointerEventHandlers:function(){if(this.hasPointerHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;window.navigator.msPointerEnabled?(p.removeEvent(this.containerObj,"MSPointerDown",this.pointerDownListener,this),p.removeEvent(e,"MSPointerMove",this.pointerMoveListener,this)):(p.removeEvent(this.containerObj,"pointerdown",this.pointerDownListener,this),p.removeEvent(e,"pointermove",this.pointerMoveListener,this)),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.hasPointerHandlers=!1}},removeMouseEventHandlers:function(){if(this.hasMouseHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"mousedown",this.mouseDownListener,this),p.removeEvent(e,"mousemove",this.mouseMoveListener,this),this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),p.removeEvent(this.containerObj,"mousewheel",this.mouseWheelListener,this),p.removeEvent(this.containerObj,"DOMMouseScroll",this.mouseWheelListener,this),this.hasMouseHandlers=!1}},removeTouchEventHandlers:function(){if(this.hasTouchHandlers&&p.isBrowser){var e=this.attr.movetarget||this.containerObj;p.removeEvent(this.containerObj,"touchstart",this.touchStartListener,this),p.removeEvent(e,"touchmove",this.touchMoveListener,this),this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.hasTouchHandlers=!1}},clickLeftArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]+.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickRightArrow:function(){return this.moveOrigin(this.origin.scrCoords[1]-.1*this.canvasWidth,this.origin.scrCoords[2]),this},clickUpArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]-.1*this.canvasHeight),this},clickDownArrow:function(){return this.moveOrigin(this.origin.scrCoords[1],this.origin.scrCoords[2]+.1*this.canvasHeight),this},gestureChangeListener:function(e){var i,n,o,a,l,c,u,d,p,f,v,m,g=!1,b=this.attr.zoom.factorx,y=this.attr.zoom.factory;return this.mode!==this.BOARD_MODE_ZOOM||(e.preventDefault(),c=s.distance([e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY],2),void 0===e.scale&&(e.scale=c/this.prevDist),!!h.exists(this.prevCoords)&&(n=[e.touches[0].clientX-this.prevCoords[0][0],e.touches[0].clientY-this.prevCoords[0][1]],o=[e.touches[1].clientX-this.prevCoords[1][0],e.touches[1].clientY-this.prevCoords[1][1]],n[0]*n[0]+n[1]*n[1]<100&&o[0]*o[0]+o[1]*o[1]<100||(a=s.rad(n,[0,0],o),"pan"!==this.isPreviousGesture&&Math.abs(a)>.2*Math.PI&&Math.abs(a)<1.8*Math.PI&&(g=!0),"pan"===this.isPreviousGesture||g||(Math.abs(e.scale)<.77||Math.abs(e.scale)>1.3)&&(g=!0),l=e.scale/this.prevScale,this.prevScale=e.scale,this.prevCoords=[[e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY]],i=new r(t.COORDS_BY_SCREEN,this.getMousePosition(e,0),this),this.attr.pan.enabled&&this.attr.pan.needtwofingers&&!g?(this.isPreviousGesture="pan",this.moveOrigin(i.scrCoords[1],i.scrCoords[2],!0)):this.attr.zoom.enabled&&Math.abs(l-1)<.5&&((this.attr.zoom.pinchhorizontal||this.attr.zoom.pinchvertical)&&(u=Math.abs(e.touches[0].clientX-e.touches[1].clientX),d=Math.abs(e.touches[0].clientY-e.touches[1].clientY),p=Math.abs(Math.atan2(d,u)),m=Math.PI*this.attr.zoom.pinchsensitivity/90),this.attr.zoom.pinchhorizontal&&p<m?(this.attr.zoom.factorx=l,this.attr.zoom.factory=1,f=0,v=0):this.attr.zoom.pinchvertical&&Math.abs(p-.5*Math.PI)<m?(this.attr.zoom.factorx=1,this.attr.zoom.factory=l,f=0,v=0):(this.attr.zoom.factorx=l,this.attr.zoom.factory=l,f=i.usrCoords[1],v=i.usrCoords[2]),this.zoomIn(f,v),this.attr.zoom.factorx=b,this.attr.zoom.factory=y)),!1))},gestureStartListener:function(e){var t;return e.preventDefault(),this.prevScale=1,this.prevDist=s.distance([e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY],2),this.prevCoords=[[e.touches[0].clientX,e.touches[0].clientY],[e.touches[1].clientX,e.touches[1].clientY]],this.isPreviousGesture="none",t=this.getMousePosition(e,0),this.initMoveOrigin(t[0],t[1]),this.mode=this.BOARD_MODE_ZOOM,!1},_isRequiredKeyPressed:function(e,t){var r=this.attr[t];return!!r.enabled&&!(!(r.needshift&&e.shiftKey||!r.needshift&&!e.shiftKey)||!(r.needctrl&&e.ctrlKey||!r.needctrl&&!e.ctrlKey))},_isPointerRegistered:function(e){var t,r=this._board_touches.length;for(t=0;t<r;t++)if(this._board_touches[t].pointerId===e.pointerId)return!0;return!1},_pointerStorePosition:function(e){var t,r;for(t=0,r=!1;t<this._board_touches.length;t++)if(this._board_touches[t].pointerId===e.pointerId){this._board_touches[t].clientX=e.clientX,this._board_touches[t].clientY=e.clientY,r=!0;break}return!r&&this._board_touches.length<2&&this._board_touches.push({pointerId:e.pointerId,clientX:e.clientX,clientY:e.clientY}),this},_pointerRemoveTouches:function(e){var t;for(t=0;t<this._board_touches.length;t++)if(this._board_touches[t].pointerId===e.pointerId){this._board_touches.splice(t,1);break}return this},_pointerClearTouches:function(){this._board_touches.length>0&&this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode=this.BOARD_MODE_NONE,this._board_touches=[],this.touches=[]},_getPointerInputDevice:function(e){if(p.isBrowser){if("touch"===e.pointerType||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>1)return"touch";if("mouse"===e.pointerType)return"mouse";if("pen"===e.pointerType)return"pen"}return"mouse"},pointerDownListener:function(e,t){var r,i,n,o,s,a,l,c,u,d;if(!t&&this._isPointerRegistered(e))return!1;if(!t&&e.isPrimary&&this._pointerClearTouches(),this.hasPointerUp||(window.navigator.msPointerEnabled?p.addEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.addEvent(this.document,"pointerup",this.pointerUpListener,this),p.addEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!0),this.hasMouseHandlers&&this.removeMouseEventHandlers(),this.hasTouchHandlers&&this.removeTouchEventHandlers(),this.document.selection&&h.isFunction(this.document.selection.empty))this.document.selection.empty();else if(window.getSelection&&(a=window.getSelection()).removeAllRanges)try{a.removeAllRanges()}catch(e){}if(this._inputDevice=this._getPointerInputDevice(e),c=this._inputDevice,this.options.precision.hasPoint=this.options.precision[c],o=this.getMousePosition(e),this._testForSelection(e),this.selectingMode)return this._startSelecting(o),void this.triggerEventHandlers(["touchstartselecting","pointerstartselecting","startselecting"],[e]);if(this.attr.drag.enabled&&t?(s=[t],this.mode=this.BOARD_MODE_DRAG):s=this.initMoveObject(o[0],o[1],e,c),l={num:e.pointerId,X:o[0],Y:o[1],Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},s.length>0){for(d=s[s.length-1],u=!1,r=0;r<this.touches.length;r++)if(this.touches[r].obj===d){i=r,n=this.touches[r].targets.push(l)-1,u=!0;break}u||(n=0,i=this.touches.push({obj:d,targets:[l]})-1),this.dehighlightAll(),d.highlight(!0),this.saveStartPos(d,this.touches[i].targets[n]),e&&e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)}return this.touches.length>0&&(e.preventDefault(),e.stopPropagation()),!!p.isBrowser&&("touch"!==this._getPointerInputDevice(e)?this.mode===this.BOARD_MODE_NONE&&this.mouseOriginMoveStart(e):(this._pointerStorePosition(e),e.touches=this._board_touches,1===e.touches.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(e)||2!==e.touches.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(e))),this.triggerEventHandlers(["touchstart","down","pointerdown","MSPointerDown"],[e]),!1)},pointerMoveListener:function(e){var t,r,i,n,o;if("touch"===this._getPointerInputDevice(e)&&!this._isPointerRegistered(e))return this.BOARD_MODE_NONE;if(!this.checkFrameRate(e))return!1;if(this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.mode!==this.BOARD_MODE_NONE&&(e.preventDefault(),e.stopPropagation()),this.updateQuality=this.BOARD_QUALITY_LOW,this._inputDevice=this._getPointerInputDevice(e),o=this._inputDevice,this.options.precision.hasPoint=this.options.precision[o],this.selectingMode)i=this.getMousePosition(e),this._moveSelecting(i),this.triggerEventHandlers(["touchmoveselecting","moveselecting","pointermoveselecting"],[e,this.mode]);else if(!this.mouseOriginMove(e))if(this.mode===this.BOARD_MODE_DRAG){for(t=0;t<this.touches.length;t++)for(n=this.touches[t].targets,r=0;r<n.length;r++)if(n[r].num===e.pointerId){i=this.getMousePosition(e),n[r].X=i[0],n[r].Y=i[1],1===n.length?this.moveObject(i[0],i[1],this.touches[t],e,o):2===n.length&&(this.twoFingerMove(this.touches[t],e.pointerId,e),n[r].Xprev=i[0],n[r].Yprev=i[1]);break}}else"touch"===this._getPointerInputDevice(e)&&(this._pointerStorePosition(e),2===this._board_touches.length&&(e.touches=this._board_touches,this.gestureChangeListener(e))),i=this.getMousePosition(e),this.highlightElements(i[0],i[1],e,-1);return this.triggerEventHandlers(["touchmove","move","pointermove","MSPointerMove"],[e,this.mode]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},pointerUpListener:function(e){var t,r,i,n;if(this.triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[e]),this.displayInfobox(!1),e)for(t=0;t<this.touches.length;t++)for(n=this.touches[t].targets,r=0;r<n.length;r++)if(n[r].num===e.pointerId){n.splice(r,1),0===n.length&&this.touches.splice(t,1);break}if(this.selectingMode)this._stopSelecting(e),this.triggerEventHandlers(["touchstopselecting","pointerstopselecting","stopselecting"],[e]);else for(t=this.downObjects.length-1;t>-1;t--){for(i=!1,r=0;r<this.touches.length;r++)this.touches[r].obj.id===this.downObjects[t].id&&(i=!0);i||(this.downObjects[t].triggerEventHandlers(["touchend","up","pointerup","MSPointerUp"],[e]),this.downObjects[t].snapToGrid(),this.downObjects[t].snapToPoints(),this.downObjects.splice(t,1))}return this.hasPointerUp&&(window.navigator.msPointerEnabled?p.removeEvent(this.document,"MSPointerUp",this.pointerUpListener,this):(p.removeEvent(this.document,"pointerup",this.pointerUpListener,this),p.removeEvent(this.document,"pointercancel",this.pointerUpListener,this)),this.hasPointerUp=!1),this.originMoveEnd(),this.update(),this._pointerClearTouches(),!0},touchStartListener:function(r){var n,o,s,a,l,c,u,d,f,v,m=this.options.precision.touch,g=r[e.touchProperty];for(this.hasTouchEnd||(p.addEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!0),this.document.selection&&h.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,n=0;n<g.length;n++)g[n].jxg_isused=!1;for(n=0;n<this.touches.length;n++)for(v=this.touches[n].targets,a=0;a<v.length;a++){v[a].num=-1,m=this.options.precision.touch;do{for(l=0;l<g.length;l++)if(Math.abs(Math.pow(g[l].screenX-v[a].X,2)+Math.pow(g[l].screenY-v[a].Y,2))<m*m){v[a].num=l,v[a].X=g[l].screenX,v[a].Y=g[l].screenY,g[l].jxg_isused=!0;break}m*=2}while(-1===v[a].num&&m<this.options.precision.touchMax);-1===v[a].num&&(e.debug("i couldn't find a targettouches for target no "+a+" on "+this.touches[n].obj.name+" ("+this.touches[n].obj.id+"). Removed the target."),e.debug("eps = "+m+", touchMax = "+i.precision.touchMax),v.splice(n,1))}for(n=0;n<g.length;n++)if(!g[n].jxg_isused){if(o=this.getMousePosition(r,n),this.selectingMode)return this._startSelecting(o),this.triggerEventHandlers(["touchstartselecting","startselecting"],[r]),r.preventDefault(),r.stopPropagation(),this.options.precision.hasPoint=this.options.precision.mouse,this.touches.length>0;if(0!==(s=this.initMoveObject(o[0],o[1],r,"touch")).length)if(c=s[s.length-1],f={num:n,X:g[n].screenX,Y:g[n].screenY,Xprev:NaN,Yprev:NaN,Xstart:[],Ystart:[],Zstart:[]},h.isPoint(c)||c.elementClass===t.OBJECT_CLASS_TEXT||c.type===t.OBJECT_TYPE_TICKS||c.type===t.OBJECT_TYPE_IMAGE)d=[f],this.saveStartPos(c,d[0]),this.touches.push({obj:c,targets:d}),c.highlight(!0);else if(c.elementClass===t.OBJECT_CLASS_LINE||c.elementClass===t.OBJECT_CLASS_CIRCLE||c.elementClass===t.OBJECT_CLASS_CURVE||c.type===t.OBJECT_TYPE_POLYGON){for(u=!1,a=0;a<this.touches.length;a++)c.id===this.touches[a].obj.id&&(u=!0,1===this.touches[a].targets.length&&(this.saveStartPos(c,f),this.touches[a].targets.push(f)),g[n].jxg_isused=!0);u||(d=[f],this.saveStartPos(c,d[0]),this.touches.push({obj:c,targets:d}),c.highlight(!0))}g[n].jxg_isused=!0}return this.touches.length>0&&(r.preventDefault(),r.stopPropagation()),1===g.length&&this.mode===this.BOARD_MODE_NONE&&this.touchStartMoveOriginOneFinger(r)||2!==g.length||this.mode!==this.BOARD_MODE_NONE&&this.mode!==this.BOARD_MODE_MOVE_ORIGIN||(this.mode===this.BOARD_MODE_MOVE_ORIGIN&&this.originMoveEnd(),this.gestureStartListener(r)),this.options.precision.hasPoint=this.options.precision.mouse,this.triggerEventHandlers(["touchstart","down"],[r]),!1},touchMoveListener:function(t){var r,i,n,o,s=t[e.touchProperty];if(!this.checkFrameRate(t))return!1;if(this.mode!==this.BOARD_MODE_NONE&&(t.preventDefault(),t.stopPropagation()),this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this._inputDevice="touch",this.options.precision.hasPoint=this.options.precision.touch,this.updateQuality=this.BOARD_QUALITY_LOW,this.selectingMode){for(r=0;r<s.length;r++)if(!s[r].jxg_isused){i=this.getMousePosition(t,r),this._moveSelecting(i),this.triggerEventHandlers(["touchmoves","moveselecting"],[t,this.mode]);break}}else if(!this.touchOriginMove(t))if(this.mode===this.BOARD_MODE_DRAG){for(r=0;r<this.touches.length;r++)if(1===(o=this.touches[r].targets).length){if(s[o[0].num]){if((i=this.getMousePosition(t,o[0].num))[0]<0||i[0]>this.canvasWidth||i[1]<0||i[1]>this.canvasHeight)return;o[0].X=i[0],o[0].Y=i[1],this.moveObject(i[0],i[1],this.touches[r],t,"touch")}}else if(2===o.length&&o[0].num>-1&&o[1].num>-1&&s[o[0].num]&&s[o[1].num]){if(i=this.getMousePosition(t,o[0].num),n=this.getMousePosition(t,o[1].num),i[0]<0||i[0]>this.canvasWidth||i[1]<0||i[1]>this.canvasHeight||n[0]<0||n[0]>this.canvasWidth||n[1]<0||n[1]>this.canvasHeight)return;o[0].X=i[0],o[0].Y=i[1],o[1].X=n[0],o[1].Y=n[1],this.twoFingerMove(this.touches[r],o[0].num,t),this.twoFingerMove(this.touches[r],o[1].num),o[0].Xprev=i[0],o[0].Yprev=i[1],o[1].Xprev=n[0],o[1].Yprev=n[1]}}else 2===s.length&&this.gestureChangeListener(t),i=this.getMousePosition(t,0),this.highlightElements(i[0],i[1],t,-1);return this.mode!==this.BOARD_MODE_DRAG&&this.displayInfobox(!1),this.triggerEventHandlers(["touchmove","move"],[t,this.mode]),this.options.precision.hasPoint=this.options.precision.mouse,this.updateQuality=this.BOARD_QUALITY_HIGH,this.mode===this.BOARD_MODE_NONE},touchEndListener:function(r){var i,n,o,s,a,l,c=this.options.precision.touch,u=[],d=r&&r[e.touchProperty];if(this.triggerEventHandlers(["touchend","up"],[r]),this.displayInfobox(!1),this.selectingMode)this._stopSelecting(r),this.triggerEventHandlers(["touchstopselecting","stopselecting"],[r]);else if(d&&d.length>0){for(i=0;i<this.touches.length;i++)u[i]=this.touches[i];for(this.touches.length=0,i=0;i<d.length;i++)d[i].jxg_isused=!1;for(i=0;i<u.length;i++){for(s=!1,a=0,l=u[i].targets,n=0;n<l.length;n++)for(l[n].found=!1,o=0;o<d.length;o++)if(Math.abs(Math.pow(d[o].screenX-l[n].X,2)+Math.pow(d[o].screenY-l[n].Y,2))<c*c){l[n].found=!0,l[n].num=o,l[n].X=d[o].screenX,l[n].Y=d[o].screenY,a+=1;break}if(h.isPoint(u[i].obj)?s=l[0]&&l[0].found:u[i].obj.elementClass===t.OBJECT_CLASS_LINE?s=l[0]&&l[0].found||l[1]&&l[1].found:u[i].obj.elementClass===t.OBJECT_CLASS_CIRCLE&&(s=1===a||3===a),s)for(this.touches.push({obj:u[i].obj,targets:[]}),n=0;n<l.length;n++)l[n].found&&this.touches[this.touches.length-1].targets.push({num:l[n].num,X:l[n].screenX,Y:l[n].screenY,Xprev:NaN,Yprev:NaN,Xstart:l[n].Xstart,Ystart:l[n].Ystart,Zstart:l[n].Zstart});else u[i].obj.noHighlight()}}else this.touches.length=0;for(i=this.downObjects.length-1;i>-1;i--){for(s=!1,n=0;n<this.touches.length;n++)this.touches[n].obj.id===this.downObjects[i].id&&(s=!0);s||(this.downObjects[i].triggerEventHandlers(["touchup","up"],[r]),this.downObjects[i].snapToGrid(),this.downObjects[i].snapToPoints(),this.downObjects.splice(i,1))}return d&&0!==d.length||(this.hasTouchEnd&&(p.removeEvent(this.document,"touchend",this.touchEndListener,this),this.hasTouchEnd=!1),this.dehighlightAll(),this.updateQuality=this.BOARD_QUALITY_HIGH,this.originMoveEnd(),this.update()),!0},mouseDownListener:function(e){var t,r,i;if(this.document.selection&&h.isFunction(this.document.selection.empty)?this.document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),!this.hasMouseUp)return p.addEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!0,this._inputDevice="mouse",this.options.precision.hasPoint=this.options.precision.mouse,t=this.getMousePosition(e),this._testForSelection(e),this.selectingMode?(this._startSelecting(t),void this.triggerEventHandlers(["mousestartselecting","startselecting"],[e])):(0===(r=this.initMoveObject(t[0],t[1],e,"mouse")).length?(this.mode=this.BOARD_MODE_NONE,i=!0):(this.mouse={obj:null,targets:[{X:t[0],Y:t[1],Xprev:NaN,Yprev:NaN}]},this.mouse.obj=r[r.length-1],this.dehighlightAll(),this.mouse.obj.highlight(!0),this.mouse.targets[0].Xstart=[],this.mouse.targets[0].Ystart=[],this.mouse.targets[0].Zstart=[],this.saveStartPos(this.mouse.obj,this.mouse.targets[0]),e&&e.preventDefault?e.preventDefault():window.event&&(window.event.returnValue=!1)),this.mode===this.BOARD_MODE_NONE&&(i=this.mouseOriginMoveStart(e)),this.triggerEventHandlers(["mousedown","down"],[e]),i)},mouseMoveListener:function(e){var t;if(!this.checkFrameRate(e))return!1;t=this.getMousePosition(e),this.updateQuality=this.BOARD_QUALITY_LOW,this.mode!==this.BOARD_MODE_DRAG&&(this.dehighlightAll(),this.displayInfobox(!1)),this.selectingMode?(this._moveSelecting(t),this.triggerEventHandlers(["mousemoveselecting","moveselecting"],[e,this.mode])):this.mouseOriginMove(e)||(this.mode===this.BOARD_MODE_DRAG?this.moveObject(t[0],t[1],this.mouse,e,"mouse"):this.highlightElements(t[0],t[1],e,-1),this.triggerEventHandlers(["mousemove","move"],[e,this.mode])),this.updateQuality=this.BOARD_QUALITY_HIGH},mouseUpListener:function(e){var t;if(!1===this.selectingMode&&this.triggerEventHandlers(["mouseup","up"],[e]),this.updateQuality=this.BOARD_QUALITY_HIGH,this.mouse&&this.mouse.obj&&(this.mouse.obj.snapToGrid(this.mouse.targets[0]),this.mouse.obj.snapToPoints()),this.originMoveEnd(),this.dehighlightAll(),this.update(),this.selectingMode)this._stopSelecting(e),this.triggerEventHandlers(["mousestopselecting","stopselecting"],[e]);else for(t=0;t<this.downObjects.length;t++)this.downObjects[t].triggerEventHandlers(["mouseup","up"],[e]);this.downObjects.length=0,this.hasMouseUp&&(p.removeEvent(this.document,"mouseup",this.mouseUpListener,this),this.hasMouseUp=!1),this.mouse=null},mouseWheelListener:function(e){if(!this.attr.zoom.wheel||!this._isRequiredKeyPressed(e,"zoom"))return!0;var i=(e=e||window.event).detail?-e.detail:e.wheelDelta/40,n=new r(t.COORDS_BY_SCREEN,this.getMousePosition(e),this);return i>0?this.zoomIn(n.usrCoords[1],n.usrCoords[2]):this.zoomOut(n.usrCoords[1],n.usrCoords[2]),this.triggerEventHandlers(["mousewheel"],[e]),e.preventDefault(),!1},keyDownListener:function(r){var i,n,o,s,a,l=r.target.id,c=0,u=0,d=h.evaluate(this.attr.keyboard.dx)/this.unitX,p=h.evaluate(this.attr.keyboard.dy)/this.unitY,f=!1,v=!0;return!(!this.attr.keyboard.enabled||""===l)&&(i=l.replace(this.containerObj.id+"_",""),n=this.select(i),h.exists(n.coords)&&(a=n.coords.usrCoords.slice(1)),(h.evaluate(this.attr.keyboard.panshift)||h.evaluate(this.attr.keyboard.panctrl))&&(f=!0),h.evaluate(this.attr.keyboard.panshift)&&r.shiftKey||h.evaluate(this.attr.keyboard.panctrl)&&r.ctrlKey?38===r.keyCode?this.clickUpArrow():40===r.keyCode?this.clickDownArrow():37===r.keyCode?this.clickLeftArrow():39===r.keyCode?this.clickRightArrow():v=!1:(h.exists(n.visProp)&&(h.exists(n.visProp.snaptogrid)&&n.visProp.snaptogrid&&h.evaluate(n.visProp.snapsizex)&&h.evaluate(n.visProp.snapsizey)?(c=(o=n.getSnapSizes())[0],u=o[1],d=Math.max(c,d),p=Math.max(u,p)):h.exists(n.visProp.attracttogrid)&&n.visProp.attracttogrid&&h.evaluate(n.visProp.attractordistance)&&h.evaluate(n.visProp.attractorunit)&&(u=c=1.1*h.evaluate(n.visProp.attractordistance),"screen"===h.evaluate(n.visProp.attractorunit)&&(c/=this.unitX,u/=this.unitX),d=Math.max(c,d),p=Math.max(u,p))),38===r.keyCode?s=[0,p]:40===r.keyCode?s=[0,-p]:37===r.keyCode?s=[-d,0]:39===r.keyCode?s=[d,0]:f&&"+"===r.key?this.zoomIn():f&&"-"===r.key?this.zoomOut():f&&"o"===r.key?this.zoom100():v=!1,s&&n.isDraggable&&n.visPropCalc.visible&&(this.geonextCompatibilityMode&&(h.isPoint(n)||n.elementClass===t.OBJECT_CLASS_TEXT)||!this.geonextCompatibilityMode)&&!h.evaluate(n.visProp.fixed)&&(h.exists(n.coords)&&(s[0]+=a[0],s[1]+=a[1]),n.setPosition(e.COORDS_BY_USER,s),h.exists(n.coords)&&this.updateInfobox(n),this.triggerEventHandlers(["hit"],[r,n]))),this.update(),v&&r.preventDefault(),!0)},keyFocusInListener:function(e){var t,r,i=e.target.id;if(!this.attr.keyboard.enabled||""===i)return!1;t=i.replace(this.containerObj.id+"_",""),r=this.select(t),h.exists(r.highlight)&&r.highlight(!0),h.exists(r.coords)&&this.updateInfobox(r),this.triggerEventHandlers(["hit"],[e,r])},keyFocusOutListener:function(e){if(!this.attr.keyboard.enabled)return!1;this.dehighlightAll(),this.displayInfobox(!1)},updateContainerDims:function(){var e,t,r,i;e=(r=this.containerObj.getBoundingClientRect()).width,t=r.height,window&&window.getComputedStyle&&(i=window.getComputedStyle(this.containerObj,null),e-=parseFloat(i.getPropertyValue("border-left-width"))+parseFloat(i.getPropertyValue("border-right-width")),t-=parseFloat(i.getPropertyValue("border-top-width"))+parseFloat(i.getPropertyValue("border-bottom-width"))),e<=0||t<=0||(isNaN(this.getBoundingBox()[0])&&this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"keep"),h.exists(this._prevDim)&&this._prevDim.w===e&&this._prevDim.h===t||(this.resizeContainer(e,t,!0),this._prevDim={w:e,h:t}))},startResizeObserver:function(){var e=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this.resizeObserver=new ResizeObserver((function(t){e._isResizing||(e._isResizing=!0,window.setTimeout((function(){try{e.updateContainerDims()}catch(t){e.stopResizeObserver()}finally{e._isResizing=!1}}),e.attr.resize.throttle))})),this.resizeObserver.observe(this.containerObj))},stopResizeObserver:function(){p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&h.exists(this.resizeObserver)&&this.resizeObserver.unobserve(this.containerObj)},resizeListener:function(){var e=this;p.isBrowser&&this.attr.resize&&this.attr.resize.enabled&&(this._isScrolling||this._isResizing||(this._isResizing=!0,window.setTimeout((function(){e.updateContainerDims(),e._isResizing=!1}),this.attr.resize.throttle)))},scrollListener:function(e){var t=this;p.isBrowser&&(this._isScrolling||(this._isScrolling=!0,window.setTimeout((function(){t._isScrolling=!1}),66)))},startIntersectionObserver:function(){var e=this;try{this.intersectionObserver=new IntersectionObserver((function(t){isNaN(e.getBoundingBox()[0])&&e.updateContainerDims()}),{root:null,rootMargin:"0px",threshold:.8}),this.intersectionObserver.observe(e.containerObj)}catch(e){console.log("JSXGraph: IntersectionObserver not available in this browser.")}},stopIntersectionObserver:function(){h.exists(this.intersectionObserver)&&this.intersectionObserver.unobserve(this.containerObj)},initInfobox:function(){var e=h.copyAttributes({},this.options,"infobox");return e.id=this.id+"_infobox",this.infobox=this.create("text",[0,0,"0,0"],e),this.infobox.distanceX=-20,this.infobox.distanceY=25,this.infobox.dump=!1,this.displayInfobox(!1),this},updateInfobox:function(e){var t,r,i,n,o,s=h.evaluate(e.visProp.showinfobox);return!h.evaluate(this.attr.showinfobox)&&"inherit"===s||!s||h.isPoint(e)&&(i=e.coords.usrCoords[1],n=e.coords.usrCoords[2],o=h.evaluate(e.visProp.infoboxdigits),this.infobox.setCoords(i+this.infobox.distanceX/this.unitX,n+this.infobox.distanceY/this.unitY),"string"!=typeof e.infoboxText?("auto"===o?(t=h.autoDigits(i),r=h.autoDigits(n)):h.isNumber(o)?(t=h.toFixed(i,o),r=h.toFixed(n,o)):(t=i,r=n),this.highlightInfobox(t,r,e)):this.highlightCustomInfobox(e.infoboxText,e),this.displayInfobox(!0)),this},displayInfobox:function(e){return this.infobox.hiddenByParent===e&&(this.infobox.hiddenByParent=!e,this.infobox.prepareUpdate().updateVisibility(e).updateRenderer()),this},showInfobox:function(e){return this.displayInfobox(e)},highlightInfobox:function(e,t,r){return this.highlightCustomInfobox("("+e+", "+t+")",r),this},highlightCustomInfobox:function(e,t){return this.infobox.setText(e),this},dehighlightAll:function(){var e,t,r=!1;for(e in this.highlightedObjects)this.highlightedObjects.hasOwnProperty(e)&&(t=this.highlightedObjects[e],(this.hasMouseHandlers||this.hasPointerHandlers)&&t.noHighlight(),r=!0);return this.highlightedObjects={},"canvas"===this.renderer.type&&r&&(this.prepareUpdate(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw()),this},getScrCoordsOfMouse:function(e,t){return[e,t]},getUsrCoordsOfMouse:function(e){var i=this.getCoordsTopLeftCorner(),n=p.getPosition(e,null,this.document),o=n[0]-i[0],s=n[1]-i[1];return new r(t.COORDS_BY_SCREEN,[o,s],this).usrCoords.slice(1)},getAllUnderMouse:function(e){var t=this.getAllObjectsUnderMouse(e);return t.push(this.getUsrCoordsOfMouse(e)),t},getAllObjectsUnderMouse:function(e){var t,r,i=this.getCoordsTopLeftCorner(),n=p.getPosition(e,null,this.document),o=n[0]-i[0],s=n[1]-i[1],a=[],l=this.objectsList.length;for(t=0;t<l;t++)(r=this.objectsList[t]).visPropCalc.visible&&r.hasPoint&&r.hasPoint(o,s)&&(a[a.length]=r);return a},updateCoords:function(){var e,t,r=this.objectsList.length;for(t=0;t<r;t++)e=this.objectsList[t],h.exists(e.coords)&&(h.evaluate(e.visProp.frozen)?e.coords.screen2usr():e.coords.usr2screen());return this},moveOrigin:function(e,i,n){var o,s,a,l;return h.exists(e)&&h.exists(i)&&(o=this.origin.scrCoords[1],s=this.origin.scrCoords[2],this.origin.scrCoords[1]=e,this.origin.scrCoords[2]=i,n&&(this.origin.scrCoords[1]-=this.drag_dx,this.origin.scrCoords[2]-=this.drag_dy),a=new r(t.COORDS_BY_SCREEN,[0,0],this).usrCoords,l=new r(t.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords,(a[1]<this.maxboundingbox[0]||a[2]>this.maxboundingbox[1]||l[1]>this.maxboundingbox[2]||l[2]<this.maxboundingbox[3])&&(this.origin.scrCoords[1]=o,this.origin.scrCoords[2]=s)),this.updateCoords().clearTraces().fullUpdate(),this.triggerEventHandlers(["boundingbox"]),this},addConditions:function(r){var i,n,o,s,a,l,c,d=[],p=r.indexOf("<data>"),f=r.indexOf("</data>"),v=function(e,r,i,n){return function(){var o,s;s=(o=e.select(r.id)).coords.usrCoords[n],2===n?o.setPositionDirectly(t.COORDS_BY_USER,[i(),s]):o.setPositionDirectly(t.COORDS_BY_USER,[s,i()]),o.prepareUpdate().update()}},m=function(e,t,r){return function(){var i,n;i=e.select(t.id),n=r(),i.setAttribute({visible:n})}},g=function(e,t,r,i){return function(){var n,o;n=e.select(t.id),o=r(),"strokewidth"===i?n.visProp.strokewidth=o:(o=u.rgba2rgbo(o),n.visProp[i+"color"]=o[0],n.visProp[i+"opacity"]=o[1])}},b=function(e,t,r){return function(){e.select(t.id).position=r()}},y=function(e,t,r){return function(){e.select(t.id).setStyle(r())}};if(!(p<0)){for(;p>=0;){if(n=(i=r.slice(p+6,f)).indexOf("="),o=i.slice(0,n),s=i.slice(n+1),n=o.indexOf("."),a=o.slice(0,n),l=this.elementsByName[h.unescapeHTML(a)],c=o.slice(n+1).replace(/\s+/g,"").toLowerCase(),s=h.createFunction(s,this,"",!0),h.exists(this.elementsByName[a]))switch(c){case"x":d.push(v(this,l,s,2));break;case"y":d.push(v(this,l,s,1));break;case"visible":d.push(m(this,l,s));break;case"position":d.push(b(this,l,s));break;case"stroke":d.push(g(this,l,s,"stroke"));break;case"style":d.push(y(this,l,s));break;case"strokewidth":d.push(g(this,l,s,"strokewidth"));break;case"fill":d.push(g(this,l,s,"fill"));break;case"label":break;default:e.debug("property '"+c+"' in conditions not yet implemented:"+s)}else e.debug("debug conditions: |"+a+"| undefined");p=(r=r.slice(f+7)).indexOf("<data>"),f=r.indexOf("</data>")}this.updateConditions=function(){var e;for(e=0;e<d.length;e++)d[e]();return this.prepareUpdate().updateElements(),!0},this.updateConditions()}},updateConditions:function(){return!1},calculateSnapSizes:function(){var e=new r(t.COORDS_BY_USER,[0,0],this),i=new r(t.COORDS_BY_USER,[this.options.grid.gridX,this.options.grid.gridY],this),n=e.scrCoords[1]-i.scrCoords[1],o=e.scrCoords[2]-i.scrCoords[2];for(this.options.grid.snapSizeX=this.options.grid.gridX;Math.abs(n)>25;)this.options.grid.snapSizeX*=2,n/=2;for(this.options.grid.snapSizeY=this.options.grid.gridY;Math.abs(o)>25;)this.options.grid.snapSizeY*=2,o/=2;return this},applyZoom:function(){return this.updateCoords().calculateSnapSizes().clearTraces().fullUpdate(),this},zoomIn:function(e,t){var r=this.getBoundingBox(),i=this.attr.zoom.factorx,n=this.attr.zoom.factory,o=(r[2]-r[0])*(1-1/i),s=(r[1]-r[3])*(1-1/n),a=.5,l=.5,c=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX>this.attr.zoom.max&&i>1||this.zoomY>this.attr.zoom.max&&n>1||this.zoomX<c&&i<1||this.zoomY<c&&n<1?this:(h.isNumber(e)&&h.isNumber(t)&&(a=(e-r[0])/(r[2]-r[0]),l=(r[1]-t)/(r[1]-r[3])),this.setBoundingBox([r[0]+o*a,r[1]-s*l,r[2]-o*(1-a),r[3]+s*(1-l)],this.keepaspectratio,"update"),this.applyZoom())},zoomOut:function(e,t){var r=this.getBoundingBox(),i=this.attr.zoom.factorx,n=this.attr.zoom.factory,o=(r[2]-r[0])*(1-i),s=(r[1]-r[3])*(1-n),a=.5,l=.5,c=this.attr.zoom.eps||this.attr.zoom.min||.001;return this.zoomX<c||this.zoomY<c?this:(h.isNumber(e)&&h.isNumber(t)&&(a=(e-r[0])/(r[2]-r[0]),l=(r[1]-t)/(r[1]-r[3])),this.setBoundingBox([r[0]+o*a,r[1]-s*l,r[2]-o*(1-a),r[3]+s*(1-l)],this.keepaspectratio,"update"),this.applyZoom())},zoom100:function(){var e,t,r;return h.exists(this.attr.boundingbox)?this.setBoundingBox(this.attr.boundingbox,this.keepaspectratio,"reset"):(t=((e=this.getBoundingBox())[2]-e[0])*(1-this.zoomX)*.5,r=(e[1]-e[3])*(1-this.zoomY)*.5,this.setBoundingBox([e[0]+t,e[1]-r,e[2]-t,e[3]+r],this.keepaspectratio,"reset")),this.applyZoom()},zoomAllPoints:function(){var e,t,r,i,n=0,o=0,s=0,a=0,l=this.objectsList.length;for(e=0;e<l;e++)i=this.objectsList[e],h.isPoint(i)&&i.visPropCalc.visible&&(i.coords.usrCoords[1]<n?n=i.coords.usrCoords[1]:i.coords.usrCoords[1]>o&&(o=i.coords.usrCoords[1]),i.coords.usrCoords[2]>a?a=i.coords.usrCoords[2]:i.coords.usrCoords[2]<s&&(s=i.coords.usrCoords[2]));return t=50/this.unitX,r=50/this.unitY,this.setBoundingBox([n-t,a+r,o+t,s-r],this.keepaspectratio,"update"),this.applyZoom()},zoomElements:function(e){var t,r,i,n,o,s,a,l=[1/0,-1/0,-1/0,1/0];if(!h.isArray(e)||0===e.length)return this;for(t=0;t<e.length;t++)r=this.select(e[t]).bounds(),h.isArray(r)&&(r[0]<l[0]&&(l[0]=r[0]),r[1]>l[1]&&(l[1]=r[1]),r[2]>l[2]&&(l[2]=r[2]),r[3]<l[3]&&(l[3]=r[3]));return h.isArray(l)&&(i=.5*(l[0]+l[2]),n=.5*(l[1]+l[3]),o=1.5*(l[2]-l[0])*.5,s=1.5*(l[1]-l[3])*.5,a=Math.max(o,s),this.setBoundingBox([i-a,n+a,i+a,n-a],this.keepaspectratio,"update")),this},setZoom:function(e,t){var r=this.attr.zoom.factorx,i=this.attr.zoom.factory;return this.attr.zoom.factorx=e/this.zoomX,this.attr.zoom.factory=t/this.zoomY,this.zoomIn(),this.attr.zoom.factorx=r,this.attr.zoom.factory=i,this},removeObject:function(r,i){var n,o;if(h.isArray(r)){for(o=0;o<r.length;o++)this.removeObject(r[o]);return this}if(r=this.select(r),!h.exists(r)||h.isString(r))return this;try{for(n in r.childElements)r.childElements.hasOwnProperty(n)&&r.childElements[n].board.removeObject(r.childElements[n]);for(n in r.objects)r.objects.hasOwnProperty(n)&&r.objects[n].board.removeObject(r.objects[n]);if(i)for(n in this.objects)this.objects.hasOwnProperty(n)&&h.exists(this.objects[n].childElements)&&h.exists(this.objects[n].childElements.hasOwnProperty(r.id))&&(delete this.objects[n].childElements[r.id],delete this.objects[n].descendants[r.id]);else if(h.exists(r.ancestors))for(n in r.ancestors)r.ancestors.hasOwnProperty(n)&&h.exists(r.ancestors[n].childElements)&&h.exists(r.ancestors[n].childElements.hasOwnProperty(r.id))&&(delete r.ancestors[n].childElements[r.id],delete r.ancestors[n].descendants[r.id]);if(r._pos>-1)for(this.objectsList.splice(r._pos,1),n=r._pos;n<this.objectsList.length;n++)this.objectsList[n]._pos--;else r.type!==t.OBJECT_TYPE_TURTLE&&e.debug("Board.removeObject: object "+r.id+" not found in list.");delete this.objects[r.id],delete this.elementsByName[r.name],r.visProp&&h.evaluate(r.visProp.trace)&&r.clearTrace(),h.exists(r.remove)&&r.remove()}catch(t){e.debug(r.id+": Could not be removed: "+t)}return this.update(),this},removeAncestors:function(e){var t;for(t in e.ancestors)e.ancestors.hasOwnProperty(t)&&this.removeAncestors(e.ancestors[t]);return this.removeObject(e),this},initGeonextBoard:function(){var e,t,r;return e=this.create("point",[0,0],{id:this.id+"g00e0",name:"Ursprung",withLabel:!1,visible:!1,fixed:!0}),t=this.create("point",[1,0],{id:this.id+"gX0e0",name:"Punkt_1_0",withLabel:!1,visible:!1,fixed:!0}),r=this.create("point",[0,1],{id:this.id+"gY0e0",name:"Punkt_0_1",withLabel:!1,visible:!1,fixed:!0}),this.create("line",[e,t],{id:this.id+"gXLe0",name:"X-Achse",withLabel:!1,visible:!1}),this.create("line",[e,r],{id:this.id+"gYLe0",name:"Y-Achse",withLabel:!1,visible:!1}),this},resizeContainer:function(e,t,r,i){var n;return i||(n=this.getBoundingBox()),this.canvasWidth=parseFloat(e),this.canvasHeight=parseFloat(t),r||(this.containerObj.style.width=this.canvasWidth+"px",this.containerObj.style.height=this.canvasHeight+"px"),this.renderer.resize(this.canvasWidth,this.canvasHeight),i||this.setBoundingBox(n,this.keepaspectratio,"keep"),this},showDependencies:function(){var e,t,r,i,n;for(e in t="<p>\n",this.objects)if(this.objects.hasOwnProperty(e)){for(r in n=0,this.objects[e].childElements)this.objects[e].childElements.hasOwnProperty(r)&&(n+=1);for(r in n>=0&&(t+="<strong>"+this.objects[e].id+":</strong> "),this.objects[e].childElements)this.objects[e].childElements.hasOwnProperty(r)&&(t+=this.objects[e].childElements[r].id+"("+this.objects[e].childElements[r].name+"), ");t+="<p>\n"}return t+="</p>\n",(i=window.open()).document.open(),i.document.write(t),i.document.close(),this},showXML:function(){var e=window.open("");return e.document.open(),e.document.write("<pre>"+h.escapeHTML(this.xmlString)+"</pre>"),e.document.close(),this},prepareUpdate:function(){var e,t,r=this.objectsList.length;for(e=0;e<r;e++)(t=this.objectsList[e]).needsUpdate=t.needsRegularUpdate||this.needsFullUpdate;for(e in this.groups)this.groups.hasOwnProperty(e)&&((t=this.groups[e]).needsUpdate=t.needsRegularUpdate||this.needsFullUpdate);return this},updateElements:function(e){var r,i;for(e=this.select(e),r=0;r<this.objectsList.length;r++)i=this.objectsList[r],this.needsFullUpdate&&i.elementClass===t.OBJECT_CLASS_TEXT&&i.updateSize(),i.update(!h.exists(e)||i.id!==e.id).updateVisibility();for(r in this.groups)this.groups.hasOwnProperty(r)&&this.groups[r].update(e);return this},updateRenderer:function(){var e,t=this.objectsList.length;if("canvas"===this.renderer.type)this.updateRendererCanvas();else for(e=0;e<t;e++)this.objectsList[e].updateRenderer();return this},updateRendererCanvas:function(){var e,t,r,i,n,o=this.objectsList.length,s=this.options.layer,a=this.options.layer.numlayers,l=Number.NEGATIVE_INFINITY;for(r=0;r<a;r++){for(n in i=Number.POSITIVE_INFINITY,s)s.hasOwnProperty(n)&&s[n]>l&&s[n]<i&&(i=s[n]);for(l=i,e=0;e<o;e++)(t=this.objectsList[e]).visProp.layer===i&&t.prepareUpdate().updateRenderer()}return this},addHook:function(t,r,i){return e.deprecated("Board.addHook()","Board.on()"),r=h.def(r,"update"),i=h.def(i,this),this.hooks.push([r,t]),this.on(r,t,i),this.hooks.length-1},addEvent:e.shortcut(e.Board.prototype,"on"),removeHook:function(t){return e.deprecated("Board.removeHook()","Board.off()"),this.hooks[t]&&(this.off(this.hooks[t][0],this.hooks[t][1]),this.hooks[t]=null),this},removeEvent:e.shortcut(e.Board.prototype,"off"),updateHooks:function(t){var r=Array.prototype.slice.call(arguments,0);return e.deprecated("Board.updateHooks()","Board.triggerEventHandlers()"),r[0]=h.def(r[0],"update"),this.triggerEventHandlers([r[0]],arguments),this},addChild:function(e){return h.exists(e)&&h.exists(e.containerObj)&&(this.dependentBoards.push(e),this.update()),this},removeChild:function(e){var t;for(t=this.dependentBoards.length-1;t>=0;t--)this.dependentBoards[t]===e&&this.dependentBoards.splice(t,1);return this},update:function(e){var t,r,i,n,o;if(this.inUpdate||this.isSuspendedUpdate)return this;for(this.inUpdate=!0,"all"===this.attr.minimizereflow&&this.containerObj&&"vml"!==this.renderer.type&&(o=document.activeElement,n=this.renderer.removeToInsertLater(this.containerObj)),"svg"===this.attr.minimizereflow&&"svg"===this.renderer.type&&(o=document.activeElement,n=this.renderer.removeToInsertLater(this.renderer.svgRoot)),this.prepareUpdate().updateElements(e).updateConditions(),this.renderer.suspendRedraw(this),this.updateRenderer(),this.renderer.unsuspendRedraw(),this.triggerEventHandlers(["update"],[]),n&&(n(),o.focus()),r=this.dependentBoards.length,t=0;t<r;t++)i=this.dependentBoards[t],h.exists(i)&&i!==this&&(i.updateQuality=this.updateQuality,i.prepareUpdate().updateElements().updateConditions(),i.renderer.suspendRedraw(),i.updateRenderer(),i.renderer.unsuspendRedraw(),i.triggerEventHandlers(["update"],[]));return this.inUpdate=!1,this},fullUpdate:function(){return this.needsFullUpdate=!0,this.update(),this.needsFullUpdate=!1,this},addGrid:function(){return this.create("grid",[]),this},removeGrids:function(){var e;for(e=0;e<this.grids.length;e++)this.removeObject(this.grids[e]);return this.grids.length=0,this.update(),this},create:function(t,r,i){var n,o;for(t=t.toLowerCase(),h.exists(r)||(r=[]),h.exists(i)||(i={}),o=0;o<r.length;o++)!h.isString(r[o])||"text"===t&&2===o||"solidofrevolution3d"===t&&2===o||!("input"!==t&&"checkbox"!==t&&"button"!==t||2!==o&&3!==o)||"curve"===t&&o>0||(r[o]=this.select(r[o]));if(!h.isFunction(e.elements[t]))throw new Error("JSXGraph: create: Unknown element type given: "+t);return n=e.elements[t](this,r,i),h.exists(n)?(n.prepareUpdate&&n.update&&n.updateRenderer&&n.fullUpdate(),n):(e.debug("JSXGraph: create: failure creating "+t),n)},createElement:function(){return e.deprecated("Board.createElement()","Board.create()"),this.create.apply(this,arguments)},clearTraces:function(){var e;for(e=0;e<this.objectsList.length;e++)this.objectsList[e].clearTrace();return this.numTraces=0,this},suspendUpdate:function(){return this.inUpdate||(this.isSuspendedUpdate=!0),this},unsuspendUpdate:function(){return this.isSuspendedUpdate&&(this.isSuspendedUpdate=!1,this.fullUpdate()),this},setBoundingBox:function(e,t,r){var i,n,o,s,a=0,l=0,c=p.getDimensions(this.container,this.document);return h.isArray(e)?(e[0]<this.maxboundingbox[0]||e[1]>this.maxboundingbox[1]||e[2]>this.maxboundingbox[2]||e[3]<this.maxboundingbox[3]||(h.exists(r)||(r="reset"),o=this.unitX,s=this.unitY,this.canvasWidth=parseInt(c.width,10),this.canvasHeight=parseInt(c.height,10),n=this.canvasWidth,i=this.canvasHeight,t?(this.unitX=n/(e[2]-e[0]),this.unitY=i/(e[1]-e[3]),Math.abs(this.unitX)<Math.abs(this.unitY)?(this.unitY=Math.abs(this.unitX)*this.unitY/Math.abs(this.unitY),l=.5*(i/this.unitY-(e[1]-e[3]))):(this.unitX=Math.abs(this.unitY)*this.unitX/Math.abs(this.unitX),a=.5*(n/this.unitX-(e[2]-e[0]))),this.keepaspectratio=!0):(this.unitX=n/(e[2]-e[0]),this.unitY=i/(e[1]-e[3]),this.keepaspectratio=!1),this.moveOrigin(-this.unitX*(e[0]-a),this.unitY*(e[1]+l)),"update"===r?(this.zoomX*=this.unitX/o,this.zoomY*=this.unitY/s):"reset"===r&&(this.zoomX=h.exists(this.attr.zoomx)?this.attr.zoomx:1,this.zoomY=h.exists(this.attr.zoomy)?this.attr.zoomy:1)),this):this},getBoundingBox:function(){var e=new r(t.COORDS_BY_SCREEN,[0,0],this).usrCoords,i=new r(t.COORDS_BY_SCREEN,[this.canvasWidth,this.canvasHeight],this).usrCoords;return[e[1],e[2],i[1],i[2]]},addAnimation:function(e){var t=this;return this.animationObjects[e.id]=e,this.animationIntervalCode||(this.animationIntervalCode=window.setInterval((function(){t.animate()}),e.board.attr.animationdelay)),this},stopAllAnimation:function(){var e;for(e in this.animationObjects)this.animationObjects.hasOwnProperty(e)&&h.exists(this.animationObjects[e])&&(this.animationObjects[e]=null,delete this.animationObjects[e]);return window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode,this},animate:function(){var e,r,i,n,o,s,a,l,c=0,u=null;for(r in this.animationObjects)if(this.animationObjects.hasOwnProperty(r)&&h.exists(this.animationObjects[r])){if(c+=1,(i=this.animationObjects[r]).animationPath&&(n=h.isFunction(i.animationPath)?i.animationPath((new Date).getTime()-i.animationStart):i.animationPath.pop(),!h.exists(n)||!h.isArray(n)&&isNaN(n)?delete i.animationPath:(i.setPositionDirectly(t.COORDS_BY_USER,n),i.fullUpdate(),u=i)),i.animationData){for(o in a=0,i.animationData)i.animationData.hasOwnProperty(o)&&(s=i.animationData[o].pop(),h.exists(s)?(a+=1,(e={})[o]=s,i.setAttribute(e)):delete i.animationData[s]);0===a&&delete i.animationData}h.exists(i.animationData)||h.exists(i.animationPath)||(this.animationObjects[r]=null,delete this.animationObjects[r],h.exists(i.animationCallback)&&(l=i.animationCallback,i.animationCallback=null,l()))}return 0===c?(window.clearInterval(this.animationIntervalCode),delete this.animationIntervalCode):this.update(u),this},migratePoint:function(e,t,r){var i,n,o,s,a,l,c=!1;for(n in e=this.select(e),t=this.select(t),h.exists(e.label)&&(l=e.label.id,c=!0,this.removeObject(e.label)),e.childElements)if(e.childElements.hasOwnProperty(n)){for(o in s=!1,i=e.childElements[n])i.hasOwnProperty(o)&&i[o]===e&&(i[o]=t,s=!0);for(s&&delete e.childElements[n],a=0;a<i.parents.length;a++)i.parents[a]===e.id&&(i.parents[a]=t.id);t.addChild(i)}return r&&(c&&(delete t.childElements[l],delete t.descendants[l]),t.label&&this.removeObject(t.label),delete this.elementsByName[t.name],t.name=e.name,c&&t.createLabel()),this.removeObject(e),h.exists(t.name)&&""!==t.name&&(this.elementsByName[t.name]=t),this.fullUpdate(),this},emulateColorblindness:function(t){var r,i;if(h.exists(t)||(t="none"),this.currentCBDef===t)return this;for(r in this.objects)this.objects.hasOwnProperty(r)&&(i=this.objects[r],"none"!==t?("none"===this.currentCBDef&&(i.visPropOriginal={strokecolor:i.visProp.strokecolor,fillcolor:i.visProp.fillcolor,highlightstrokecolor:i.visProp.highlightstrokecolor,highlightfillcolor:i.visProp.highlightfillcolor}),i.setAttribute({strokecolor:u.rgb2cb(h.evaluate(i.visPropOriginal.strokecolor),t),fillcolor:u.rgb2cb(h.evaluate(i.visPropOriginal.fillcolor),t),highlightstrokecolor:u.rgb2cb(h.evaluate(i.visPropOriginal.highlightstrokecolor),t),highlightfillcolor:u.rgb2cb(h.evaluate(i.visPropOriginal.highlightfillcolor),t)})):h.exists(i.visPropOriginal)&&e.extend(i.visProp,i.visPropOriginal));return this.currentCBDef=t,this.update(),this},select:function(e,t){var r,i,n,o,s=e;if(null===s)return s;if(h.isString(s)&&""!==s)h.exists(this.objects[s])?s=this.objects[s]:h.exists(this.elementsByName[s])?s=this.elementsByName[s]:h.exists(this.groups[s])&&(s=this.groups[s]);else if(!t&&(h.isFunction(s)||h.isObject(s)&&!h.isFunction(s.setAttribute))){for(i={},o=(r=h.filterElements(this.objectsList,s)).length,n=0;n<o;n++)i[r[n].id]=r[n];s=new f(i)}else h.isObject(s)&&h.exists(s.id)&&!h.exists(this.objects[s.id])&&(s=null);return s},hasPoint:function(e,t){var r=e,i=t,n=this.getBoundingBox();return h.exists(e)&&h.isArray(e.usrCoords)&&(r=e.usrCoords[1],i=e.usrCoords[2]),!!(h.isNumber(r)&&h.isNumber(i)&&n[0]<r&&r<n[2]&&n[1]>i&&i>n[3])},updateCSSTransforms:function(){var e=this.containerObj,t=e,r=e;for(this.cssTransMat=p.getCSSTransformMatrix(t),t=t.offsetParent;t;){for(this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(t),this.cssTransMat),r=r.parentNode;r!==t;)this.cssTransMat=o.matMatMult(p.getCSSTransformMatrix(t),this.cssTransMat),r=r.parentNode;t=t.offsetParent}return this.cssTransMat=o.inverse(this.cssTransMat),this},startSelectionMode:function(){this.selectingMode=!0,this.selectionPolygon.setAttribute({visible:!0}),this.selectingBox=[[0,0],[0,0]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate()},stopSelectionMode:function(){return this.selectingMode=!1,this.selectionPolygon.setAttribute({visible:!1}),[this.selectionPolygon.vertices[0].coords,this.selectionPolygon.vertices[2].coords]},_startSelecting:function(e){this.isSelecting=!0,this.selectingBox=[[e[0],e[1]],[e[0],e[1]]],this._setSelectionPolygonFromBox()},_moveSelecting:function(e){this.isSelecting&&(this.selectingBox[1]=[e[0],e[1]],this._setSelectionPolygonFromBox(),this.selectionPolygon.fullUpdate())},_stopSelecting:function(e){var t=this.getMousePosition(e);this.isSelecting=!1,this.selectingBox[1]=[t[0],t[1]],this._setSelectionPolygonFromBox()},_setSelectionPolygonFromBox:function(){var t=this.selectingBox[0],r=this.selectingBox[1];this.selectionPolygon.vertices[0].setPositionDirectly(e.COORDS_BY_SCREEN,[t[0],t[1]]),this.selectionPolygon.vertices[1].setPositionDirectly(e.COORDS_BY_SCREEN,[t[0],r[1]]),this.selectionPolygon.vertices[2].setPositionDirectly(e.COORDS_BY_SCREEN,[r[0],r[1]]),this.selectionPolygon.vertices[3].setPositionDirectly(e.COORDS_BY_SCREEN,[r[0],t[1]])},_testForSelection:function(e){this._isRequiredKeyPressed(e,"selection")&&(h.exists(this.selectionPolygon)||this._createSelectionPolygon(this.attr),this.startSelectionMode())},_createSelectionPolygon:function(e){var t;return h.exists(this.selectionPolygon)||!0===(t=h.copyAttributes(e,i,"board","selection")).enabled&&(this.selectionPolygon=this.create("polygon",[[0,0],[0,0],[0,0],[0,0]],t)),this},__evt__down:function(e){},__evt__mousedown:function(e){},__evt__pendown:function(e){},__evt__pointerdown:function(e){},__evt__touchstart:function(e){},__evt__up:function(e){},__evt__mouseup:function(e){},__evt__pointerup:function(e){},__evt__touchend:function(e){},__evt__move:function(e,t){},__evt__mousemove:function(e,t){},__evt__penmove:function(e,t){},__evt__pointermove:function(e,t){},__evt__touchmove:function(e,t){},__evt__hit:function(e,t,r){},__evt__mousehit:function(e,t,r){},__evt__update:function(){},__evt__boundingbox:function(){},__evt__startselecting:function(){},__evt__mousestartselecting:function(){},__evt__pointerstartselecting:function(){},__evt__touchstartselecting:function(){},__evt__stopselecting:function(){},__evt__mousestopselecting:function(){},__evt__pointerstopselecting:function(){},__evt__touchstopselecting:function(){},__evt__moveselecting:function(){},__evt__mousemoveselecting:function(){},__evt__pointermoveselecting:function(){},__evt__touchmoveselecting:function(){},__evt:function(){},toFullscreen:function(e){var t,r,i;return e=e||this.container,this._fullscreen_inner_id=e,i=document.getElementById(e),t="fullscreenwrap_"+e,this.document.getElementById(t)?r=this.document.getElementById(t):((r=document.createElement("div")).classList.add("JXG_wrap_private"),r.setAttribute("id",t),i.parentNode.insertBefore(r,i),r.appendChild(i)),this._fullscreen_res=p._getScaleFactors(i),r.requestFullscreen=r.requestFullscreen||r.webkitRequestFullscreen||r.mozRequestFullScreen||r.msRequestFullscreen,r.requestFullscreen&&r.requestFullscreen(),this},fullscreenListener:function(e){var t,r,i;if(r=this._fullscreen_inner_id,h.exists(r)){if(document.fullscreenElement=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullscreenElement||document.msFullscreenElement,i=document.getElementById(r),document.fullscreenElement)t=this._fullscreen_res,i._cssFullscreenStore={id:document.fullscreenElement.id,isFullscreen:!0,margin:i.style.margin,width:i.style.width,scale:t.scale,vshift:t.vshift},i.style.margin="",i.style.width=t.width+"px",p.scaleJSXGraphDiv(document.fullscreenElement.id,r,t.scale,t.vshift),document.fullscreenElement=null;else if(h.exists(i._cssFullscreenStore)){try{document.styleSheets[document.styleSheets.length-1].deleteRule(0)}catch(e){console.log("JSXGraph: Could not remove CSS rules for full screen mode")}i._cssFullscreenStore.isFullscreen=!1,i.style.margin=i._cssFullscreenStore.margin,i.style.width=i._cssFullscreenStore.width}this.updateCSSTransforms()}},createRoulette:function(e,t,r,i,o,s,l){var c=this;return new function(){var u,h=0,d=0,p=0,f=r,v=n.root((function(r){var i=e.X(f),n=e.Y(f),o=t.X(r),s=t.Y(r);return(i-o)*(i-o)+(n-s)*(n-s)}),[0,2*Math.PI]),m=0,g=0,b=c.create("transform",[function(){return h}],{type:"rotate"}),y=c.create("transform",[function(){return h},function(){return e.X(f)},function(){return e.Y(f)}],{type:"rotate"}),_=c.create("transform",[function(){return d},function(){return p}],{type:"translate"}),C=function(e,t,r){var i=n.D(e.X)(t),o=n.D(e.Y)(t),s=n.D(e.X)(r),a=n.D(e.Y)(r),l=n.D(e.X)(.5*(t+r)),c=n.D(e.Y)(.5*(t+r)),u=Math.sqrt(i*i+o*o),h=Math.sqrt(s*s+a*a);return(u+4*Math.sqrt(l*l+c*c)+h)*(r-t)/6},x=function(e){return u-C(t,v,e)},w=Math.PI/18,P=9*w,S=null;return this.rolling=function(){var r,s,S,E,O;u=C(e,f,m=f+o*i),g=n.root(x,v),r=new a(e.X(m),e.Y(m)),s=new a(t.X(g),t.Y(g)),S=new a(n.D(e.X)(m),n.D(e.Y)(m)),E=new a(n.D(t.X)(g),n.D(t.Y)(g)),O=a.C.div(S,E),h=Math.atan2(O.imaginary,O.real),O.div(a.C.abs(O)),O.mult(s),d=r.real-O.real,p=r.imaginary-O.imaginary,h<-w&&h>-P?(h=-w,y.applyOnce(l)):h>w&&h<P?(h=w,y.applyOnce(l)):(b.applyOnce(l),_.applyOnce(l),f=m,v=g),c.update()},this.start=function(){return s>0&&(S=window.setInterval(this.rolling,s)),this},this.stop=function(){return window.clearInterval(S),this},this}}}),e.Board})),define("renderer/svg",["jxg","options","renderer/abstract","base/constants","utils/type","utils/color","utils/base64","math/numerics"],(function(e,t,r,i,n,o,s,a){"use strict";return e.SVGRenderer=function(e,r){var i;for(this.type="svg",this.isIE=-1!==navigator.appVersion.indexOf("MSIE")||navigator.userAgent.match(/Trident\//),this.svgRoot=null,this.svgNamespace="http://www.w3.org/2000/svg",this.xlinkNamespace="http://www.w3.org/1999/xlink",this.container=e,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.svgRoot=this.container.ownerDocument.createElementNS(this.svgNamespace,"svg"),this.svgRoot.style.overflow="hidden",this.svgRoot.style.display="block",this.resize(r.width,r.height),this.container.appendChild(this.svgRoot),this.defs=this.container.ownerDocument.createElementNS(this.svgNamespace,"defs"),this.svgRoot.appendChild(this.defs),this.filter=this.container.ownerDocument.createElementNS(this.svgNamespace,"filter"),this.filter.setAttributeNS(null,"id",this.container.id+"_f1"),this.filter.setAttributeNS(null,"width","300%"),this.filter.setAttributeNS(null,"height","300%"),this.filter.setAttributeNS(null,"filterUnits","userSpaceOnUse"),this.feOffset=this.container.ownerDocument.createElementNS(this.svgNamespace,"feOffset"),this.feOffset.setAttributeNS(null,"result","offOut"),this.feOffset.setAttributeNS(null,"in","SourceAlpha"),this.feOffset.setAttributeNS(null,"dx","5"),this.feOffset.setAttributeNS(null,"dy","5"),this.filter.appendChild(this.feOffset),this.feGaussianBlur=this.container.ownerDocument.createElementNS(this.svgNamespace,"feGaussianBlur"),this.feGaussianBlur.setAttributeNS(null,"result","blurOut"),this.feGaussianBlur.setAttributeNS(null,"in","offOut"),this.feGaussianBlur.setAttributeNS(null,"stdDeviation","3"),this.filter.appendChild(this.feGaussianBlur),this.feBlend=this.container.ownerDocument.createElementNS(this.svgNamespace,"feBlend"),this.feBlend.setAttributeNS(null,"in","SourceGraphic"),this.feBlend.setAttributeNS(null,"in2","blurOut"),this.feBlend.setAttributeNS(null,"mode","normal"),this.filter.appendChild(this.feBlend),this.defs.appendChild(this.filter),this.layer=[],i=0;i<t.layer.numlayers;i++)this.layer[i]=this.container.ownerDocument.createElementNS(this.svgNamespace,"g"),this.svgRoot.appendChild(this.layer[i]);this.supportsForeignObject=document.implementation.hasFeature("http://w3.org/TR/SVG11/feature#Extensibility","1.1"),this.supportsForeignObject&&(this.foreignObjLayer=this.container.ownerDocument.createElementNS(this.svgNamespace,"foreignObject"),this.foreignObjLayer.setAttribute("display","none"),this.foreignObjLayer.setAttribute("x",0),this.foreignObjLayer.setAttribute("y",0),this.foreignObjLayer.setAttribute("width","100%"),this.foreignObjLayer.setAttribute("height","100%"),this.foreignObjLayer.setAttribute("id",this.container.id+"_foreignObj"),this.svgRoot.appendChild(this.foreignObjLayer)),this.dashArray=["2, 2","5, 5","10, 10","20, 20","20, 10, 10, 10","20, 5, 10, 5"]},e.SVGRenderer.prototype=new r,e.extend(e.SVGRenderer.prototype,{_createArrowHead:function(e,t,r){var o,s,a,l,c=e.id+"Triangle";return n.exists(t)&&(c+=t),(o=this.createPrim("marker",c)).setAttributeNS(null,"stroke",n.evaluate(e.visProp.strokecolor)),o.setAttributeNS(null,"stroke-opacity",n.evaluate(e.visProp.strokeopacity)),o.setAttributeNS(null,"fill",n.evaluate(e.visProp.strokecolor)),o.setAttributeNS(null,"fill-opacity",n.evaluate(e.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",0),o.setAttributeNS(null,"orient","auto"),o.setAttributeNS(null,"markerUnits","strokeWidth"),s=this.container.ownerDocument.createElementNS(this.svgNamespace,"path"),l=5,"End"===t?(a=0,2===r?s.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 L 5,5 z"):3===r?s.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z"):4===r?(l=3.31,s.setAttributeNS(null,"d","M 0.00,3.31 C 3.53,3.84 7.13,4.50 10.00,6.63 C 9.33,5.52 8.67,4.42 8.00,3.31 C 8.67,2.21 9.33,1.10 10.00,0.00 C 7.13,2.13 3.53,2.79 0.00,3.31")):5===r?(l=3.28,s.setAttributeNS(null,"d","M 0.00,3.28 C 3.39,4.19 6.81,5.07 10.00,6.55 C 9.38,5.56 9.00,4.44 9.00,3.28 C 9.00,2.11 9.38,0.99 10.00,0.00 C 6.81,1.49 3.39,2.37 0.00,3.28")):6===r?(l=2.84,s.setAttributeNS(null,"d","M 0.00,2.84 C 3.39,3.59 6.79,4.35 10.00,5.68 C 9.67,4.73 9.33,3.78 9.00,2.84 C 9.33,1.89 9.67,0.95 10.00,0.00 C 6.79,1.33 3.39,2.09 0.00,2.84")):7===r?(l=5.2,s.setAttributeNS(null,"d","M 0.00,5.20 C 4.04,5.20 7.99,6.92 10.00,10.39 M 10.00,0.00 C 7.99,3.47 4.04,5.20 0.00,5.20")):s.setAttributeNS(null,"d","M 10,0 L 0,5 L 10,10 z"),e.elementClass===i.OBJECT_CLASS_LINE&&(a=2===r?4.9:3===r?3.3:4===r||5===r||6===r?6.66:7===r?0:10)):(a=10,2===r?s.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 L 5,5 z"):3===r?(a=3.3,s.setAttributeNS(null,"d","M 0,0 L 3.33,0 L 3.33,10 L 0,10 z")):4===r?(l=3.31,s.setAttributeNS(null,"d","M 10.00,3.31 C 6.47,3.84 2.87,4.50 0.00,6.63 C 0.67,5.52 1.33,4.42 2.00,3.31 C 1.33,2.21 0.67,1.10 0.00,0.00 C 2.87,2.13 6.47,2.79 10.00,3.31")):5===r?(l=3.28,s.setAttributeNS(null,"d","M 10.00,3.28 C 6.61,4.19 3.19,5.07 0.00,6.55 C 0.62,5.56 1.00,4.44 1.00,3.28 C 1.00,2.11 0.62,0.99 0.00,0.00 C 3.19,1.49 6.61,2.37 10.00,3.28")):6===r?(l=2.84,s.setAttributeNS(null,"d","M 10.00,2.84 C 6.61,3.59 3.21,4.35 0.00,5.68 C 0.33,4.73 0.67,3.78 1.00,2.84 C 0.67,1.89 0.33,0.95 0.00,0.00 C 3.21,1.33 6.61,2.09 10.00,2.84")):7===r?(l=5.2,s.setAttributeNS(null,"d","M 10.00,5.20 C 5.96,5.20 2.01,6.92 0.00,10.39 M 0.00,0.00 C 2.01,3.47 5.96,5.20 10.00,5.20")):s.setAttributeNS(null,"d","M 0,0 L 10,5 L 0,10 z"),e.elementClass===i.OBJECT_CLASS_LINE&&(a=2===r?5.1:3===r?.02:4===r||5===r||6===r?3.33:7===r?10:.05)),7===r&&(o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-width",1)),o.setAttributeNS(null,"refY",l),o.setAttributeNS(null,"refX",a),o.appendChild(s),o},_setArrowColor:function(e,t,r,i,o){e&&(n.isString(t)&&(7!==o?this._setAttribute((function(){e.setAttributeNS(null,"stroke",t),e.setAttributeNS(null,"fill",t),e.setAttributeNS(null,"stroke-opacity",r),e.setAttributeNS(null,"fill-opacity",r)}),i.visPropOld.fillcolor):this._setAttribute((function(){e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke",t),e.setAttributeNS(null,"stroke-opacity",r)}),i.visPropOld.fillcolor)),this.isIE&&i.rendNode.parentNode.insertBefore(i.rendNode,i.rendNode))},_setArrowWidth:function(e,t,r,i){var n,o;e&&(o=(n=t)*i,e.setAttributeNS(null,"viewBox","0 0 "+10*n+" "+10*n),e.setAttributeNS(null,"markerHeight",o),e.setAttributeNS(null,"markerWidth",o),e.setAttributeNS(null,"display","inherit"),this.isIE&&r.parentNode.insertBefore(r,r))},updateTicks:function(e){var t,r,i,o,s,a,l,c,u="",h=e.ticks.length,d=!0;for(t=0;t<h;t++){for(s=(i=e.ticks[t])[0],a=i[1],l=s.length,c=" M "+s[0]+" "+a[0],n.isNumber(s[0])||(d=!1),r=1;d&&r<l;++r)n.isNumber(s[r])?c+=" L "+s[r]+" "+a[r]:d=!1;d&&(u+=c)}o=e.rendNode,n.exists(o)||(o=this.createPrim("path",e.id),this.appendChildPrim(o,n.evaluate(e.visProp.layer)),e.rendNode=o),o.setAttributeNS(null,"stroke",n.evaluate(e.visProp.strokecolor)),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"stroke-opacity",n.evaluate(e.visProp.strokeopacity)),o.setAttributeNS(null,"stroke-width",n.evaluate(e.visProp.strokewidth)),this.updatePathPrim(o,u,e.board)},displayCopyright:function(e,t){var r,i=this.createPrim("text","licenseText");i.setAttributeNS(null,"x","20px"),i.setAttributeNS(null,"y",2+t+"px"),i.setAttributeNS(null,"style","font-family:Arial,Helvetica,sans-serif; font-size:"+t+"px; fill:#356AA0;  opacity:0.3;"),r=this.container.ownerDocument.createTextNode(e),i.appendChild(r),this.appendChildPrim(i,0)},drawInternalText:function(e){var t=this.createPrim("text",e.id);return t.style.whiteSpace="nowrap",e.rendNodeText=this.container.ownerDocument.createTextNode(""),t.appendChild(e.rendNodeText),this.appendChildPrim(t,n.evaluate(e.visProp.layer)),t},updateInternalText:function(e){var t,r=e.plaintext,i=e.getAnchorX(),o=e.getAnchorY();e.rendNode.getAttributeNS(null,"class")!==e.visProp.cssclass&&(e.rendNode.setAttributeNS(null,"class",n.evaluate(e.visProp.cssclass)),e.needsSizeUpdate=!0),isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])||(t=e.coords.scrCoords[1],e.visPropOld.left!==i+t&&(e.rendNode.setAttributeNS(null,"x",t+"px"),"left"===i?e.rendNode.setAttributeNS(null,"text-anchor","start"):"right"===i?e.rendNode.setAttributeNS(null,"text-anchor","end"):"middle"===i&&e.rendNode.setAttributeNS(null,"text-anchor","middle"),e.visPropOld.left=i+t),t=e.coords.scrCoords[2],e.visPropOld.top!==o+t&&(e.rendNode.setAttributeNS(null,"y",t+.5*this.vOffsetText+"px"),"bottom"===o?e.rendNode.setAttributeNS(null,"dominant-baseline","text-after-edge"):"top"===o?e.rendNode.setAttributeNS(null,"dy","1.6ex"):"middle"===o&&e.rendNode.setAttributeNS(null,"dy","0.6ex"),e.visPropOld.top=o+t)),e.htmlStr!==r&&(e.rendNodeText.data=r,e.htmlStr=r),this.transformImage(e,e.transformations)},updateInternalTextStyle:function(e,t,r,i){this.setObjectFillColor(e,t,r)},drawImage:function(e){var t=this.createPrim("image",e.id);t.setAttributeNS(null,"preserveAspectRatio","none"),this.appendChildPrim(t,n.evaluate(e.visProp.layer)),e.rendNode=t,this.updateImage(e)},transformImage:function(e,t){var r,i=e.rendNode,n="";t.length>0&&(n+=" matrix("+[(r=this.joinTransforms(e,t))[1][1],r[2][1],r[1][2],r[2][2],r[1][0],r[2][0]].join(",")+") ",i.setAttributeNS(null,"transform",n))},updateImageURL:function(e){var t=n.evaluate(e.url);return e._src!==t&&(e.imgIsLoaded=!1,e.rendNode.setAttributeNS(this.xlinkNamespace,"xlink:href",t),e._src=t,!0)},updateImageStyle:function(e,t){var r=n.evaluate(t?e.visProp.highlightcssclass:e.visProp.cssclass);e.rendNode.setAttributeNS(null,"class",r)},drawForeignObject:function(e){e.rendNode=this.appendChildPrim(this.createPrim("foreignObject",e.id),n.evaluate(e.visProp.layer)),this.appendNodesToElement(e,"foreignObject"),this.updateForeignObject(e)},updateForeignObject:function(e){e._useUserSize?e.rendNode.style.overflow="hidden":e.rendNode.style.overflow="visible",this.updateRectPrim(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),e.rendNode.innerHTML=e.content,this._updateVisual(e,{stroke:!0,dash:!0},!0)},appendChildPrim:function(e,r){return n.exists(r)?r>=t.layer.numlayers&&(r=t.layer.numlayers-1):r=0,this.layer[r].appendChild(e),e},createPrim:function(e,t){var r=this.container.ownerDocument.createElementNS(this.svgNamespace,e);return r.setAttributeNS(null,"id",this.container.id+"_"+t),r.style.position="absolute","path"===e&&(r.setAttributeNS(null,"stroke-linecap","round"),r.setAttributeNS(null,"stroke-linejoin","round"),r.setAttributeNS(null,"fill-rule","evenodd")),r},remove:function(e){n.exists(e)&&n.exists(e.parentNode)&&e.parentNode.removeChild(e)},setLayer:function(e,r){n.exists(r)?r>=t.layer.numlayers&&(r=t.layer.numlayers-1):r=0,this.layer[r].appendChild(e.rendNode)},makeArrows:function(e,t){var r,i=t.evFirst,o=t.evLast;e.visPropOld.firstarrow!==i||e.visPropOld.lastarrow!==o?(i?(r=e.rendNodeTriangleStart,n.exists(r)?this.defs.appendChild(r):(r=this._createArrowHead(e,"End",t.typeFirst),this.defs.appendChild(r),e.rendNodeTriangleStart=r,e.rendNode.setAttributeNS(null,"marker-start","url(#"+this.container.id+"_"+e.id+"TriangleEnd)"))):(r=e.rendNodeTriangleStart,n.exists(r)&&this.remove(r)),o?(r=e.rendNodeTriangleEnd,n.exists(r)?this.defs.appendChild(r):(r=this._createArrowHead(e,"Start",t.typeLast),this.defs.appendChild(r),e.rendNodeTriangleEnd=r,e.rendNode.setAttributeNS(null,"marker-end","url(#"+this.container.id+"_"+e.id+"TriangleStart)"))):(r=e.rendNodeTriangleEnd,n.exists(r)&&this.remove(r)),e.visPropOld.firstarrow=i,e.visPropOld.lastarrow=o):this.isIE&&e.visPropCalc.visible&&(i||o)&&e.rendNode.parentNode.insertBefore(e.rendNode,e.rendNode)},updateEllipsePrim:function(e,t,r,i,n){var o;o=2e5,t=Math.abs(t)<o?t:o*t/Math.abs(t),r=Math.abs(r)<o?r:o*r/Math.abs(r),i=Math.abs(i)<o?i:o*i/Math.abs(i),n=Math.abs(n)<o?n:o*n/Math.abs(n),e.setAttributeNS(null,"cx",t),e.setAttributeNS(null,"cy",r),e.setAttributeNS(null,"rx",Math.abs(i)),e.setAttributeNS(null,"ry",Math.abs(n))},updateLinePrim:function(e,t,r,i,n){var o;o=2e5,isNaN(t+r+i+n)||(t=Math.abs(t)<o?t:o*t/Math.abs(t),r=Math.abs(r)<o?r:o*r/Math.abs(r),i=Math.abs(i)<o?i:o*i/Math.abs(i),n=Math.abs(n)<o?n:o*n/Math.abs(n),e.setAttributeNS(null,"x1",t),e.setAttributeNS(null,"y1",r),e.setAttributeNS(null,"x2",i),e.setAttributeNS(null,"y2",n))},updatePathPrim:function(e,t){""===t&&(t="M 0 0"),e.setAttributeNS(null,"d",t)},updatePathStringPoint:function(e,t,r){var i="",n=e.coords.scrCoords,o=t*Math.sqrt(3)*.5,s=.5*t;return"x"===r?i=" M "+(n[1]-t)+" "+(n[2]-t)+" L "+(n[1]+t)+" "+(n[2]+t)+" M "+(n[1]+t)+" "+(n[2]-t)+" L "+(n[1]-t)+" "+(n[2]+t):"+"===r?i=" M "+(n[1]-t)+" "+n[2]+" L "+(n[1]+t)+" "+n[2]+" M "+n[1]+" "+(n[2]-t)+" L "+n[1]+" "+(n[2]+t):"<>"===r?i=" M "+(n[1]-t)+" "+n[2]+" L "+n[1]+" "+(n[2]+t)+" L "+(n[1]+t)+" "+n[2]+" L "+n[1]+" "+(n[2]-t)+" Z ":"^"===r?i=" M "+n[1]+" "+(n[2]-t)+" L "+(n[1]-o)+" "+(n[2]+s)+" L "+(n[1]+o)+" "+(n[2]+s)+" Z ":"v"===r?i=" M "+n[1]+" "+(n[2]+t)+" L "+(n[1]-o)+" "+(n[2]-s)+" L "+(n[1]+o)+" "+(n[2]-s)+" Z ":">"===r?i=" M "+(n[1]+t)+" "+n[2]+" L "+(n[1]-s)+" "+(n[2]-o)+" L "+(n[1]-s)+" "+(n[2]+o)+" Z ":"<"===r&&(i=" M "+(n[1]-t)+" "+n[2]+" L "+(n[1]+s)+" "+(n[2]-o)+" L "+(n[1]+s)+" "+(n[2]+o)+" Z "),i},updatePathStringPrim:function(e){var t,r,i,n=" M ",o=n,s="";if(e.numberPoints<=0)return"";if(i=Math.min(e.points.length,e.numberPoints),1===e.bezierDegree)for(t=0;t<i;t++)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?o=n:(r[1]=Math.max(Math.min(r[1],5e3),-5e3),r[2]=Math.max(Math.min(r[2],5e3),-5e3),s+=o+r[1]+" "+r[2],o=" L ");else if(3===e.bezierDegree)for(t=0;t<i;)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?o=n:(s+=o+r[1]+" "+r[2]," C "===o&&(t+=1,s+=" "+(r=e.points[t].scrCoords)[1]+" "+r[2],t+=1,s+=" "+(r=e.points[t].scrCoords)[1]+" "+r[2]),o=" C "),t+=1;return s},updatePathStringBezierPrim:function(e){var t,r,i,o,s,l,c,u=" M ",h=u,d="",p=n.evaluate(e.visProp.strokewidth),f="plot"!==n.evaluate(e.visProp.curvetype);if(e.numberPoints<=0)return"";for(f&&e.board.options.curve.RDPsmoothing&&(e.points=a.RamerDouglasPeucker(e.points,.5)),c=Math.min(e.points.length,e.numberPoints),r=1;r<3;r++)for(h=u,t=0;t<c;t++)o=e.points[t].scrCoords,isNaN(o[1])||isNaN(o[2])?h=u:(o[1]=Math.max(Math.min(o[1],5e3),-5e3),o[2]=Math.max(Math.min(o[2],5e3),-5e3),h===u?d+=h+o[1]+" "+o[2]:(i=2*r,d+=[h,s+.333*(o[1]-s)+p*(i*Math.random()-r)," ",l+.333*(o[2]-l)+p*(i*Math.random()-r)," ",s+.666*(o[1]-s)+p*(i*Math.random()-r)," ",l+.666*(o[2]-l)+p*(i*Math.random()-r)," ",o[1]," ",o[2]].join("")),h=" C ",s=o[1],l=o[2]);return d},updatePolygonPrim:function(e,t){var r,i,n="",o=t.vertices.length;for(e.setAttributeNS(null,"stroke","none"),"polygonalchain"===t.elType&&o++,r=0;r<o-1;r++){if(!t.vertices[r].isReal)return void e.setAttributeNS(null,"points","");n=n+(i=t.vertices[r].coords.scrCoords)[1]+","+i[2],r<o-2&&(n+=" ")}-1===n.indexOf("NaN")&&e.setAttributeNS(null,"points",n)},updateRectPrim:function(e,t,r,i,n){e.setAttributeNS(null,"x",t),e.setAttributeNS(null,"y",r),e.setAttributeNS(null,"width",i),e.setAttributeNS(null,"height",n)},setPropertyPrim:function(e,t,r){"stroked"!==t&&e.setAttributeNS(null,t,r)},display:function(e,t){var r;e&&e.rendNode&&(e.visPropOld.visible=t,r=e.rendNode,t?(r.setAttributeNS(null,"display","inline"),r.style.visibility="inherit"):(r.setAttributeNS(null,"display","none"),r.style.visibility="hidden"))},show:function(t){e.deprecated("Board.renderer.show()","Board.renderer.display()"),this.display(t,!0)},hide:function(t){e.deprecated("Board.renderer.hide()","Board.renderer.display()"),this.display(t,!1)},setBuffering:function(e,t){e.rendNode.setAttribute("buffered-rendering",t)},setDashStyle:function(e){var t=n.evaluate(e.visProp.dash),r=e.rendNode;t>0?r.setAttributeNS(null,"stroke-dasharray",this.dashArray[t-1]):r.hasAttributeNS(null,"stroke-dasharray")&&r.removeAttributeNS(null,"stroke-dasharray")},setGradient:function(e){var t,r,i,o=e.rendNode,s=n.evaluate(e.visProp.gradient);"linear"===s||"radial"===s?(t=this.createPrim(s+"Gradient",e.id+"_gradient"),r=this.createPrim("stop",e.id+"_gradient1"),i=this.createPrim("stop",e.id+"_gradient2"),t.appendChild(r),t.appendChild(i),this.defs.appendChild(t),o.setAttributeNS(null,"style","fill:url(#"+this.container.id+"_"+e.id+"_gradient)"),e.gradNode1=r,e.gradNode2=i,e.gradNode=t):o.removeAttributeNS(null,"style")},updateGradientAngle:function(e,t){var r=1,i=Math.cos(t),n=Math.sin(t);Math.abs(i)>Math.abs(n)?r/=Math.abs(i):r/=Math.abs(n),i>=0?(e.setAttributeNS(null,"x1",0),e.setAttributeNS(null,"x2",i*r)):(e.setAttributeNS(null,"x1",-i*r),e.setAttributeNS(null,"x2",0)),n>=0?(e.setAttributeNS(null,"y1",0),e.setAttributeNS(null,"y2",n*r)):(e.setAttributeNS(null,"y1",-n*r),e.setAttributeNS(null,"y2",0))},updateGradientCircle:function(e,t,r,i,n,o,s){e.setAttributeNS(null,"cx",100*t+"%"),e.setAttributeNS(null,"cy",100*r+"%"),e.setAttributeNS(null,"r",100*i+"%"),e.setAttributeNS(null,"fx",100*n+"%"),e.setAttributeNS(null,"fy",100*o+"%"),e.setAttributeNS(null,"fr",100*s+"%")},updateGradient:function(e){var t,r,i=e.gradNode1,o=e.gradNode2,s=n.evaluate(e.visProp.gradient);n.exists(i)&&n.exists(o)&&(r=(r=n.evaluate(e.visProp.fillopacity))>0?r:0,t=n.evaluate(e.visProp.fillcolor),i.setAttributeNS(null,"style","stop-color:"+t+";stop-opacity:"+r),o.setAttributeNS(null,"style","stop-color:"+n.evaluate(e.visProp.gradientsecondcolor)+";stop-opacity:"+n.evaluate(e.visProp.gradientsecondopacity)),i.setAttributeNS(null,"offset",100*n.evaluate(e.visProp.gradientstartoffset)+"%"),o.setAttributeNS(null,"offset",100*n.evaluate(e.visProp.gradientendoffset)+"%"),"linear"===s?this.updateGradientAngle(e.gradNode,n.evaluate(e.visProp.gradientangle)):"radial"===s&&this.updateGradientCircle(e.gradNode,n.evaluate(e.visProp.gradientcx),n.evaluate(e.visProp.gradientcy),n.evaluate(e.visProp.gradientr),n.evaluate(e.visProp.gradientfx),n.evaluate(e.visProp.gradientfy),n.evaluate(e.visProp.gradientfr)))},setObjectTransition:function(e,t){var r,o,s,a=["rendNode","rendNodeTriangleStart","rendNodeTriangleEnd"];if(void 0===t&&(t=n.evaluate(e.visProp.transitionduration)),t!==e.visPropOld.transitionduration){for(r=e.elementClass===i.OBJECT_CLASS_TEXT&&"html"===n.evaluate(e.visProp.display)?" color "+t+"ms, opacity "+t+"ms":" fill "+t+"ms, fill-opacity "+t+"ms, stroke "+t+"ms, stroke-opacity "+t+"ms",s=a.length,o=0;o<s;++o)e[a[o]]&&(e[a[o]].style.transition=r);e.visPropOld.transitionduration=t}},_setAttribute:function(e,t){""===t?e():window.setTimeout(e,1)},setObjectFillColor:function(t,r,i,s){var a,l,c,u,h=n.evaluate(r),d=n.evaluate(i),p=n.evaluate(t.visProp.gradient);d=d>0?d:0,t.visPropOld.fillcolor===h&&t.visPropOld.fillopacity===d&&null===p||(n.exists(h)&&!1!==h&&(9!==h.length?(l=h,u=d):(c=o.rgba2rgbo(h),l=c[0],u=d*c[1]),a=void 0===s?t.rendNode:s,"none"!==l&&this._setAttribute((function(){a.setAttributeNS(null,"fill",l)}),t.visPropOld.fillcolor),t.type===e.OBJECT_TYPE_IMAGE?this._setAttribute((function(){a.setAttributeNS(null,"opacity",u)}),t.visPropOld.fillopacity):("none"===l?(u=0,a.setAttributeNS(null,"pointer-events","visibleStroke")):a.setAttributeNS(null,"pointer-events","visiblePainted"),this._setAttribute((function(){a.setAttributeNS(null,"fill-opacity",u)}),t.visPropOld.fillopacity)),"linear"!==p&&"radial"!==p||this.updateGradient(t)),t.visPropOld.fillcolor=h,t.visPropOld.fillopacity=d)},setObjectStrokeColor:function(e,t,r){var s,a,l,c,u=n.evaluate(t),h=n.evaluate(r);h=h>0?h:0,e.visPropOld.strokecolor===u&&e.visPropOld.strokeopacity===h||(n.exists(u)&&!1!==u&&(9!==u.length?(s=u,l=h):(a=o.rgba2rgbo(u),s=a[0],l=h*a[1]),c=e.rendNode,e.elementClass===i.OBJECT_CLASS_TEXT?"html"===n.evaluate(e.visProp.display)?this._setAttribute((function(){c.style.color=s,c.style.opacity=l}),e.visPropOld.strokecolor):this._setAttribute((function(){c.setAttributeNS(null,"style","fill:"+s),c.setAttributeNS(null,"style","fill-opacity:"+l)}),e.visPropOld.strokecolor):this._setAttribute((function(){c.setAttributeNS(null,"stroke",s),c.setAttributeNS(null,"stroke-opacity",l)}),e.visPropOld.strokecolor),e.elementClass!==i.OBJECT_CLASS_CURVE&&e.elementClass!==i.OBJECT_CLASS_LINE||(n.evaluate(e.visProp.firstarrow)&&this._setArrowColor(e.rendNodeTriangleStart,s,l,e,e.visPropCalc.typeFirst),n.evaluate(e.visProp.lastarrow)&&this._setArrowColor(e.rendNodeTriangleEnd,s,l,e,e.visPropCalc.typeLast))),e.visPropOld.strokecolor=u,e.visPropOld.strokeopacity=h)},setObjectStrokeWidth:function(e,t){var r,i=n.evaluate(t);isNaN(i)||e.visPropOld.strokewidth===i||(r=e.rendNode,this.setPropertyPrim(r,"stroked","true"),n.exists(i)&&this.setPropertyPrim(r,"stroke-width",i+"px"),e.visPropOld.strokewidth=i)},setLineCap:function(e){var t=n.evaluate(e.visProp.linecap);void 0!==t&&""!==t&&e.visPropOld.linecap!==t&&n.exists(e.rendNode)&&(this.setPropertyPrim(e.rendNode,"stroke-linecap",t),e.visPropOld.linecap=t)},setShadow:function(e){var t=n.evaluate(e.visProp.shadow);e.visPropOld.shadow!==t&&(n.exists(e.rendNode)&&(t?e.rendNode.setAttributeNS(null,"filter","url(#"+this.container.id+"_f1)"):e.rendNode.removeAttributeNS(null,"filter")),e.visPropOld.shadow=t)},suspendRedraw:function(){},unsuspendRedraw:function(){},resize:function(e,t){this.svgRoot.setAttribute("width",parseFloat(e)),this.svgRoot.setAttribute("height",parseFloat(t))},createTouchpoints:function(e){var t,r,i,n;for(this.touchpoints=[],t=0;t<e;t++)r="touchpoint1_"+t,n=this.createPrim("path",r),this.appendChildPrim(n,19),n.setAttributeNS(null,"d","M 0 0"),this.touchpoints.push(n),this.setPropertyPrim(n,"stroked","true"),this.setPropertyPrim(n,"stroke-width","1px"),n.setAttributeNS(null,"stroke","#000000"),n.setAttributeNS(null,"stroke-opacity",1),n.setAttributeNS(null,"display","none"),i="touchpoint2_"+t,n=this.createPrim("ellipse",i),this.appendChildPrim(n,19),this.updateEllipsePrim(n,0,0,0,0),this.touchpoints.push(n),this.setPropertyPrim(n,"stroked","true"),this.setPropertyPrim(n,"stroke-width","1px"),n.setAttributeNS(null,"stroke","#000000"),n.setAttributeNS(null,"stroke-opacity",1),n.setAttributeNS(null,"fill","#ffffff"),n.setAttributeNS(null,"fill-opacity",0),n.setAttributeNS(null,"display","none")},showTouchpoint:function(e){this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(this.touchpoints[2*e].setAttributeNS(null,"display","inline"),this.touchpoints[2*e+1].setAttributeNS(null,"display","inline"))},hideTouchpoint:function(e){this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(this.touchpoints[2*e].setAttributeNS(null,"display","none"),this.touchpoints[2*e+1].setAttributeNS(null,"display","none"))},updateTouchpoint:function(e,t){var r,i;this.touchpoints&&e>=0&&2*e<this.touchpoints.length&&(r=t[0],i=t[1],this.touchpoints[2*e].setAttributeNS(null,"d","M "+(r-37)+" "+i+" L "+(r+37)+" "+i+" M "+r+" "+(i-37)+" L "+r+" "+(i+37)),this.updateEllipsePrim(this.touchpoints[2*e+1],t[0],t[1],25,25))},_getValuesOfDOMElements:function(e){var t=[];if(1===e.nodeType)for(e=e.firstChild;e;)void 0!==e.id&&void 0!==e.value&&t.push([e.id,e.value]),t=t.concat(this._getValuesOfDOMElements(e)),e=e.nextSibling;return t},_getDataUri:function(e,t){var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=this.naturalWidth,e.height=this.naturalHeight,e.getContext("2d").drawImage(this,0,0),t(e.toDataURL("image/png")),e.remove()},r.src=e},_getImgDataURL:function(e){var t,r,i,n,o,s;if((r=(t=e.getElementsByTagName("image")).length)>0)for(i=document.createElement("canvas"),s=0;s<r;s++){t[s].setAttribute("crossorigin","anonymous"),n=i.getContext("2d"),i.width=t[s].getAttribute("width"),i.height=t[s].getAttribute("height");try{n.drawImage(t[s],0,0,i.width,i.height),o=i.toDataURL(),t[s].setAttribute("xlink:href",o)}catch(e){console.log("CORS problem! Image can not be used",e)}}return!0},dumpToDataURI:function(e){var t,r,i,o=this.svgRoot,a=window.btoa||s.encode,l=[];if(this.container.hasChildNodes()&&n.exists(this.foreignObjLayer))for(e||this.foreignObjLayer.setAttribute("display","inline");o.nextSibling;)l=l.concat(this._getValuesOfDOMElements(o.nextSibling)),this.foreignObjLayer.appendChild(o.nextSibling);if(this._getImgDataURL(o),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),t=(new XMLSerializer).serializeToString(o),!0!==e)for(i=l.length,r=0;r<i;r++)t=t.replace('id="'+l[r][0]+'"','id="'+l[r][0]+'" value="'+l[r][1]+'"');if((t.match(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g)||[]).length>1&&(t=t.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,"")),t=t.replace(/&nbsp;/g," "),n.exists(this.foreignObjLayer)&&this.foreignObjLayer.hasChildNodes()){for(;this.foreignObjLayer.firstChild;)this.container.appendChild(this.foreignObjLayer.firstChild);this.foreignObjLayer.setAttribute("display","none")}return"data:image/svg+xml;base64,"+a(unescape(encodeURIComponent(t)))},dumpToCanvas:function(e,t,r,i){var n,o,s,a;return(s=document.getElementById(e)).width=s.width,a=s.getContext("2d"),void 0!==t&&void 0!==r&&(s.style.width=parseFloat(t)+"px",s.style.height=parseFloat(r)+"px",s.setAttribute("width",parseFloat(t)),s.setAttribute("height",parseFloat(r))),o=new Image,n=this.dumpToDataURI(i),o.src=n,"Promise"in window?new Promise((function(e,i){try{o.onload=function(){a.drawImage(o,0,0,t,r),e()}}catch(e){i(e)}})):(o.onload=function(){window.setTimeout((function(){try{a.drawImage(o,0,0,t,r)}catch(e){console.log("screenshots not longer supported on IE")}}),200)},this)},screenshot:function(e,t,r){var i,o,s,a,l,c,u,h,d,p,f,v=this.container.ownerDocument,m=this.container.parentNode,g=e.attr.screenshot,b=!1;return"no"===this.type||(u=g.scale*this.container.getBoundingClientRect().width,h=g.scale*this.container.getBoundingClientRect().height,void 0===t||""===t?(b=!0,(a=new Image).style.width=u+"px",a.style.height=h+"px"):(b=!1,a=v.getElementById(t)),b&&((i=v.createElement("div")).style.cssText=g.css,i.style.width=u+"px",i.style.height=h+"px",i.style.zIndex=this.container.style.zIndex+120,i.style.position="absolute",i.style.top=this.container.offsetTop+"px",i.style.left=this.container.offsetLeft+"px"),o=v.createElement("canvas"),s=Math.random().toString(36).substr(2,5),o.setAttribute("id",s),o.setAttribute("width",u),o.setAttribute("height",h),o.style.width=u+"px",o.style.height=u+"px",o.style.display="none",m.appendChild(o),b&&(l=v.createElement("span"),c=v.createTextNode("\u2716"),l.style.cssText=g.cssButton,l.appendChild(c),l.onclick=function(){i.parentNode.removeChild(i)},i.appendChild(a),i.appendChild(l),m.insertBefore(i,this.container.nextSibling)),d=document.getElementById(this.container.id+"_navigationbar"),n.exists(d)&&(p=d.style.display,d.style.display="none"),f=function(){a.src=o.toDataURL("image/png"),m.removeChild(o)},"Promise"in window?this.dumpToCanvas(s,u,h,r).then(f):(this.dumpToCanvas(s,u,h,r),window.setTimeout(f,200)),n.exists(d)&&(d.style.display=p)),this}}),e.SVGRenderer})),define("renderer/vml",["jxg","renderer/abstract","base/constants","utils/type","utils/color","math/math","math/numerics"],(function(e,t,r,i,n,o,s){"use strict";return e.VMLRenderer=function(t){this.type="vml",this.container=t,this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.onselectstart=function(){return!1},this.resolution=10,i.exists(e.vmlStylesheet)||(t.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),e.vmlStylesheet=this.container.ownerDocument.createStyleSheet(),e.vmlStylesheet.addRule(".jxgvml","behavior:url(#default#VML)"));try{t.ownerDocument.namespaces.jxgvml||t.ownerDocument.namespaces.add("jxgvml","urn:schemas-microsoft-com:vml"),this.createNode=function(e){return t.ownerDocument.createElement("<jxgvml:"+e+' class="jxgvml">')}}catch(e){this.createNode=function(e){return t.ownerDocument.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="jxgvml">')}}this.dashArray=["Solid","1 1","ShortDash","Dash","LongDash","ShortDashDot","LongDashDot"]},e.VMLRenderer.prototype=new t,e.extend(e.VMLRenderer.prototype,{_setAttr:function(t,r,i,n){try{8===this.container.ownerDocument.documentMode?t[r]=i:t.setAttribute(r,i,n)}catch(t){e.debug("_setAttr: "+r+" "+i+"<br>\n")}},updateTicks:function(e){var t,r,n,o,s,a=this.resolution,l=[];for(r=e.ticks.length,t=0;t<r;t++)o=(n=e.ticks[t])[0],s=n[1],i.isNumber(o[0])&&i.isNumber(o[1])&&l.push(" m "+Math.round(a*o[0])+", "+Math.round(a*s[0])+" l "+Math.round(a*o[1])+", "+Math.round(a*s[1])+" ");i.exists(e.rendNode)||(e.rendNode=this.createPrim("path",e.id),this.appendChildPrim(e.rendNode,i.evaluate(e.visProp.layer))),this._setAttr(e.rendNode,"stroked","true"),this._setAttr(e.rendNode,"strokecolor",i.evaluate(e.visProp.strokecolor),1),this._setAttr(e.rendNode,"strokeweight",i.evaluate(e.visProp.strokewidth)),this._setAttr(e.rendNodeStroke,"opacity",100*i.evaluate(e.visProp.strokeopacity)+"%"),this.updatePathPrim(e.rendNode,l,e.board)},displayCopyright:function(e,t){var r,i;(r=this.createNode("textbox")).style.position="absolute",this._setAttr(r,"id",this.container.id+"_licenseText"),r.style.left=20,r.style.top=2,r.style.fontSize=t,r.style.color="#356AA0",r.style.fontFamily="Arial,Helvetica,sans-serif",this._setAttr(r,"opacity","30%"),r.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 30, enabled = true)",i=this.container.ownerDocument.createTextNode(e),r.appendChild(i),this.appendChildPrim(r,0)},drawInternalText:function(e){var t;return(t=this.createNode("textbox")).style.position="absolute",e.rendNodeText=this.container.ownerDocument.createTextNode(""),t.appendChild(e.rendNodeText),this.appendChildPrim(t,9),t.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand', enabled = false) progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",t},updateInternalText:function(e){var t,r,i,n,s,a,l=e.plaintext,c=this.joinTransforms(e,e.transformations),u=[0,0],h=e.rendNode,d=[],p=e.getAnchorX(),f=e.getAnchorY();if(!isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])){for("right"===p?u[0]=1:"middle"===p&&(u[0]=.5),"bottom"===f?u[1]=1:"middle"===f&&(u[1]=.5),d[0]=o.matVecMult(c,[1,e.coords.scrCoords[1]-u[0]*e.size[0],e.coords.scrCoords[2]+(1-u[1])*e.size[1]+this.vOffsetText]),d[0][1]/=d[0][0],d[0][2]/=d[0][0],d[1]=o.matVecMult(c,[1,e.coords.scrCoords[1]+(1-u[0])*e.size[0],e.coords.scrCoords[2]+(1-u[1])*e.size[1]+this.vOffsetText]),d[1][1]/=d[1][0],d[1][2]/=d[1][0],d[2]=o.matVecMult(c,[1,e.coords.scrCoords[1]+(1-u[0])*e.size[0],e.coords.scrCoords[2]-u[1]*e.size[1]+this.vOffsetText]),d[2][1]/=d[2][0],d[2][2]/=d[2][0],d[3]=o.matVecMult(c,[1,e.coords.scrCoords[1]-u[0]*e.size[0],e.coords.scrCoords[2]-u[1]*e.size[1]+this.vOffsetText]),d[3][1]/=d[3][0],d[3][2]/=d[3][0],r=d[0][1],n=d[0][1],i=d[0][2],s=d[0][2],a=1;a<4;a++)r=Math.max(r,d[a][1]),n=Math.min(n,d[a][1]),i=Math.max(i,d[a][2]),s=Math.min(s,d[a][2]);t=1===u[0]?Math.floor(e.board.canvasWidth-r):Math.floor(n),e.visPropOld.left!==p+t&&(1===u[0]?(e.rendNode.style.right=t+"px",e.rendNode.style.left="auto"):(e.rendNode.style.left=t+"px",e.rendNode.style.right="auto"),e.visPropOld.left=p+t),t=1===u[1]?Math.floor(e.board.canvasHeight-i):Math.floor(s),e.visPropOld.top!==f+t&&(1===u[1]?(e.rendNode.style.bottom=t+"px",e.rendNode.style.top="auto"):(e.rendNode.style.top=t+"px",e.rendNode.style.bottom="auto"),e.visPropOld.top=f+t)}e.htmlStr!==l&&(e.rendNodeText.data=l,e.htmlStr=l),h.filters.item(0).M11=c[1][1],h.filters.item(0).M12=c[1][2],h.filters.item(0).M21=c[2][1],h.filters.item(0).M22=c[2][2],h.filters.item(0).enabled=!0},drawImage:function(e){var t;(t=this.container.ownerDocument.createElement("img")).style.position="absolute",this._setAttr(t,"id",this.container.id+"_"+e.id),this.container.appendChild(t),this.appendChildPrim(t,i.evaluate(e.visProp.layer)),t.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11='1.0', sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity = 100, enabled = false)",e.rendNode=t,this.updateImage(e)},transformImage:function(e,t){var r,i,n,s,a,l,c=e.rendNode,u=[];if(t.length>0){for(r=this.joinTransforms(e,t),u[0]=o.matVecMult(r,e.coords.scrCoords),u[0][1]/=u[0][0],u[0][2]/=u[0][0],u[1]=o.matVecMult(r,[1,e.coords.scrCoords[1]+e.size[0],e.coords.scrCoords[2]]),u[1][1]/=u[1][0],u[1][2]/=u[1][0],u[2]=o.matVecMult(r,[1,e.coords.scrCoords[1]+e.size[0],e.coords.scrCoords[2]-e.size[1]]),u[2][1]/=u[2][0],u[2][2]/=u[2][0],u[3]=o.matVecMult(r,[1,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1]]),u[3][1]/=u[3][0],u[3][2]/=u[3][0],i=u[0][1],s=u[0][1],n=u[0][2],a=u[0][2],l=1;l<4;l++)i=Math.max(i,u[l][1]),s=Math.min(s,u[l][1]),n=Math.max(n,u[l][2]),a=Math.min(a,u[l][2]);c.style.left=Math.floor(s)+"px",c.style.top=Math.floor(a)+"px",c.filters.item(0).M11=r[1][1],c.filters.item(0).M12=r[1][2],c.filters.item(0).M21=r[2][1],c.filters.item(0).M22=r[2][2],c.filters.item(0).enabled=!0}},updateImageURL:function(e){var t=i.evaluate(e.url);this._setAttr(e.rendNode,"src",t)},appendChildPrim:function(e,t){return i.exists(t)||(t=0),e.style.zIndex=t,this.container.appendChild(e),e},appendNodesToElement:function(e,t){"shape"!==t&&"path"!==t&&"polygon"!==t||(e.rendNodePath=this.getElementById(e.id+"_path")),e.rendNodeFill=this.getElementById(e.id+"_fill"),e.rendNodeStroke=this.getElementById(e.id+"_stroke"),e.rendNodeShadow=this.getElementById(e.id+"_shadow"),e.rendNode=this.getElementById(e.id)},createPrim:function(e,t){var r,i,n=this.createNode("fill"),o=this.createNode("stroke"),s=this.createNode("shadow");return this._setAttr(n,"id",this.container.id+"_"+t+"_fill"),this._setAttr(o,"id",this.container.id+"_"+t+"_stroke"),this._setAttr(s,"id",this.container.id+"_"+t+"_shadow"),"circle"===e||"ellipse"===e?((r=this.createNode("oval")).appendChild(n),r.appendChild(o),r.appendChild(s)):"polygon"===e||"path"===e||"shape"===e||"line"===e?((r=this.createNode("shape")).appendChild(n),r.appendChild(o),r.appendChild(s),i=this.createNode("path"),this._setAttr(i,"id",this.container.id+"_"+t+"_path"),r.appendChild(i)):((r=this.createNode(e)).appendChild(n),r.appendChild(o),r.appendChild(s)),r.style.position="absolute",r.style.left="0px",r.style.top="0px",this._setAttr(r,"id",this.container.id+"_"+t),r},remove:function(e){i.exists(e)&&e.removeNode(!0)},makeArrows:function(e){var t,r=i.evaluate(e.visProp.firstarrow),n=i.evaluate(e.visProp.lastarrow);e.visPropOld.firstarrow===r&&e.visPropOld.lastarrow===n||(r?(t=e.rendNodeStroke,this._setAttr(t,"startarrow","block"),this._setAttr(t,"startarrowlength","long")):(t=e.rendNodeStroke,i.exists(t)&&this._setAttr(t,"startarrow","none")),n?(t=e.rendNodeStroke,this._setAttr(t,"id",this.container.id+"_"+e.id+"stroke"),this._setAttr(t,"endarrow","block"),this._setAttr(t,"endarrowlength","long")):(t=e.rendNodeStroke,i.exists(t)&&this._setAttr(t,"endarrow","none")),e.visPropOld.firstarrow=r,e.visPropOld.lastarrow=n)},updateEllipsePrim:function(e,t,r,i,n){e.style.left=Math.floor(t-i)+"px",e.style.top=Math.floor(r-n)+"px",e.style.width=Math.floor(2*Math.abs(i))+"px",e.style.height=Math.floor(2*Math.abs(n))+"px"},updateLinePrim:function(e,t,r,i,n,o){var s,a=this.resolution;isNaN(t+r+i+n)||(s=["m ",Math.floor(a*t),", ",Math.floor(a*r)," l ",Math.floor(a*i),", ",Math.floor(a*n)],this.updatePathPrim(e,s,o))},updatePathPrim:function(e,t,r){var i=r.canvasWidth,n=r.canvasHeight;t.length<=0&&(t=["m 0,0"]),e.style.width=i,e.style.height=n,this._setAttr(e,"coordsize",[Math.floor(this.resolution*i),Math.floor(this.resolution*n)].join(",")),this._setAttr(e,"path",t.join(""))},updatePathStringPoint:function(e,t,r){var i=[],n=Math.round,o=e.coords.scrCoords,s=t*Math.sqrt(3)*.5,a=.5*t,l=this.resolution;return"x"===r?i.push([" m ",n(l*(o[1]-t)),", ",n(l*(o[2]-t))," l ",n(l*(o[1]+t)),", ",n(l*(o[2]+t))," m ",n(l*(o[1]+t)),", ",n(l*(o[2]-t))," l ",n(l*(o[1]-t)),", ",n(l*(o[2]+t))].join("")):"+"===r?i.push([" m ",n(l*(o[1]-t)),", ",n(l*o[2])," l ",n(l*(o[1]+t)),", ",n(l*o[2])," m ",n(l*o[1]),", ",n(l*(o[2]-t))," l ",n(l*o[1]),", ",n(l*(o[2]+t))].join("")):"<>"===r?i.push([" m ",n(l*(o[1]-t)),", ",n(l*o[2])," l ",n(l*o[1]),", ",n(l*(o[2]+t))," l ",n(l*(o[1]+t)),", ",n(l*o[2])," l ",n(l*o[1]),", ",n(l*(o[2]-t))," x e "].join("")):"^"===r?i.push([" m ",n(l*o[1]),", ",n(l*(o[2]-t))," l ",n(l*(o[1]-s)),", ",n(l*(o[2]+a))," l ",n(l*(o[1]+s)),", ",n(l*(o[2]+a))," x e "].join("")):"v"===r?i.push([" m ",n(l*o[1]),", ",n(l*(o[2]+t))," l ",n(l*(o[1]-s)),", ",n(l*(o[2]-a))," l ",n(l*(o[1]+s)),", ",n(l*(o[2]-a))," x e "].join("")):">"===r?i.push([" m ",n(l*(o[1]+t)),", ",n(l*o[2])," l ",n(l*(o[1]-a)),", ",n(l*(o[2]-s))," l ",n(l*(o[1]-a)),", ",n(l*(o[2]+s))," l ",n(l*(o[1]+t)),", ",n(l*o[2])].join("")):"<"===r&&i.push([" m ",n(l*(o[1]-t)),", ",n(l*o[2])," l ",n(l*(o[1]+a)),", ",n(l*(o[2]-s))," l ",n(l*(o[1]+a)),", ",n(l*(o[2]+s))," x e "].join("")),i},updatePathStringPrim:function(e){var t,r,i=[],n=this.resolution,o=Math.round,s=" m ",a=s,l=Math.min(e.numberPoints,8192);if(e.numberPoints<=0)return"";if(l=Math.min(l,e.points.length),1===e.bezierDegree)for(t=0;t<l;t++)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?a=s:(r[1]>2e4?r[1]=2e4:r[1]<-2e4&&(r[1]=-2e4),r[2]>2e4?r[2]=2e4:r[2]<-2e4&&(r[2]=-2e4),i.push([a,o(n*r[1]),", ",o(n*r[2])].join("")),a=" l ");else if(3===e.bezierDegree)for(t=0;t<l;)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?a=s:(i.push([a,o(n*r[1]),", ",o(n*r[2])].join(""))," c "===a&&(t+=1,r=e.points[t].scrCoords,i.push([" ",o(n*r[1]),", ",o(n*r[2])].join("")),t+=1,r=e.points[t].scrCoords,i.push([" ",o(n*r[1]),", ",o(n*r[2])].join(""))),a=" c "),t+=1;return i.push(" e"),i},updatePathStringBezierPrim:function(e){var t,r,n,o,a,l,c=[],u=i.evaluate(e.visProp.strokewidth),h=this.resolution,d=Math.round,p=" m ",f=p,v="plot"!==i.evaluate(e.visProp.curvetype),m=Math.min(e.numberPoints,8192);if(e.numberPoints<=0)return"";for(v&&e.board.options.curve.RDPsmoothing&&(e.points=s.RamerDouglasPeucker(e.points,1)),m=Math.min(m,e.points.length),r=1;r<3;r++)for(f=p,t=0;t<m;t++)o=e.points[t].scrCoords,isNaN(o[1])||isNaN(o[2])?f=p:(o[1]>2e4?o[1]=2e4:o[1]<-2e4&&(o[1]=-2e4),o[2]>2e4?o[2]=2e4:o[2]<-2e4&&(o[2]=-2e4),f===p?c.push([f,d(h*o[1])," ",d(h*o[2])].join("")):(n=2*r,c.push([f,d(h*(a+.333*(o[1]-a)+u*(n*Math.random()-r)))," ",d(h*(l+.333*(o[2]-l)+u*(n*Math.random()-r)))," ",d(h*(a+.666*(o[1]-a)+u*(n*Math.random()-r)))," ",d(h*(l+.666*(o[2]-l)+u*(n*Math.random()-r)))," ",d(h*o[1])," ",d(h*o[2])].join(""))),f=" c ",a=o[1],l=o[2]);return c.push(" e"),c},updatePolygonPrim:function(e,t){var r,i,n=t.vertices.length,o=this.resolution,s=[];if(this._setAttr(e,"stroked","false"),i=t.vertices[0].coords.scrCoords,!isNaN(i[1]+i[2])){for(s.push(["m ",Math.floor(o*i[1]),",",Math.floor(o*i[2])," l "].join("")),r=1;r<n-1;r++){if(!t.vertices[r].isReal)return void this.updatePathPrim(e,"",t.board);if(i=t.vertices[r].coords.scrCoords,isNaN(i[1]+i[2]))return;s.push(Math.floor(o*i[1])+","+Math.floor(o*i[2])),r<n-2&&s.push(", ")}s.push(" x e"),this.updatePathPrim(e,s,t.board)}},updateRectPrim:function(e,t,r,i,n){e.style.left=Math.floor(t)+"px",e.style.top=Math.floor(r)+"px",i>=0&&(e.style.width=i+"px"),n>=0&&(e.style.height=n+"px")},setPropertyPrim:function(e,t,r){var n,o="";switch(t){case"stroke":o="strokecolor";break;case"stroke-width":o="strokeweight";break;case"stroke-dasharray":o="dashstyle"}""!==o&&(n=i.evaluate(r),this._setAttr(e,o,n))},display:function(e,t){e&&e.rendNode&&(e.visPropOld.visible=t,e.rendNode.style.visibility=t?"inherit":"hidden")},show:function(t){e.deprecated("Board.renderer.show()","Board.renderer.display()"),t&&t.rendNode&&(t.rendNode.style.visibility="inherit")},hide:function(t){e.deprecated("Board.renderer.hide()","Board.renderer.display()"),t&&t.rendNode&&(t.rendNode.style.visibility="hidden")},setDashStyle:function(e,t){var r;t.dash>=0&&(r=e.rendNodeStroke,this._setAttr(r,"dashstyle",this.dashArray[t.dash]))},setGradient:function(e){var t=e.rendNodeFill,r=i.evaluate(e.visProp.gradient);"linear"===r?(this._setAttr(t,"type","gradient"),this._setAttr(t,"color2",i.evaluate(e.visProp.gradientsecondcolor)),this._setAttr(t,"opacity2",i.evaluate(e.visProp.gradientsecondopacity)),this._setAttr(t,"angle",i.evaluate(e.visProp.gradientangle))):"radial"===r?(this._setAttr(t,"type","gradientradial"),this._setAttr(t,"color2",i.evaluate(e.visProp.gradientsecondcolor)),this._setAttr(t,"opacity2",i.evaluate(e.visProp.gradientsecondopacity)),this._setAttr(t,"focusposition",100*i.evaluate(e.visProp.gradientpositionx)+"%,"+100*i.evaluate(e.visProp.gradientpositiony)+"%"),this._setAttr(t,"focussize","0,0")):this._setAttr(t,"type","solid")},setObjectFillColor:function(e,t,o){var s,a,l,c=i.evaluate(t),u=i.evaluate(o),h=e.rendNode;u=u>0?u:0,e.visPropOld.fillcolor===c&&e.visPropOld.fillopacity===u||(i.exists(c)&&!1!==c&&(9!==c.length?(s=c,l=u):(s=(a=n.rgba2rgbo(c))[0],l=u*a[1]),"none"===s||!1===s?this._setAttr(e.rendNode,"filled","false"):(this._setAttr(e.rendNode,"filled","true"),this._setAttr(e.rendNode,"fillcolor",s),i.exists(l)&&e.rendNodeFill&&this._setAttr(e.rendNodeFill,"opacity",100*l+"%")),e.type===r.OBJECT_TYPE_IMAGE&&h.filters.length>1&&(h.filters.item(1).opacity=Math.round(100*l),h.filters.item(1).enabled=!0)),e.visPropOld.fillcolor=c,e.visPropOld.fillopacity=u)},setObjectStrokeColor:function(e,t,n){var o,s,a,l,c=i.evaluate(t),u=i.evaluate(n),h=e.rendNode;u=u>0?u:0,e.visPropOld.strokecolor===c&&e.visPropOld.strokeopacity===u||(i.exists(c)&&!1!==c&&(9!==c.length?(o=c,a=u):(o=(s=t.rgba2rgbo(c))[0],a=u*s[1]),e.elementClass===r.OBJECT_CLASS_TEXT?(h.filters.length>1&&(h.filters.item(1).opacity=Math.round(100*a),h.filters.item(1).enabled=!0),h.style.color=o):(!1!==o&&(this._setAttr(h,"stroked","true"),this._setAttr(h,"strokecolor",o)),l=e.rendNodeStroke,i.exists(a)&&e.type!==r.OBJECT_TYPE_IMAGE&&this._setAttr(l,"opacity",100*a+"%"))),e.visPropOld.strokecolor=c,e.visPropOld.strokeopacity=u)},setObjectStrokeWidth:function(e,t){var r,n=i.evaluate(t);isNaN(n)||e.visPropOld.strokewidth===n||(r=e.rendNode,this.setPropertyPrim(r,"stroked","true"),i.exists(n)&&(this.setPropertyPrim(r,"stroke-width",n),0===n&&i.exists(e.rendNodeStroke)&&this._setAttr(r,"stroked","false")),e.visPropOld.strokewidth=n)},setShadow:function(e){var t=e.rendNodeShadow,r=i.evaluate(e.visProp.shadow);t&&e.visPropOld.shadow!==r&&(r?(this._setAttr(t,"On","True"),this._setAttr(t,"Offset","3pt,3pt"),this._setAttr(t,"Opacity","60%"),this._setAttr(t,"Color","#aaaaaa")):this._setAttr(t,"On","False"),e.visPropOld.shadow=r)},suspendRedraw:function(){this.container.style.display="none"},unsuspendRedraw:function(){this.container.style.display=""}}),e.VMLRenderer})),define("renderer/canvas",["jxg","renderer/abstract","base/constants","utils/env","utils/type","utils/uuid","utils/color","base/coords","math/math","math/geometry","math/numerics"],(function(e,t,r,i,n,o,s,a,l,c,u){"use strict";return e.CanvasRenderer=function(e,t){if(this.type="canvas",this.canvasRoot=null,this.suspendHandle=null,this.canvasId=o.genUUID(),this.canvasNamespace=null,i.isBrowser)this.container=e,this.container.style.MozUserSelect="none",this.container.style.userSelect="none",this.container.style.overflow="hidden",""===this.container.style.position&&(this.container.style.position="relative"),this.container.innerHTML=['<canvas id="',this.canvasId,'" width="',t.width,'px" height="',t.height,'px"><',"/canvas>"].join(""),this.canvasRoot=this.container.ownerDocument.getElementById(this.canvasId),this.canvasRoot.style.display="block",this.context=this.canvasRoot.getContext("2d");else if(i.isNode())try{this.canvasId=__webpack_require__(Object(function(){var e=new Error("Cannot find module 'canvas'");throw e.code="MODULE_NOT_FOUND",e}())),this.canvasRoot=new this.canvasId(500,500),this.context=this.canvasRoot.getContext("2d")}catch(e){console.log("Warning: 'canvas' not found. You might need to call 'npm install canvas'")}this.dashArray=[[2,2],[5,5],[10,10],[20,20],[20,10,10,10],[20,5,10,5]]},e.CanvasRenderer.prototype=new t,e.extend(e.CanvasRenderer.prototype,{_drawPolygon:function(e,t,r){var i,n=e.length,o=this.context;if(n>0){if(r&&(o.lineWidth=0),o.beginPath(),o.moveTo(e[0][0],e[0][1]),1===t)for(i=1;i<n;i++)o.lineTo(e[i][0],e[i][1]);else for(i=1;i<n;i+=3)o.bezierCurveTo(e[i][0],e[i][1],e[i+1][0],e[i+1][1],e[i+2][0],e[i+2][1]);r?(o.lineTo(e[0][0],e[0][1]),o.closePath(),o.fill()):o.stroke()}},_fill:function(e){var t=this.context;t.save(),this._setColor(e,"fill")&&t.fill(),t.restore()},_rotatePoint:function(e,t,r){return[t*Math.cos(e)-r*Math.sin(e),t*Math.sin(e)+r*Math.cos(e)]},_rotateShape:function(e,t){var r,i=[],n=e.length;if(n<=0)return e;for(r=0;r<n;r++)i.push(this._rotatePoint(t,e[r][0],e[r][1]));return i},updateGradientAngle:function(e,t){var i,n,o,s,l,c,u,h,d,p,f,v,m=1,g=Math.cos(-t),b=Math.sin(-t),y=e.getBoundingBox();return Math.abs(g)>Math.abs(b)?m/=Math.abs(g):m/=Math.abs(b),g>=0?(o=0,s=g*m):(o=-g*m,s=0),b>=0?(l=0,c=b*m):(l=-b*m,c=0),i=new a(r.COORDS_BY_USER,[y[0],y[1]],e.board),f=(n=new a(r.COORDS_BY_USER,[y[2],y[3]],e.board)).scrCoords[1]-i.scrCoords[1],v=n.scrCoords[2]-i.scrCoords[2],u=i.scrCoords[1]+f*o,d=i.scrCoords[2]+v*l,h=i.scrCoords[1]+f*s,p=i.scrCoords[2]+v*c,this.context.createLinearGradient(u,d,h,p)},updateGradientCircle:function(e,t,i,n,o,s,l){var c,u,h,d,p,f,v,m,g,b,y=e.getBoundingBox();return c=new a(r.COORDS_BY_USER,[y[0],y[1]],e.board),g=(u=new a(r.COORDS_BY_USER,[y[2],y[3]],e.board)).scrCoords[1]-c.scrCoords[1],b=c.scrCoords[2]-u.scrCoords[2],h=c.scrCoords[1]+g*t,d=u.scrCoords[2]+b*i,f=c.scrCoords[1]+g*o,v=u.scrCoords[2]+b*s,p=n*(g+b)*.5,m=l*(g+b)*.5,this.context.createRadialGradient(f,v,m,h,d,p)},updateGradient:function(e){var t,r,i,o=n.evaluate(e.visProp.gradient);return r=(r=n.evaluate(e.visProp.fillopacity))>0?r:0,t=n.evaluate(e.visProp.fillcolor),"linear"===o?i=this.updateGradientAngle(e,n.evaluate(e.visProp.gradientangle)):"radial"===o&&(i=this.updateGradientCircle(e,n.evaluate(e.visProp.gradientcx),n.evaluate(e.visProp.gradientcy),n.evaluate(e.visProp.gradientr),n.evaluate(e.visProp.gradientfx),n.evaluate(e.visProp.gradientfy),n.evaluate(e.visProp.gradientfr))),i.addColorStop(n.evaluate(e.visProp.gradientstartoffset),t),i.addColorStop(n.evaluate(e.visProp.gradientendoffset),n.evaluate(e.visProp.gradientsecondcolor)),i},_setColor:function(e,t,r){var i,o,a,l,c,u,h,d,p=!0,f=e.visProp;return t=t||"stroke",r=r||t,i=this._getHighlighted(e),"linear"===(d=n.evaluate(e.visProp.gradient))||"radial"===d?(this.context[r+"Style"]=this.updateGradient(e),p):("none"!==(a=n.evaluate(f[i+t+"color"]))&&!1!==a?(u=(u=n.evaluate(f[i+t+"opacity"]))>0?u:0,9!==a.length?(c=a,h=u):(c=(l=s.rgba2rgbo(a))[0],h=u*l[1]),this.context.globalAlpha=h,this.context[r+"Style"]=c):p=!1,o=parseFloat(n.evaluate(f[i+"strokewidth"])),"stroke"!==t||isNaN(o)||(0===o?this.context.globalAlpha=0:this.context.lineWidth=o),"stroke"===t&&void 0!==f.linecap&&""!==f.linecap&&(this.context.lineCap=f.linecap),p)},_stroke:function(e){var t=this.context,r=n.evaluate(e.visProp.dash);t.save(),r>0?t.setLineDash&&t.setLineDash(this.dashArray[r]):this.context.lineDashArray=[],this._setColor(e,"stroke")&&t.stroke(),t.restore()},_translateShape:function(e,t,r){var i,n=[],o=e.length;if(o<=0)return e;for(i=0;i<o;i++)n.push([e[i][0]+t,e[i][1]+r]);return n},drawPoint:function(e){var t=n.evaluate(e.visProp.face),r=n.evaluate(e.visProp.size),i=e.coords.scrCoords,o=r*Math.sqrt(3)*.5,s=.5*r,a=parseFloat(n.evaluate(e.visProp.strokewidth))/2,l=this.context;if(e.visPropCalc.visible)switch(t){case"cross":case"x":l.beginPath(),l.moveTo(i[1]-r,i[2]-r),l.lineTo(i[1]+r,i[2]+r),l.moveTo(i[1]+r,i[2]-r),l.lineTo(i[1]-r,i[2]+r),l.lineCap="round",l.lineJoin="round",l.closePath(),this._stroke(e);break;case"circle":case"o":l.beginPath(),l.arc(i[1],i[2],r+1+a,0,2*Math.PI,!1),l.closePath(),this._fill(e),this._stroke(e);break;case"square":case"[]":if(r<=0)break;l.save(),this._setColor(e,"stroke","fill")&&l.fillRect(i[1]-r-a,i[2]-r-a,2*r+3*a,2*r+3*a),l.restore(),l.save(),this._setColor(e,"fill"),l.fillRect(i[1]-r+a,i[2]-r+a,2*r-a,2*r-a),l.restore();break;case"plus":case"+":l.beginPath(),l.moveTo(i[1]-r,i[2]),l.lineTo(i[1]+r,i[2]),l.moveTo(i[1],i[2]-r),l.lineTo(i[1],i[2]+r),l.lineCap="round",l.lineJoin="round",l.closePath(),this._stroke(e);break;case"diamond":case"<>":l.beginPath(),l.moveTo(i[1]-r,i[2]),l.lineTo(i[1],i[2]+r),l.lineTo(i[1]+r,i[2]),l.lineTo(i[1],i[2]-r),l.closePath(),this._fill(e),this._stroke(e);break;case"triangleup":case"a":case"^":l.beginPath(),l.moveTo(i[1],i[2]-r),l.lineTo(i[1]-o,i[2]+s),l.lineTo(i[1]+o,i[2]+s),l.closePath(),this._fill(e),this._stroke(e);break;case"triangledown":case"v":l.beginPath(),l.moveTo(i[1],i[2]+r),l.lineTo(i[1]-o,i[2]-s),l.lineTo(i[1]+o,i[2]-s),l.closePath(),this._fill(e),this._stroke(e);break;case"triangleleft":case"<":l.beginPath(),l.moveTo(i[1]-r,i[2]),l.lineTo(i[1]+s,i[2]-o),l.lineTo(i[1]+s,i[2]+o),l.closePath(),this._fill(e),this._stroke(e);break;case"triangleright":case">":l.beginPath(),l.moveTo(i[1]+r,i[2]),l.lineTo(i[1]-s,i[2]-o),l.lineTo(i[1]-s,i[2]+o),l.closePath(),this._fill(e),this._stroke(e)}},updatePoint:function(e){this.drawPoint(e)},drawArrows:function(e,t,i,o,s){var a,l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O=this.context,T=1,k=1,N=1,M=s.evFirst,A=s.evLast;if("none"!==n.evaluate(e.visProp.strokecolor)&&(M||A)){if(e.elementClass===r.OBJECT_CLASS_LINE)a=t.scrCoords[1],l=t.scrCoords[2],c=i.scrCoords[1],u=i.scrCoords[2],S=E=Math.atan2(u-l,c-a);else{if(a=e.points[0].scrCoords[1],l=e.points[0].scrCoords[2],(P=e.points.length-1)<1)return;c=e.points[e.points.length-1].scrCoords[1],u=e.points[e.points.length-1].scrCoords[2],_=e.points[1].scrCoords[1]-e.points[0].scrCoords[1],C=e.points[1].scrCoords[2]-e.points[0].scrCoords[2],x=e.points[P].scrCoords[1]-e.points[P-1].scrCoords[1],w=e.points[P].scrCoords[2]-e.points[P-1].scrCoords[2],M&&(S=Math.atan2(C,_)),A&&(E=Math.atan2(w,x))}if(h=n.evaluate(e.visProp[o+"strokewidth"]),M)if(d=h*s.sizeFirst,v=T=s.typeFirst,2===T)f=[[d,.5*-d],[0,0],[d,.5*d],[.5*d,0]];else if(3===T)f=[[d/3,.5*-d],[0,.5*-d],[0,.5*d],[d/3,.5*d]];else if(4===T)for(d/=10,k=3,y=(f=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,b=0;b<y;b++)f[b][0]*=-d,f[b][1]*=d,f[b][0]+=10*d,f[b][1]-=3.31*d;else if(5===T)for(d/=10,k=3,y=(f=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,b=0;b<y;b++)f[b][0]*=-d,f[b][1]*=d,f[b][0]+=10*d,f[b][1]-=3.28*d;else if(6===T)for(d/=10,k=3,y=(f=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,b=0;b<y;b++)f[b][0]*=-d,f[b][1]*=d,f[b][0]+=10*d,f[b][1]-=2.84*d;else if(7===T)for(d=h,k=3,y=(f=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,b=0;b<y;b++)f[b][0]*=-d,f[b][1]*=d,f[b][0]+=10*d,f[b][1]-=5.2*d;else f=[[d,.5*-d],[0,0],[d,.5*d]];if(A)if(d=h*s.sizeLast,m=T=s.typeLast,2===T)p=[[-d,.5*-d],[0,0],[-d,.5*d],[.5*-d,0]];else if(3===T)p=[[-d/3,.5*-d],[0,.5*-d],[0,.5*d],[-d/3,.5*d]];else if(4===T)for(d/=10,N=3,y=(p=[[10,3.31],[6.47,3.84],[2.87,4.5],[0,6.63],[.67,5.52],[1.33,4.42],[2,3.31],[1.33,2.21],[.67,1.1],[0,0],[2.87,2.13],[6.47,2.79],[10,3.31]]).length,b=0;b<y;b++)p[b][0]*=d,p[b][1]*=d,p[b][0]-=10*d,p[b][1]-=3.31*d;else if(5===T)for(d/=10,N=3,y=(p=[[10,3.28],[6.61,4.19],[3.19,5.07],[0,6.55],[.62,5.56],[1,4.44],[1,3.28],[1,2.11],[.62,.99],[0,0],[3.19,1.49],[6.61,2.37],[10,3.28]]).length,b=0;b<y;b++)p[b][0]*=d,p[b][1]*=d,p[b][0]-=10*d,p[b][1]-=3.28*d;else if(6===T)for(d/=10,N=3,y=(p=[[10,2.84],[6.61,3.59],[3.21,4.35],[0,5.68],[.33,4.73],[.67,3.78],[1,2.84],[.67,1.89],[.33,.95],[0,0],[3.21,1.33],[6.61,2.09],[10,2.84]]).length,b=0;b<y;b++)p[b][0]*=d,p[b][1]*=d,p[b][0]-=10*d,p[b][1]-=2.84*d;else if(7===T)for(d=h,N=3,y=(p=[[0,10.39],[2.01,6.92],[5.96,5.2],[10,5.2],[5.96,5.2],[2.01,3.47],[0,0]]).length,b=0;b<y;b++)p[b][0]*=d,p[b][1]*=d,p[b][0]-=10*d,p[b][1]-=5.2*d;else p=[[-d,.5*-d],[0,0],[-d,.5*d]];O.save(),this._setColor(e,"stroke","fill")&&(this._setColor(e,"stroke"),M&&(g=7!==v,this._drawPolygon(this._translateShape(this._rotateShape(f,S),a,l),k,g)),A&&(g=7!==m,this._drawPolygon(this._translateShape(this._rotateShape(p,E),c,u),N,g))),O.restore()}},drawLine:function(e){var t,i,o,s,l,u=new a(r.COORDS_BY_USER,e.point1.coords.usrCoords,e.board),h=new a(r.COORDS_BY_USER,e.point2.coords.usrCoords,e.board),d=null;e.visPropCalc.visible&&(o=this._getHighlighted(e),s=n.evaluate(e.visProp[o+"strokewidth"]),((l=this.getArrowHeadData(e,s,o)).evFirst||l.evLast)&&(d=-4),c.calcStraight(e,u,h,d),this.handleTouchpoints(e,u,h,l),t=new a(r.COORDS_BY_USER,u.usrCoords,e.board),i=new a(r.COORDS_BY_USER,h.usrCoords,e.board),this.getPositionArrowHead(e,u,h,l),this.context.beginPath(),this.context.moveTo(u.scrCoords[1],u.scrCoords[2]),this.context.lineTo(h.scrCoords[1],h.scrCoords[2]),this._stroke(e),(l.evFirst||l.evLast)&&this.drawArrows(e,t,i,o,l))},updateLine:function(e){this.drawLine(e)},drawTicks:function(){},updateTicks:function(e){var t,r,i,n,o,s,a=e.ticks.length,l=this.context;for(l.beginPath(),t=0;t<a;t++)for(i=(r=e.ticks[t])[0],n=r[1],o=i.length,l.moveTo(i[0],n[0]),s=1;s<o;++s)l.lineTo(i[s],n[s]);l.lineCap="round",this._stroke(e)},drawCurve:function(e){var t,r,i;n.evaluate(e.visProp.handdrawing)?this.updatePathStringBezierPrim(e):this.updatePathStringPrim(e),e.numberPoints>1&&(t=this._getHighlighted(e),r=n.evaluate(e.visProp[t+"strokewidth"]),((i=this.getArrowHeadData(e,r,t)).evFirst||i.evLast)&&this.drawArrows(e,null,null,t,i))},updateCurve:function(e){this.drawCurve(e)},drawEllipse:function(e){var t=e.center.coords.scrCoords[1],r=e.center.coords.scrCoords[2],i=e.board.unitX,n=e.board.unitY,o=2*e.Radius(),s=2*e.Radius(),a=o*i,l=s*n,c=t-a/2,u=r-l/2,h=a/2*.5522848,d=l/2*.5522848,p=c+a,f=u+l,v=c+a/2,m=u+l/2,g=this.context;o>0&&s>0&&!isNaN(t+r)&&(g.beginPath(),g.moveTo(c,m),g.bezierCurveTo(c,m-d,v-h,u,v,u),g.bezierCurveTo(v+h,u,p,m-d,p,m),g.bezierCurveTo(p,m+d,v+h,f,v,f),g.bezierCurveTo(v-h,f,c,m+d,c,m),g.closePath(),this._fill(e),this._stroke(e))},updateEllipse:function(e){return this.drawEllipse(e)},displayCopyright:function(e,t){var r=this.context;r.save(),r.font=t+"px Arial",r.fillStyle="#aaa",r.lineWidth=.5,r.fillText(e,10,2+t),r.restore()},drawInternalText:function(e){var t=n.evaluate(e.visProp.fontsize),r=n.evaluate(e.visProp.fontunit),i=e.getAnchorX(),o=e.getAnchorY(),s=this.context;return s.save(),this._setColor(e,"stroke","fill")&&!isNaN(e.coords.scrCoords[1]+e.coords.scrCoords[2])&&(s.font=(t>0?t:0)+r+" Arial",this.transformImage(e,e.transformations),"left"===i?s.textAlign="left":"right"===i?s.textAlign="right":"middle"===i&&(s.textAlign="center"),"bottom"===o?s.textBaseline="bottom":"top"===o?s.textBaseline="top":"middle"===o&&(s.textBaseline="middle"),s.fillText(e.plaintext,e.coords.scrCoords[1],e.coords.scrCoords[2])),s.restore(),null},updateInternalText:function(e){this.drawInternalText(e)},setObjectStrokeColor:function(e,t,i){var o,a,l,c,u=n.evaluate(t),h=n.evaluate(i);h=h>0?h:0,e.visPropOld.strokecolor===u&&e.visPropOld.strokeopacity===h||(n.exists(u)&&!1!==u&&(9!==u.length?(o=u,l=h):(o=(a=s.rgba2rgbo(u))[0],l=h*a[1]),c=e.rendNode,e.elementClass===r.OBJECT_CLASS_TEXT&&"html"===n.evaluate(e.visProp.display)&&(c.style.color=o,c.style.opacity=l)),e.visPropOld.strokecolor=u,e.visPropOld.strokeopacity=h)},drawImage:function(e){e.rendNode=new Image,e._src="",this.updateImage(e)},updateImage:function(e){var t=this.context,r=n.evaluate(e.visProp.fillopacity),i=n.bind((function(){e.imgIsLoaded=!0,e.size[0]<=0||e.size[1]<=0||(t.save(),t.globalAlpha=r,this.transformImage(e,e.transformations),t.drawImage(e.rendNode,e.coords.scrCoords[1],e.coords.scrCoords[2]-e.size[1],e.size[0],e.size[1]),t.restore())}),this);this.updateImageURL(e)?e.rendNode.onload=i:e.imgIsLoaded&&i()},transformImage:function(e,t){var r,i=t.length,n=this.context;i>0&&(r=this.joinTransforms(e,t),Math.abs(u.det(r))>=l.eps&&n.transform(r[1][1],r[2][1],r[1][2],r[2][2],r[1][0],r[2][0]))},updateImageURL:function(e){var t;return t=n.evaluate(e.url),e._src!==t&&(e.imgIsLoaded=!1,e.rendNode.src=t,e._src=t,!0)},remove:function(e){n.exists(e)&&n.exists(e.parentNode)&&e.parentNode.removeChild(e)},updatePathStringPrim:function(e){var t,r,i,n,o,s="M",a=s,l=5e3,c=this.context;if(!(e.numberPoints<=0)){if(o=Math.min(e.points.length,e.numberPoints),c.beginPath(),1===e.bezierDegree)for(t=0;t<o;t++)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?a=s:(r[1]>l?r[1]=l:r[1]<-5e3&&(r[1]=-5e3),r[2]>l?r[2]=l:r[2]<-5e3&&(r[2]=-5e3),a===s?c.moveTo(r[1],r[2]):c.lineTo(r[1],r[2]),a="L");else if(3===e.bezierDegree)for(t=0;t<o;)r=e.points[t].scrCoords,isNaN(r[1])||isNaN(r[2])?a=s:(a===s?c.moveTo(r[1],r[2]):(t+=1,i=e.points[t].scrCoords,t+=1,n=e.points[t].scrCoords,c.bezierCurveTo(r[1],r[2],i[1],i[2],n[1],n[2])),a="C"),t+=1;c.lineCap="round",this._fill(e),this._stroke(e)}},updatePathStringBezierPrim:function(e){var t,r,i,o,s,a,l,c="M",h=c,d=5e3,p=n.evaluate(e.visProp.strokewidth),f="plot"!==n.evaluate(e.visProp.curvetype),v=this.context;if(!(e.numberPoints<=0)){for(f&&e.board.options.curve.RDPsmoothing&&(e.points=u.RamerDouglasPeucker(e.points,.5)),l=Math.min(e.points.length,e.numberPoints),v.beginPath(),r=1;r<3;r++)for(h=c,t=0;t<l;t++)o=e.points[t].scrCoords,isNaN(o[1])||isNaN(o[2])?h=c:(o[1]>d?o[1]=d:o[1]<-5e3&&(o[1]=-5e3),o[2]>d?o[2]=d:o[2]<-5e3&&(o[2]=-5e3),h===c?v.moveTo(o[1],o[2]):(i=2*r,v.bezierCurveTo(s+.333*(o[1]-s)+p*(i*Math.random()-r),a+.333*(o[2]-a)+p*(i*Math.random()-r),s+.666*(o[1]-s)+p*(i*Math.random()-r),a+.666*(o[2]-a)+p*(i*Math.random()-r),o[1],o[2])),h="C",s=o[1],a=o[2]);v.lineCap="round",this._fill(e),this._stroke(e)}},updatePolygonPrim:function(e,t){var r,i,n,o=t.vertices.length,s=this.context,a=!0;if(!(o<=0)&&t.visPropCalc.visible){for("polygonalchain"===t.elType&&o++,s.beginPath(),i=0;!t.vertices[i].isReal&&i<o-1;)i++,a=!1;for(r=t.vertices[i].coords.scrCoords,s.moveTo(r[1],r[2]),n=i;n<o-1;n++)t.vertices[n].isReal||(a=!1),r=t.vertices[n].coords.scrCoords,s.lineTo(r[1],r[2]);s.closePath(),a&&this._fill(t)}},display:function(e,t){e&&e.rendNode&&(e.visPropOld.visible=t,e.rendNode.style.visibility=t?"inherit":"hidden")},show:function(t){e.deprecated("Board.renderer.show()","Board.renderer.display()"),n.exists(t.rendNode)&&(t.rendNode.style.visibility="inherit")},hide:function(t){e.deprecated("Board.renderer.hide()","Board.renderer.display()"),n.exists(t.rendNode)&&(t.rendNode.style.visibility="hidden")},setGradient:function(e){var t;t=(t=n.evaluate(e.visProp.fillopacity))>0?t:0},setShadow:function(e){e.visPropOld.shadow!==e.visProp.shadow&&(e.visPropOld.shadow=e.visProp.shadow)},highlight:function(e){return e.elementClass===r.OBJECT_CLASS_TEXT&&"html"===n.evaluate(e.visProp.display)?this.updateTextStyle(e,!0):(e.board.prepareUpdate(),e.board.renderer.suspendRedraw(e.board),e.board.updateRenderer(),e.board.renderer.unsuspendRedraw()),this},noHighlight:function(e){return e.elementClass===r.OBJECT_CLASS_TEXT&&"html"===n.evaluate(e.visProp.display)?this.updateTextStyle(e,!1):(e.board.prepareUpdate(),e.board.renderer.suspendRedraw(e.board),e.board.updateRenderer(),e.board.renderer.unsuspendRedraw()),this},suspendRedraw:function(t){this.context.save(),this.context.clearRect(0,0,this.canvasRoot.width,this.canvasRoot.height),t&&t.attr.showcopyright&&this.displayCopyright(e.licenseText,12)},unsuspendRedraw:function(){this.context.restore()},resize:function(e,t){this.container?(this.canvasRoot.style.width=parseFloat(e)+"px",this.canvasRoot.style.height=parseFloat(t)+"px",this.canvasRoot.setAttribute("width",2*parseFloat(e)+"px"),this.canvasRoot.setAttribute("height",2*parseFloat(t)+"px")):(this.canvasRoot.width=2*parseFloat(e),this.canvasRoot.height=2*parseFloat(t)),this.context=this.canvasRoot.getContext("2d"),this.context.scale(2,2)},removeToInsertLater:function(){return function(){}}}),e.CanvasRenderer})),define("renderer/no",["jxg","renderer/abstract"],(function(e,t){"use strict";return e.NoRenderer=function(){this.enhancedRendering=!1,this.type="no"},e.extend(e.NoRenderer.prototype,{drawPoint:function(e){},updatePoint:function(e){},changePointStyle:function(e){},drawLine:function(e){},updateLine:function(e){},drawTicks:function(e){},updateTicks:function(e){},drawCurve:function(e){},updateCurve:function(e){},drawEllipse:function(e){},updateEllipse:function(e){},drawPolygon:function(e){},updatePolygon:function(e){},displayCopyright:function(e,t){},drawInternalText:function(e){},updateInternalText:function(e){},drawText:function(e){},updateText:function(e){},updateTextStyle:function(e,t){},updateInternalTextStyle:function(e,t,r){},drawImage:function(e){},updateImage:function(e){},transformImage:function(e,t){},updateImageURL:function(e){},appendChildPrim:function(e,t){},appendNodesToElement:function(e,t){},createPrim:function(e,t){return null},remove:function(e){},makeArrows:function(e){},updateEllipsePrim:function(e,t,r,i,n){},updateLinePrim:function(e,t,r,i,n,o){},updatePathPrim:function(e,t,r){},updatePathStringPoint:function(e,t,r){},updatePathStringPrim:function(e){},updatePathStringBezierPrim:function(e){},updatePolygonPrim:function(e,t){},updateRectPrim:function(e,t,r,i,n){},setPropertyPrim:function(e,t,r){},display:function(e,t){e&&(e.visPropOld.visible=t)},show:function(e){},hide:function(e){},setBuffering:function(e,t){},setDashStyle:function(e){},setDraft:function(e){},removeDraft:function(e){},setGradient:function(e){},updateGradient:function(e){},setObjectTransition:function(e,t){},setObjectFillColor:function(e,t,r){},setObjectStrokeColor:function(e,t,r){},setObjectStrokeWidth:function(e,t){},setShadow:function(e){},highlight:function(e){},noHighlight:function(e){},suspendRedraw:function(){},unsuspendRedraw:function(){},drawZoomBar:function(e){},getElementById:function(e){return null},resize:function(e,t){},removeToInsertLater:function(){return function(){}}}),e.NoRenderer.prototype=new t,e.NoRenderer})),define("jsxgraph",["jxg","utils/env","utils/type","base/board","reader/file","options","renderer/svg","renderer/vml","renderer/canvas","renderer/no"],(function(e,t,r,i,n,o,s,a,l,c){"use strict";return e.JSXGraph={rendererType:(o.board.renderer="no",t.supportsVML()&&(o.board.renderer="vml",document.onmousemove=function(){var e;return document.body&&(e=document.body.scrollLeft,e+=document.body.scrollTop),e}),t.supportsCanvas()&&(o.board.renderer="canvas"),t.supportsSVG()&&(o.board.renderer="svg"),t.isNode()&&t.supportsCanvas()&&(o.board.renderer="canvas"),(t.isNode()||"no"===o.renderer)&&(o.text.display="internal",o.infobox.display="internal"),o.board.renderer),initRenderer:function(e,t,i,n){var o;if(r.exists(i)&&!1!==i||"object"!=typeof document||(i=document),"object"==typeof i&&null!==e)for(o=i.getElementById(e);o.firstChild;)o.removeChild(o.firstChild);else o=e;return void 0!==n&&"auto"!==n||(n=this.rendererType),"svg"===n?new s(o,t):"vml"===n?new a(o):"canvas"===n?new l(o,t):new c},_setAttributes:function(e){var t=r.copyAttributes(e,o,"board");return t.zoom=r.copyAttributes(t,o,"board","zoom"),t.pan=r.copyAttributes(t,o,"board","pan"),t.drag=r.copyAttributes(t,o,"board","drag"),t.keyboard=r.copyAttributes(t,o,"board","keyboard"),t.selection=r.copyAttributes(t,o,"board","selection"),t.navbar=r.copyAttributes(t.navbar,o,"navbar"),t.screenshot=r.copyAttributes(t,o,"board","screenshot"),t.resize=r.copyAttributes(t,o,"board","resize"),t.fullscreen=r.copyAttributes(t,o,"board","fullscreen"),t.movetarget=e.moveTarget||e.movetarget||o.board.moveTarget,t},_fillBoard:function(t,r,i){t.initInfobox(),t.maxboundingbox=r.maxboundingbox,t.resizeContainer(i.width,i.height,!0,!0),t._createSelectionPolygon(r),t.renderer.drawZoomBar(t,r.navbar),e.boards[t.id]=t},_setARIA:function(e,t){var r,i,n,o,s,a=t.document||document;"object"==typeof a&&(n=(r=a.getElementById(e)).parentNode,o=e+"_ARIAlabel",s=e+"_ARIAdescription",(i=a.createElement("div")).innerHTML=t.title,i.setAttribute("id",o),i.style.display="none",n.insertBefore(i,r),(i=a.createElement("div")).innerHTML=t.description,i.setAttribute("id",s),i.style.display="none",n.insertBefore(i,r),r.setAttribute("aria-labelledby",o),r.setAttribute("aria-describedby",s))},_removeARIANodes:function(e){var t,r;"object"==typeof(e.document||document)&&(r=e.containerObj.getAttribute("aria-labelledby"),(t=document.getElementById(r))&&t.parentNode&&t.parentNode.removeChild(t),r=e.containerObj.getAttribute("aria-describedby"),(t=document.getElementById(r))&&t.parentNode&&t.parentNode.removeChild(t))},initBoard:function(e,n){var s,a,l,c,u,h,d,p,f,v,m,g,b,y,_=0,C=0;return n=n||{},v=this._setAttributes(n),p=t.getDimensions(e,v.document),v.unitx||v.unity?(s=r.def(v.originx,150),a=r.def(v.originy,150),l=r.def(v.unitx,50),c=r.def(v.unity,50)):((f=v.boundingbox)[0]<v.maxboundingbox[0]&&(f[0]=v.maxboundingbox[0]),f[1]>v.maxboundingbox[1]&&(f[1]=v.maxboundingbox[1]),f[2]>v.maxboundingbox[2]&&(f[2]=v.maxboundingbox[2]),f[3]<v.maxboundingbox[3]&&(f[3]=v.maxboundingbox[3]),h=parseInt(p.width,10),d=parseInt(p.height,10),r.exists(f)&&v.keepaspectratio?(l=h/(f[2]-f[0]),c=d/(f[1]-f[3]),Math.abs(l)<Math.abs(c)?C=.5*(d/(c=Math.abs(l)*c/Math.abs(c))-(f[1]-f[3])):_=.5*(h/(l=Math.abs(c)*l/Math.abs(l))-(f[2]-f[0]))):(l=h/(f[2]-f[0]),c=d/(f[1]-f[3])),s=-l*(f[0]-_),a=c*(f[1]+C)),u=this.initRenderer(e,p,v.document,v.renderer),this._setARIA(e,v),(y=new i(e,u,v.id,[s,a],v.zoomfactor*v.zoomx,v.zoomfactor*v.zoomy,l,c,p.width,p.height,v)).keepaspectratio=v.keepaspectratio,this._fillBoard(y,v,p),y.suspendUpdate(),v.axis&&(m="object"==typeof v.axis?v.axis:{},g=r.deepCopy(o.board.defaultAxes.x,m),b=r.deepCopy(o.board.defaultAxes.y,m),v.defaultaxes.x&&(g=r.deepCopy(g,v.defaultaxes.x)),v.defaultaxes.y&&(b=r.deepCopy(b,v.defaultaxes.y)),y.defaultAxes={},y.defaultAxes.x=y.create("axis",[[0,0],[1,0]],g),y.defaultAxes.y=y.create("axis",[[0,0],[0,1]],b)),v.grid&&y.create("grid",[],"object"==typeof v.grid?v.grid:{}),y.unsuspendUpdate(),y},loadBoardFromFile:function(e,r,o,s,a){var l,c,u,h,d;return s=s||{},l=this._setAttributes(s),h=t.getDimensions(e,l.document),c=this.initRenderer(e,h,l.document,l.renderer),this._setARIA(e,l),u=new i(e,c,"",[150,150],1,1,50,50,h.width,h.height,l),this._fillBoard(u,l,h),d=l.encoding||"iso-8859-1",n.parseFileContent(r,u,o,!0,d,a),u},loadBoardFromString:function(e,r,o,s,a){var l,c,u,h;return s=s||{},l=this._setAttributes(s),h=t.getDimensions(e,l.document),c=this.initRenderer(e,h,l.document),this._setARIA(e,l),u=new i(e,c,"",[150,150],1,1,50,50,h.width,h.height,l),this._fillBoard(u,l,h),n.parseString(r,u,o,!0,a),u},freeBoard:function(t){var r;for(r in"string"==typeof t&&(t=e.boards[t]),this._removeARIANodes(t),t.removeEventHandlers(),t.suspendUpdate(),t.objects)t.objects.hasOwnProperty(r)&&t.objects[r].remove();for(;t.containerObj.firstChild;)t.containerObj.removeChild(t.containerObj.firstChild);for(r in t.objects)t.objects.hasOwnProperty(r)&&delete t.objects[r];delete t.renderer,t.jc.creator.clearCache(),delete t.jc,delete e.boards[t.id]},registerElement:function(t,r){e.deprecated("JXG.JSXGraph.registerElement()","JXG.registerElement()"),e.registerElement(t,r)}},t.isBrowser&&"object"==typeof window&&"object"==typeof document&&t.addEvent(window,"load",(function(){var t,i,n,o,s,a,l,c,u,h,d,p,f,v,m,g,b,y,_=!1,C=document.getElementsByTagName("script"),x=function(t,r,i){var n=e.JSXGraph.initBoard(s,{boundingbox:i,keepaspectratio:!0,grid:m,axis:v,showReload:!0});if(r.toLowerCase().indexOf("script")>-1)n.construct(t);else try{n.jc.parse(t)}catch(t){e.debug(t)}return n},w=function t(r,i,n,o){return function(){var s;e.JSXGraph.freeBoard(r),(s=x(i,n,o)).reload=t(s,i,n,o)}};for(i=0;i<C.length;i++)if(t=C[i].getAttribute("type",!1),r.exists(t)&&("text/jessiescript"===t.toLowerCase()||"jessiescript"===t.toLowerCase()||"text/jessiecode"===t.toLowerCase()||"jessiecode"===t.toLowerCase())){if(p=C[i].getAttribute("class",!1)||"",c=C[i].getAttribute("width",!1)||"",u=C[i].getAttribute("height",!1)||"",h=C[i].getAttribute("maxwidth",!1)||"100%",d=C[i].getAttribute("aspectratio",!1)||"1/1",f=C[i].getAttribute("boundingbox",!1)||"-5, 5, 5, -5",s=C[i].getAttribute("container",!1),b=C[i].getAttribute("src",!1),4!==(f=f.split(",")).length)f=[-5,5,5,-5];else for(n=0;n<f.length;n++)f[n]=parseFloat(f[n]);if(v=r.str2Bool(C[i].getAttribute("axis",!1)||"false"),m=r.str2Bool(C[i].getAttribute("grid",!1)||"false"),r.exists(s))o=document.getElementById(s);else{s="jessiescript_autgen_jxg_"+i,(o=document.createElement("div")).setAttribute("id",s),l=""!==c?"width:"+c+";":"",l+=""!==u?"height:"+u+";":"",l+=""!==h?"max-width:"+h+";":"",l+=""!==d?"aspect-ratio:"+d+";":"",o.setAttribute("style",l),o.setAttribute("class","jxgbox "+p);try{document.body.insertBefore(o,C[i])}catch(e){"object"==typeof jQuery&&jQuery(o).insertBefore(C[i])}}g="",r.exists(b)?(_=!0,(y=new XMLHttpRequest).open("GET",b),y.overrideMimeType("text/plain; charset=x-user-defined"),y.addEventListener("load",(function(){if(!(this.status<400))throw new Error("\nJSXGraph: failed to load file",b,":",this.responseText);g=this.responseText+"\n"+g,(a=x(g,t,f)).reload=w(a,g,t,f)})),y.addEventListener("error",(function(e){throw new Error("\nJSXGraph: failed to load file",b,":",e)})),y.send()):_=!1,document.getElementById(s)?(g=(g=C[i].innerHTML).replace(/<!\[CDATA\[/g,"").replace(/\]\]>/g,""),C[i].innerHTML=g,_||((a=x(g,t,f)).reload=w(a,g,t,f))):e.debug("JSXGraph: Apparently the div injection failed. Can't create a board, sorry.")}}),window),e.JSXGraph})),define("base/point",["jxg","options","math/math","math/geometry","base/constants","base/element","utils/type","base/coordselement"],(function(e,t,r,i,n,o,s,a){"use strict";return e.Point=function(e,t,r){this.constructor(e,r,n.OBJECT_TYPE_POINT,n.OBJECT_CLASS_POINT),this.element=this.board.select(r.anchor),this.coordsConstructor(t),this.elType="point",this.id=this.board.setId(this,"P"),this.board.renderer.drawPoint(this),this.board.finalizeAdding(this),this.createGradient(),this.createLabel()},e.Point.prototype=new o,s.copyPrototypeMethods(e.Point,a,"coordsConstructor"),e.extend(e.Point.prototype,{hasPoint:function(e,t){var r,i,n,o=this.coords.scrCoords,a=s.evaluate(this.visProp.sizeunit);return s.isObject(s.evaluate(this.visProp.precision))?(n=this.board._inputDevice,i=s.evaluate(this.visProp.precision[n])):i=this.board.options.precision.hasPoint,r=parseFloat(s.evaluate(this.visProp.size)),"user"===a&&(r*=Math.sqrt(this.board.unitX*this.board.unitY)),(r+=.5*parseFloat(s.evaluate(this.visProp.strokewidth)))<i&&(r=i),Math.abs(o[1]-e)<r+2&&Math.abs(o[2]-t)<r+2},update:function(e){return this.needsUpdate?(this.updateCoords(e),s.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateTransform:function(e){var t,r;if(0===this.transformations.length||null===this.baseElement)return this;for(this===this.baseElement?(t=this.transformations[0].apply(this.baseElement,"self"),this.coords.setCoordinates(n.COORDS_BY_USER,t)):t=this.transformations[0].apply(this.baseElement),this.coords.setCoordinates(n.COORDS_BY_USER,t),r=1;r<this.transformations.length;r++)this.coords.setCoordinates(n.COORDS_BY_USER,this.transformations[r].apply(this));return this},updateRenderer:function(){return this.updateRendererGeneric("updatePoint"),this},bounds:function(){return this.coords.usrCoords.slice(1).concat(this.coords.usrCoords.slice(1))},makeIntersection:function(e,t,r,o){var a;e=this.board.select(e),t=this.board.select(t),a=i.intersectionFunction(this.board,e,t,r,o,s.evaluate(this.visProp.alwaysintersect)),this.addConstraint([a]);try{e.addChild(this),t.addChild(this)}catch(r){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof e+"' and '"+typeof t+"'.")}this.type=n.OBJECT_TYPE_INTERSECTION,this.elType="intersection",this.parents=[e.id,t.id,r,o],this.generatePolynomial=function(){var r=e.generatePolynomial(this),i=t.generatePolynomial(this);return 0===r.length||0===i.length?[]:[r[0],i[0]]},this.prepareUpdate().update()},setStyle:function(e){return this.visProp.face=["cross","cross","cross","circle","circle","circle","circle","square","square","square","plus","plus","plus"][e],this.visProp.size=[2,3,4,1,2,3,4,2,3,4,2,3,4][e],this.board.renderer.changePointStyle(this),this},normalizeFace:function(r){return e.deprecated("Point.normalizeFace()","JXG.normalizePointFace()"),t.normalizePointFace(r)},face:function(t){e.deprecated("Point.face()","Point.setAttribute()"),this.setAttribute({face:t})},size:function(t){e.deprecated("Point.size()","Point.setAttribute()"),this.setAttribute({size:t})},isOn:function(t,o){var a,l;return o=o||r.eps,s.isPoint(t)?this.Dist(t)<o:t.elementClass===n.OBJECT_CLASS_LINE?("segment"!==t.elType||s.evaluate(this.visProp.alwaysintersect)||(a=e.Math.Geometry.projectCoordsToSegment(this.coords.usrCoords,t.point1.coords.usrCoords,t.point2.coords.usrCoords))[1]>=0&&a[1]<=1)&&i.distPointLine(this.coords.usrCoords,t.stdform)<o:t.elementClass===n.OBJECT_CLASS_CIRCLE?s.evaluate(t.visProp.hasinnerpoints)?this.Dist(t.center)<t.Radius()+o:Math.abs(this.Dist(t.center)-t.Radius())<o:t.elementClass===n.OBJECT_CLASS_CURVE?(l=i.projectPointToCurve(this,t,this.board)[0],i.distance(this.coords.usrCoords,l.usrCoords,3)<o):t.type===n.OBJECT_TYPE_POLYGON?!(!s.evaluate(t.visProp.hasinnerpoints)||!t.pnpoly(this.coords.usrCoords[1],this.coords.usrCoords[2],e.COORDS_BY_USER))||(a=i.projectCoordsToPolygon(this.coords.usrCoords,t),i.distance(this.coords.usrCoords,a,3)<o):t.type===n.OBJECT_TYPE_TURTLE&&(l=i.projectPointToTurtle(this,t,this.board),i.distance(this.coords.usrCoords,l.usrCoords,3)<o)},cloneToBackground:function(){var e={};return e.id=this.id+"T"+this.numTraces,this.numTraces+=1,e.coords=this.coords,e.visProp=s.deepCopy(this.visProp,this.visProp.traceattributes,!0),e.visProp.layer=this.board.options.layer.trace,e.elementClass=n.OBJECT_CLASS_POINT,e.board=this.board,s.clearVisPropOld(e),e.visPropCalc={visible:s.evaluate(e.visProp.visible)},this.board.renderer.drawPoint(e),this.traces[e.id]=e.rendNode,this}}),e.createPoint=function(t,r,i){var n,o;if(o=s.copyAttributes(i,t.options,"point"),!(n=a.create(e.Point,t,r,o)))throw new Error("JSXGraph: Can't create point with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return n},e.createGlider=function(e,t,r){var i,n,o=s.copyAttributes(r,e.options,"glider");return n=1===t.length?[0,0]:t.slice(0,2),(i=e.create("point",n,o)).makeGlider(t[t.length-1]),i},e.createIntersectionPoint=function(e,t,r){var o,a,l,c,u,h,d=s.copyAttributes(r,e.options,"intersection");t.push(0,0),a=e.select(t[0]),l=e.select(t[1]),u=t[2]||0,h=t[3]||0,o=e.create("point",[0,0,0],d),c=i.intersectionFunction(e,a,l,u,h,o.visProp.alwaysintersect),o.addConstraint([c]);try{a.addChild(o),l.addChild(o)}catch(e){throw new Error("JSXGraph: Can't create 'intersection' with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.")}return o.type=n.OBJECT_TYPE_INTERSECTION,o.elType="intersection",o.setParents([a.id,l.id]),o.intersectionNumbers=[u,h],o.getParents=function(){return this.parents.concat(this.intersectionNumbers)},o.generatePolynomial=function(){var e=a.generatePolynomial(o),t=l.generatePolynomial(o);return 0===e.length||0===t.length?[]:[e[0],t[0]]},o},e.createOtherIntersectionPoint=function(e,t,o){var a,l,c,u;if(3!==t.length||!s.isPoint(t[2])||t[0].elementClass!==n.OBJECT_CLASS_LINE&&t[0].elementClass!==n.OBJECT_CLASS_CIRCLE||t[1].elementClass!==n.OBJECT_CLASS_LINE&&t[1].elementClass!==n.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'other intersection point' with parent types '"+typeof t[0]+"',  '"+typeof t[1]+"'and  '"+typeof t[2]+"'.\nPossible parent types: [circle|line,circle|line,point]");return l=e.select(t[0]),c=e.select(t[1]),u=e.select(t[2]),(a=e.create("point",[function(){var e=i.meet(l.stdform,c.stdform,0,l.board);return Math.abs(u.X()-e.usrCoords[1])>r.eps||Math.abs(u.Y()-e.usrCoords[2])>r.eps||Math.abs(u.Z()-e.usrCoords[0])>r.eps?e:i.meet(l.stdform,c.stdform,1,l.board)}],o)).type=n.OBJECT_TYPE_INTERSECTION,a.elType="otherintersection",a.setParents([l.id,c.id,u]),l.addChild(a),c.addChild(a),a.generatePolynomial=function(){var e=l.generatePolynomial(a),t=c.generatePolynomial(a);return 0===e.length||0===t.length?[]:[e[0],t[0]]},a},e.createPolePoint=function(t,r,i){var o,s,a,l,c,u,h;if(r.length>1&&(l=r[0].type===n.OBJECT_TYPE_CONIC||r[0].elementClass===n.OBJECT_CLASS_CIRCLE,c=r[1].type===n.OBJECT_TYPE_CONIC||r[1].elementClass===n.OBJECT_CLASS_CIRCLE,u=r[0].elementClass===n.OBJECT_CLASS_LINE,h=r[1].elementClass===n.OBJECT_CLASS_LINE),2!==r.length||!(l&&h||u&&c))throw new Error("JSXGraph: Can't create 'pole point' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent type: [conic|circle,line], [line,conic|circle]");return h?(s=t.select(r[0]),a=t.select(r[1])):(s=t.select(r[1]),a=t.select(r[0])),(o=t.create("point",[function(){var t=s.quadraticform,r=a.stdform.slice(0,3);return[e.Math.Numerics.det([r,t[1],t[2]]),e.Math.Numerics.det([t[0],r,t[2]]),e.Math.Numerics.det([t[0],t[1],r])]}],i)).elType="polepoint",o.setParents([s.id,a.id]),s.addChild(o),a.addChild(o),o},e.registerElement("point",e.createPoint),e.registerElement("glider",e.createGlider),e.registerElement("intersection",e.createIntersectionPoint),e.registerElement("otherintersection",e.createOtherIntersectionPoint),e.registerElement("polepoint",e.createPolePoint),{Point:e.Point,createPoint:e.createPoint,createGlider:e.createGlider,createIntersection:e.createIntersectionPoint,createOtherIntersection:e.createOtherIntersectionPoint,createPolePoint:e.createPolePoint}})),define("base/line",["jxg","math/math","math/geometry","math/numerics","math/statistics","base/constants","base/coords","base/element","utils/type","base/point"],(function(e,t,r,i,n,o,s,a,l,c){"use strict";return e.Line=function(t,r,i,n){this.constructor(t,n,o.OBJECT_TYPE_LINE,o.OBJECT_CLASS_LINE),this.point1=this.board.select(r),this.point2=this.board.select(i),this.ticks=[],this.defaultTicks=null,this.parentPolygon=null,this.id=this.board.setId(this,"L"),this.board.renderer.drawLine(this),this.board.finalizeAdding(this),this.elType="line",this.point1._is_new?(this.addChild(this.point1),delete this.point1._is_new):this.point1.addChild(this),this.point2._is_new?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this),this.inherits.push(this.point1,this.point2),this.updateStdform(),this.createLabel(),this.methodMap=e.deepCopy(this.methodMap,{point1:"point1",point2:"point2",getSlope:"getSlope",getRise:"getRise",getYIntersect:"getRise",getAngle:"getAngle",L:"L",length:"L"})},e.Line.prototype=new a,e.extend(e.Line.prototype,{hasPoint:function(e,i){var n,a,c,u,h,d,p,f,v,m=[],g=[1,e,i],b=l.evaluate(this.visProp.strokewidth);return l.isObject(l.evaluate(this.visProp.precision))?(v=this.board._inputDevice,f=l.evaluate(this.visProp.precision[v])):f=this.board.options.precision.hasPoint,f+=.5*b,m[0]=this.stdform[0]-this.stdform[1]*this.board.origin.scrCoords[1]/this.board.unitX+this.stdform[2]*this.board.origin.scrCoords[2]/this.board.unitY,m[1]=this.stdform[1]/this.board.unitX,m[2]=this.stdform[2]/-this.board.unitY,n=r.distPointLine(g,m),!(isNaN(n)||n>f)&&(!(!l.evaluate(this.visProp.straightfirst)||!l.evaluate(this.visProp.straightlast))||(c=this.point1.coords,u=this.point2.coords,a=[0,m[1],m[2]],a=t.crossProduct(a,g),(a=t.crossProduct(a,m))[1]/=a[0],a[2]/=a[0],a[0]=1,a=new s(o.COORDS_BY_SCREEN,a.slice(1),this.board).usrCoords,h=c.distance(o.COORDS_BY_USER,u),c=c.usrCoords.slice(0),u=u.usrCoords.slice(0),h<t.eps?d=0:(h===Number.POSITIVE_INFINITY&&(h=1/t.eps,Math.abs(u[0])<t.eps?(h/=r.distance([0,0,0],u),u=[1,c[1]+u[1]*h,c[2]+u[2]*h]):(h/=r.distance([0,0,0],c),c=[1,u[1]+c[1]*h,u[2]+c[2]*h])),h=u[p=1]-c[p],Math.abs(h)<t.eps&&(h=u[p=2]-c[p]),d=(a[p]-c[p])/h),!(!l.evaluate(this.visProp.straightfirst)&&d<0)&&!(!l.evaluate(this.visProp.straightlast)&&d>1)))},update:function(){var e;return this.needsUpdate?(this.constrained&&(l.isFunction(this.funps)?(e=this.funps())&&e.length&&2===e.length&&(this.point1=e[0],this.point2=e[1]):(l.isFunction(this.funp1)&&(e=this.funp1(),l.isPoint(e)?this.point1=e:e&&e.length&&2===e.length&&this.point1.setPositionDirectly(o.COORDS_BY_USER,e)),l.isFunction(this.funp2)&&(e=this.funp2(),l.isPoint(e)?this.point2=e:e&&e.length&&2===e.length&&this.point2.setPositionDirectly(o.COORDS_BY_USER,e)))),this.updateSegmentFixedLength(),this.updateStdform(),l.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this):this},updateSegmentFixedLength:function(){var e,r,i,n,s,a,c,u;return this.hasFixedLength?(e=this.point1.Dist(this.point2),r=this.fixedLength(),i=this.fixedLengthOldCoords[0].distance(o.COORDS_BY_USER,this.point1.coords),n=this.fixedLengthOldCoords[1].distance(o.COORDS_BY_USER,this.point2.coords),(i>t.eps||n>t.eps||e!==r)&&(s=this.point1.isDraggable&&this.point1.type!==o.OBJECT_TYPE_GLIDER&&!l.evaluate(this.point1.visProp.fixed),a=this.point2.isDraggable&&this.point2.type!==o.OBJECT_TYPE_GLIDER&&!l.evaluate(this.point2.visProp.fixed),e>t.eps?i>n&&a||i<=n&&a&&!s?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+(this.point2.X()-this.point1.X())*r/e,this.point1.Y()+(this.point2.Y()-this.point1.Y())*r/e]),this.point2.fullUpdate()):(i<=n&&s||i>n&&s&&!a)&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+(this.point1.X()-this.point2.X())*r/e,this.point2.Y()+(this.point1.Y()-this.point2.Y())*r/e]),this.point1.fullUpdate()):(c=Math.random()-.5,u=Math.random()-.5,e=Math.sqrt(c*c+u*u),a?(this.point2.setPositionDirectly(o.COORDS_BY_USER,[this.point1.X()+c*r/e,this.point1.Y()+u*r/e]),this.point2.fullUpdate()):s&&(this.point1.setPositionDirectly(o.COORDS_BY_USER,[this.point2.X()+c*r/e,this.point2.Y()+u*r/e]),this.point1.fullUpdate())),this.fixedLengthOldCoords[0].setCoordinates(o.COORDS_BY_USER,this.point1.coords.usrCoords),this.fixedLengthOldCoords[1].setCoordinates(o.COORDS_BY_USER,this.point2.coords.usrCoords)),this):this},updateStdform:function(){var e=t.crossProduct(this.point1.coords.usrCoords,this.point2.coords.usrCoords);this.stdform[0]=e[0],this.stdform[1]=e[1],this.stdform[2]=e[2],this.stdform[3]=0,this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.point1.coords.usrCoords[1]+this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[1]+this.point2.coords.usrCoords[2])&&t.innerProduct(this.stdform,this.stdform,3)>=t.eps*t.eps,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateLine(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},generatePolynomial:function(e){var t=this.point1.symbolic.x,r=this.point1.symbolic.y,i=this.point2.symbolic.x,n=this.point2.symbolic.y,o=e.symbolic.x,s=e.symbolic.y;return[["(",r,")*(",o,")-(",r,")*(",i,")+(",s,")*(",i,")-(",t,")*(",s,")+(",t,")*(",n,")-(",o,")*(",n,")"].join("")]},getRise:function(){return Math.abs(this.stdform[2])>=t.eps?-this.stdform[0]/this.stdform[2]:1/0},getSlope:function(){return Math.abs(this.stdform[2])>=t.eps?-this.stdform[1]/this.stdform[2]:1/0},getAngle:function(){return Math.atan2(-this.stdform[1],this.stdform[2])},setStraight:function(e,t){return this.visProp.straightfirst=e,this.visProp.straightlast=t,this.board.renderer.updateLine(this),this},getTextAnchor:function(){return new s(o.COORDS_BY_USER,[.5*(this.point2.X()+this.point1.X()),.5*(this.point2.Y()+this.point1.Y())],this.board)},setLabelRelativeCoords:function(e){l.exists(this.label)&&(this.label.relativeCoords=new s(o.COORDS_BY_SCREEN,[e[0],-e[1]],this.board))},getLabelAnchor:function(){var e,i,n=0,a=new s(o.COORDS_BY_USER,this.point1.coords.usrCoords,this.board),c=new s(o.COORDS_BY_USER,this.point2.coords.usrCoords,this.board),u=l.evaluate(this.visProp.straightfirst),h=l.evaluate(this.visProp.straightlast);if((u||h)&&r.calcStraight(this,a,c,0),a=a.scrCoords,c=c.scrCoords,!l.exists(this.label))return new s(o.COORDS_BY_SCREEN,[NaN,NaN],this.board);switch(l.evaluate(this.label.visProp.position)){case"lft":case"llft":case"ulft":a[1]<=c[1]?(e=a[1],i=a[2]):(e=c[1],i=c[2]);break;case"rt":case"lrt":case"urt":a[1]>c[1]?(e=a[1],i=a[2]):(e=c[1],i=c[2]);break;default:e=.5*(a[1]+c[1]),i=.5*(a[2]+c[2])}return(u||h)&&(l.exists(this.label)&&(n=l.evaluate(this.label.visProp.fontsize)),Math.abs(e)<t.eps?e=n:this.board.canvasWidth+t.eps>e&&e>this.board.canvasWidth-n-t.eps&&(e=this.board.canvasWidth-n),t.eps+n>i&&i>-t.eps?i=n:this.board.canvasHeight+t.eps>i&&i>this.board.canvasHeight-n-t.eps&&(i=this.board.canvasHeight-n)),new s(o.COORDS_BY_SCREEN,[e,i],this.board)},cloneToBackground:function(){var e,t,r,i={};return i.id=this.id+"T"+this.numTraces,i.elementClass=o.OBJECT_CLASS_LINE,this.numTraces++,i.point1=this.point1,i.point2=this.point2,i.stdform=this.stdform,i.board=this.board,i.visProp=l.deepCopy(this.visProp,this.visProp.traceattributes,!0),i.visProp.layer=this.board.options.layer.trace,l.clearVisPropOld(i),i.visPropCalc={visible:l.evaluate(i.visProp.visible)},t=this.getSlope(),e=this.getRise(),i.getSlope=function(){return t},i.getRise=function(){return e},r=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawLine(i),this.board.renderer.enhancedRendering=r,this.traces[i.id]=i.rendNode,this},addTransform:function(e){var t,r=l.isArray(e)?e:[e],i=r.length;for(t=0;t<i;t++)this.point1.transformations.push(r[t]),this.point2.transformations.push(r[t]);return this},snapToGrid:function(e){var t,i,a,c,u,h,d,p;return l.evaluate(this.visProp.snaptogrid)?this.parents.length<3?(this.point1.handleSnapToGrid(!0,!0),this.point2.handleSnapToGrid(!0,!0)):l.exists(e)&&(d=l.evaluate(this.visProp.snapsizex),p=l.evaluate(this.visProp.snapsizey),u=(t=new s(o.COORDS_BY_SCREEN,[e.Xprev,e.Yprev],this.board)).usrCoords[1],h=t.usrCoords[2],d<=0&&this.board.defaultAxes&&this.board.defaultAxes.x.defaultTicks&&(d=(c=this.board.defaultAxes.x.defaultTicks).ticksDelta*(l.evaluate(c.visProp.minorticks)+1)),p<=0&&this.board.defaultAxes&&this.board.defaultAxes.y.defaultTicks&&(p=(c=this.board.defaultAxes.y.defaultTicks).ticksDelta*(l.evaluate(c.visProp.minorticks)+1)),d>0&&p>0&&(i=r.projectPointToLine({coords:t},this,this.board),a=n.subtract([1,Math.round(u/d)*d,Math.round(h/p)*p],i.usrCoords),this.board.create("transform",a.slice(1),{type:"translate"}).applyOnce([this.point1,this.point2]))):(this.point1.handleSnapToGrid(!1,!0),this.point2.handleSnapToGrid(!1,!0)),this},snapToPoints:function(){var e=l.evaluate(this.visProp.snaptopoints);return this.parents.length<3&&(this.point1.handleSnapToPoints(e),this.point2.handleSnapToPoints(e)),this},X:function(e){var r,i=this.stdform[2];return r=Math.abs(this.point1.coords.usrCoords[0])>t.eps?this.point1.coords.usrCoords[1]:this.point2.coords.usrCoords[1],e=2*(e-.5),(1-Math.abs(e))*r-e*i},Y:function(e){var r,i=this.stdform[1];return r=Math.abs(this.point1.coords.usrCoords[0])>t.eps?this.point1.coords.usrCoords[2]:this.point2.coords.usrCoords[2],e=2*(e-.5),(1-Math.abs(e))*r+e*i},Z:function(e){var r=Math.abs(this.point1.coords.usrCoords[0])>t.eps?this.point1.coords.usrCoords[0]:this.point2.coords.usrCoords[0];return e=2*(e-.5),(1-Math.abs(e))*r},L:function(){return this.point1.Dist(this.point2)},minX:function(){return 0},maxX:function(){return 1},bounds:function(){var e=this.point1.coords.usrCoords,t=this.point2.coords.usrCoords;return[Math.min(e[1],t[1]),Math.max(e[2],t[2]),Math.max(e[1],t[1]),Math.min(e[2],t[2])]},remove:function(){this.removeAllTicks(),a.prototype.remove.call(this)}}),e.createLine=function(t,r,i){var n,o,s,a,u,h,d,p=[],f=!1,v=!1;if(2===r.length){if(l.isArray(r[0])&&r[0].length>1)h=l.copyAttributes(i,t.options,"line","point1"),s=t.create("point",r[0],h);else if(l.isString(r[0])||l.isPoint(r[0]))s=t.select(r[0]);else if(l.isFunction(r[0])&&l.isPoint(r[0]()))s=r[0](),v=!0;else if(l.isFunction(r[0])&&r[0]().length&&r[0]().length>=2)h=l.copyAttributes(i,t.options,"line","point1"),s=c.createPoint(t,r[0](),h),v=!0;else{if(!l.isObject(r[0])||!l.isTransformationOrArray(r[1]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");f=!0,h=l.copyAttributes(i,t.options,"line","point1"),s=t.create("point",[r[0].point1,r[1]],h)}if(f)h=l.copyAttributes(i,t.options,"line","point2"),a=t.create("point",[r[0].point2,r[1]],h);else if(l.isArray(r[1])&&r[1].length>1)h=l.copyAttributes(i,t.options,"line","point2"),a=t.create("point",r[1],h);else if(l.isString(r[1])||l.isPoint(r[1]))a=t.select(r[1]);else if(l.isFunction(r[1])&&l.isPoint(r[1]()))a=r[1](),v=!0;else{if(!(l.isFunction(r[1])&&r[1]().length&&r[1]().length>=2))throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");h=l.copyAttributes(i,t.options,"line","point2"),a=c.createPoint(t,r[1](),h),v=!0}h=l.copyAttributes(i,t.options,"line"),o=new e.Line(t,s,a,h),v?(o.constrained=!0,o.funp1=r[0],o.funp2=r[1]):f||(o.isDraggable=!0),o.setParents([s.id,a.id])}else if(3===r.length){for(d=!0,u=0;u<3;u++)if(l.isNumber(r[u]))p[u]=l.createFunction(r[u]);else{if(!l.isFunction(r[u]))throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");p[u]=r[u],d=!1}h=l.copyAttributes(i,t.options,"line","point1"),s=d?t.create("point",[p[2]()*p[2]()+p[1]()*p[1](),p[2]()-p[1]()*p[0]()+p[2](),-p[1]()-p[2]()*p[0]()-p[1]()],h):t.create("point",[function(){return.5*(p[2]()*p[2]()+p[1]()*p[1]())},function(){return.5*(p[2]()-p[1]()*p[0]()+p[2]())},function(){return.5*(-p[1]()-p[2]()*p[0]()-p[1]())}],h),h=l.copyAttributes(i,t.options,"line","point2"),a=d?t.create("point",[p[2]()*p[2]()+p[1]()*p[1](),-p[1]()*p[0]()+p[2](),-p[2]()*p[0]()-p[1]()],h):t.create("point",[function(){return p[2]()*p[2]()+p[1]()*p[1]()},function(){return-p[1]()*p[0]()+p[2]()},function(){return-p[2]()*p[0]()-p[1]()}],h),s.prepareUpdate().update(),a.prepareUpdate().update(),h=l.copyAttributes(i,t.options,"line"),(o=new e.Line(t,s,a,h)).isDraggable=d,o.setParents([s,a])}else if(1===r.length&&l.isFunction(r[0])&&2===r[0]().length&&l.isPoint(r[0]()[0])&&l.isPoint(r[0]()[1]))n=r[0](),h=l.copyAttributes(i,t.options,"line"),(o=new e.Line(t,n[0],n[1],h)).constrained=!0,o.funps=r[0],o.setParents(n);else{if(!(1===r.length&&l.isFunction(r[0])&&3===r[0]().length&&l.isNumber(r[0]()[0])&&l.isNumber(r[0]()[1])&&l.isNumber(r[0]()[2])))throw new Error("JSXGraph: Can't create line with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]], [a,b,c]");n=r[0],h=l.copyAttributes(i,t.options,"line","point1"),s=t.create("point",[function(){var e=n();return[.5*(e[2]*e[2]+e[1]*e[1]),.5*(e[2]-e[1]*e[0]+e[2]),.5*(-e[1]-e[2]*e[0]-e[1])]}],h),h=l.copyAttributes(i,t.options,"line","point2"),a=t.create("point",[function(){var e=n();return[e[2]*e[2]+e[1]*e[1],-e[1]*e[0]+e[2],-e[2]*e[0]-e[1]]}],h),h=l.copyAttributes(i,t.options,"line"),(o=new e.Line(t,s,a,h)).constrained=!0,o.funps=r[0],o.setParents([s,a])}return o},e.registerElement("line",e.createLine),e.createSegment=function(e,t,r){var i,n;if(r.straightFirst=!1,r.straightLast=!1,n=l.copyAttributes(r,e.options,"segment"),i=e.create("line",t.slice(0,2),n),3===t.length){if(i.hasFixedLength=!0,l.isNumber(t[2]))i.fixedLength=function(){return t[2]};else{if(!l.isFunction(t[2]))throw new Error("JSXGraph: Can't create segment with third parent type '"+typeof t[2]+"'.\nPossible third parent types: number or function");i.fixedLength=t[2]}i.getParents=function(){return this.parents.concat(this.fixedLength())},i.fixedLengthOldCoords=[],i.fixedLengthOldCoords[0]=new s(o.COORDS_BY_USER,i.point1.coords.usrCoords.slice(1,3),e),i.fixedLengthOldCoords[1]=new s(o.COORDS_BY_USER,i.point2.coords.usrCoords.slice(1,3),e)}return i.elType="segment",i},e.registerElement("segment",e.createSegment),e.createArrow=function(e,t,r){var i,n;return r.straightFirst=!1,r.straightLast=!1,n=l.copyAttributes(r,e.options,"arrow"),(i=e.create("line",t,n)).type=o.OBJECT_TYPE_VECTOR,i.elType="arrow",i},e.registerElement("arrow",e.createArrow),e.createAxis=function(e,t,r){var i,n,s,a,c;if(!l.isArray(t[0])&&!l.isPoint(t[0])||!l.isArray(t[1])&&!l.isPoint(t[1]))throw new Error("JSXGraph: Can't create axis with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");for(a in i=l.copyAttributes(r,e.options,"axis"),(s=e.create("line",t,i)).type=o.OBJECT_TYPE_AXIS,s.isDraggable=!1,s.point1.isDraggable=!1,s.point2.isDraggable=!1,s.ancestors)s.ancestors.hasOwnProperty(a)&&(s.ancestors[a].type=o.OBJECT_TYPE_AXISPOINT);return n=l.copyAttributes(r,e.options,"axis","ticks"),c=l.exists(n.ticksdistance)?n.ticksdistance:l.isArray(n.ticks)?n.ticks:1,s.defaultTicks=e.create("ticks",[s,c],n),s.defaultTicks.dump=!1,s.elType="axis",s.subs={ticks:s.defaultTicks},s.inherits.push(s.defaultTicks),s},e.registerElement("axis",e.createAxis),e.createTangent=function(e,r,n){var s,a,c,u,h;if(1===r.length)s=r[0],a=s.slideObject;else{if(2!==r.length)throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");if(l.isPoint(r[0]))s=r[0],a=r[1];else{if(!l.isPoint(r[1]))throw new Error("JSXGraph: Can't create tangent with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [glider], [point,line|curve|circle|conic]");a=r[0],s=r[1]}}if(a.elementClass===o.OBJECT_CLASS_LINE?(h=e.create("line",[a.point1,a.point2],n)).glider=s:a.elementClass===o.OBJECT_CLASS_CURVE&&a.type!==o.OBJECT_TYPE_CONIC?"plot"!==l.evaluate(a.visProp.curvetype)?(h=e.create("line",[function(){var e=a.X,t=a.Y;return-s.X()*i.D(t)(s.position)+s.Y()*i.D(e)(s.position)},function(){return i.D(a.Y)(s.position)},function(){return-i.D(a.X)(s.position)}],n),s.addChild(h),h.glider=s):(h=e.create("line",[function(){var e,t,r,i,n,o,l,c,u,h,d=Math.floor(s.position);if(1===a.bezierDegree)d===a.numberPoints-1&&d--;else{if(3!==a.bezierDegree)return 0;d=3*Math.floor(s.position*(a.numberPoints-1)/3),r=(s.position*(a.numberPoints-1)-d)/3,d>=a.numberPoints-1&&(d=a.numberPoints-4,r=1)}return d<0?1:(1===a.bezierDegree?(e=a.points[d].usrCoords,t=a.points[d+1].usrCoords):(i=a.points[d].usrCoords,n=a.points[d+1].usrCoords,o=a.points[d+2].usrCoords,l=a.points[d+3].usrCoords,c=(1-r)*(1-r)*(n[1]-i[1])+2*(1-r)*r*(o[1]-n[1])+r*r*(l[1]-o[1]),u=(1-r)*(1-r)*(n[2]-i[2])+2*(1-r)*r*(o[2]-n[2])+r*r*(l[2]-o[2]),c/=h=Math.sqrt(c*c+u*u),u/=h,t=[1,(e=s.coords.usrCoords)[1]+c,e[2]+u]),e[2]*t[1]-e[1]*t[2])},function(){var e,t,r,i,n,o,l,c,u,h,d=Math.floor(s.position);if(1===a.bezierDegree)d===a.numberPoints-1&&d--;else{if(3!==a.bezierDegree)return 0;d=3*Math.floor(s.position*(a.numberPoints-1)/3),r=(s.position*(a.numberPoints-1)-d)/3,d>=a.numberPoints-1&&(d=a.numberPoints-4,r=1)}return d<0?0:(1===a.bezierDegree?(e=a.points[d].usrCoords,t=a.points[d+1].usrCoords):(i=a.points[d].usrCoords,n=a.points[d+1].usrCoords,o=a.points[d+2].usrCoords,l=a.points[d+3].usrCoords,c=(1-r)*(1-r)*(n[1]-i[1])+2*(1-r)*r*(o[1]-n[1])+r*r*(l[1]-o[1]),u=(1-r)*(1-r)*(n[2]-i[2])+2*(1-r)*r*(o[2]-n[2])+r*r*(l[2]-o[2]),c/=h=Math.sqrt(c*c+u*u),u/=h,t=[1,(e=s.coords.usrCoords)[1]+c,e[2]+u]),t[2]-e[2])},function(){var e,t,r,i,n,o,l,c,u,h,d=Math.floor(s.position);if(1===a.bezierDegree)d===a.numberPoints-1&&d--;else{if(3!==a.bezierDegree)return 0;d=3*Math.floor(s.position*(a.numberPoints-1)/3),r=(s.position*(a.numberPoints-1)-d)/3,d>=a.numberPoints-1&&(d=a.numberPoints-4,r=1)}return d<0?0:(1===a.bezierDegree?(e=a.points[d].usrCoords,t=a.points[d+1].usrCoords):(i=a.points[d].usrCoords,n=a.points[d+1].usrCoords,o=a.points[d+2].usrCoords,l=a.points[d+3].usrCoords,c=(1-r)*(1-r)*(n[1]-i[1])+2*(1-r)*r*(o[1]-n[1])+r*r*(l[1]-o[1]),u=(1-r)*(1-r)*(n[2]-i[2])+2*(1-r)*r*(o[2]-n[2])+r*r*(l[2]-o[2]),c/=h=Math.sqrt(c*c+u*u),u/=h,t=[1,(e=s.coords.usrCoords)[1]+c,e[2]+u]),e[1]-t[1])}],n),s.addChild(h),h.glider=s):a.type===o.OBJECT_TYPE_TURTLE?(h=e.create("line",[function(){var e=Math.floor(s.position);for(c=0;c<a.objects.length;c++)if((u=a.objects[c]).type===o.OBJECT_TYPE_CURVE){if(e<u.numberPoints)break;e-=u.numberPoints}return e===u.numberPoints-1&&e--,e<0?1:u.Y(e)*u.X(e+1)-u.X(e)*u.Y(e+1)},function(){var e=Math.floor(s.position);for(c=0;c<a.objects.length;c++)if((u=a.objects[c]).type===o.OBJECT_TYPE_CURVE){if(e<u.numberPoints)break;e-=u.numberPoints}return e===u.numberPoints-1&&e--,e<0?0:u.Y(e+1)-u.Y(e)},function(){var e=Math.floor(s.position);for(c=0;c<a.objects.length;c++)if((u=a.objects[c]).type===o.OBJECT_TYPE_CURVE){if(e<u.numberPoints)break;e-=u.numberPoints}return e===u.numberPoints-1&&e--,e<0?0:u.X(e)-u.X(e+1)}],n),s.addChild(h),h.glider=s):a.elementClass!==o.OBJECT_CLASS_CIRCLE&&a.type!==o.OBJECT_TYPE_CONIC||(h=e.create("line",[function(){return t.matVecMult(a.quadraticform,s.coords.usrCoords)[0]},function(){return t.matVecMult(a.quadraticform,s.coords.usrCoords)[1]},function(){return t.matVecMult(a.quadraticform,s.coords.usrCoords)[2]}],n),s.addChild(h),h.glider=s),!l.exists(h))throw new Error("JSXGraph: Couldn't create tangent with the given parents.");return h.elType="tangent",h.type=o.OBJECT_TYPE_TANGENT,h.setParents(r),h},e.createRadicalAxis=function(e,r,i){var n,s,a;if(2!==r.length||r[0].elementClass!==o.OBJECT_CLASS_CIRCLE||r[1].elementClass!==o.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create 'radical axis' with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent type: [circle,circle]");return s=e.select(r[0]),a=e.select(r[1]),(n=e.create("line",[function(){var e=s.stdform,r=a.stdform;return t.matVecMult(t.transpose([e.slice(0,3),r.slice(0,3)]),[r[3],-e[3]])}],i)).elType="radicalaxis",n.setParents([s.id,a.id]),s.addChild(n),a.addChild(n),n},e.createPolarLine=function(e,t,r){var i,n,s,a,c,u,h;if(t.length>1&&(a=t[0].type===o.OBJECT_TYPE_CONIC||t[0].elementClass===o.OBJECT_CLASS_CIRCLE,c=t[1].type===o.OBJECT_TYPE_CONIC||t[1].elementClass===o.OBJECT_CLASS_CIRCLE,u=l.isPoint(t[0]),h=l.isPoint(t[1])),2!==t.length||!(a&&h||u&&c))throw new Error("JSXGraph: Can't create 'polar line' with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent type: [conic|circle,point], [point,conic|circle]");return h?(n=e.select(t[0]),s=e.select(t[1])):(n=e.select(t[1]),s=e.select(t[0])),(i=e.create("tangent",[n,s],r)).elType="polarline",i},e.registerElement("tangent",e.createTangent),e.registerElement("polar",e.createTangent),e.registerElement("radicalaxis",e.createRadicalAxis),e.registerElement("polarline",e.createPolarLine),{Line:e.Line,createLine:e.createLine,createTangent:e.createTangent,createPolar:e.createTangent,createSegment:e.createSegment,createAxis:e.createAxis,createArrow:e.createArrow,createRadicalAxis:e.createRadicalAxis,createPolarLine:e.createPolarLine}})),define("base/group",["jxg","base/constants","math/math","math/geometry","utils/type"],(function(e,t,r,i,n){"use strict";return e.Group=function(e,r,i,o,s){var a,l,c,u;for(this.board=e,this.objects={},a=this.board.numObjects,this.board.numObjects+=1,""!==r&&n.exists(r)?this.id=r:this.id=this.board.id+"Group"+a,this.board.groups[this.id]=this,this.type=t.OBJECT_TYPE_POINT,this.elementClass=t.OBJECT_CLASS_POINT,""!==i&&n.exists(i)?this.name=i:this.name="group_"+this.board.generateName(this),delete this.type,this.coords={},this.needsRegularUpdate=s.needsregularupdate,this.rotationCenter="centroid",this.scaleCenter=null,this.rotationPoints=[],this.translationPoints=[],this.scalePoints=[],this.scaleDirections={},this.parents=[],l=n.isArray(o)?o:Array.prototype.slice.call(arguments,3),c=0;c<l.length;c++)u=this.board.select(l[c]),!n.evaluate(u.visProp.fixed)&&n.exists(u.coords)&&this.addPoint(u);this.methodMap={ungroup:"ungroup",add:"addPoint",addPoint:"addPoint",addPoints:"addPoints",addGroup:"addGroup",remove:"removePoint",removePoint:"removePoint",setAttribute:"setAttribute",setProperty:"setAttribute"}},e.extend(e.Group.prototype,{ungroup:function(){var e,t,r;for(e in this.objects)this.objects.hasOwnProperty(e)&&(t=this.objects[e].point,n.isArray(t.groups)&&(r=n.indexOf(t.groups,this.id))>=0&&delete t.groups[r]);return this.objects={},this},addParents:function(e){var t,r,i;for(r=(i=n.isArray(e)?e:arguments).length,t=0;t<r;++t)n.isId(this.board,i[t])?this.parents.push(i[t]):n.exists(i[t].id)&&this.parents.push(i[t].id);this.parents=n.uniqueArray(this.parents)},setParents:function(e){return this.parents=[],this.addParents(e),this},getParents:function(){return n.isArray(this.parents)?this.parents:[]},_updateCoordsCache:function(e){var t;""!==e&&n.exists(this.objects[e])&&(t=this.objects[e].point,this.coords[t.id]={usrCoords:t.coords.usrCoords.slice(0)})},update:function(){var e,t,o,s,a,l,c,u,h,d,p=null;if(!this.needsUpdate)return this;if("nothing"===(e=this._update_find_drag_type()).action)return this._updateCoordsCache(e.id),this;if(p=this.objects[e.id].point,"translation"===e.action)h=[p.coords.usrCoords[1]-this.coords[e.id].usrCoords[1],p.coords.usrCoords[2]-this.coords[e.id].usrCoords[2]];else if("rotation"===e.action||"scaling"===e.action){if(o="rotation"===e.action?"rotationCenter":"scaleCenter",n.isPoint(this[o]))d=this[o].coords.usrCoords.slice(1);else if("centroid"===this[o])d=this._update_centroid_center();else if(n.isArray(this[o]))d=this[o];else{if(!n.isFunction(this[o]))return this;d=this[o]()}if("rotation"===e.action)u=i.rad(this.coords[e.id].usrCoords.slice(1),d,this.objects[e.id].point),(h=this.board.create("transform",[u,d[0],d[1]],{type:"rotate"})).update();else{if("scaling"!==e.action)return this;if(a=i.distance(this.coords[e.id].usrCoords.slice(1),d),Math.abs(a)<r.eps)return this;a=i.distance(p.coords.usrCoords.slice(1),d)/a,l=this.scaleDirections[e.id].indexOf("x")>=0?a:1,c=this.scaleDirections[e.id].indexOf("y")>=0?a:1,(h=this.board.create("transform",[1,0,0,d[0]*(1-l),l,0,d[1]*(1-c),0,c],{type:"generic"})).update()}}for(t in this._update_apply_transformation(e,h),this.needsUpdate=!1,this.objects)if(this.objects.hasOwnProperty(t))for(s in this.objects[t].descendants)this.objects[t].descendants.hasOwnProperty(s)&&(this.objects[t].descendants.needsUpdate=this.objects[t].descendants.needsRegularUpdate||this.board.needsFullUpdate);for(t in this.board.updateElements(e),this.objects)this.objects.hasOwnProperty(t)&&this._updateCoordsCache(t);return this},_update_find_drag_type:function(){var e,i,o,s="nothing",a=[];for(e in this.objects)this.objects.hasOwnProperty(e)&&(i=this.objects[e].point).coords.distance(t.COORDS_BY_USER,this.coords[e])>r.eps&&a.push(i.id);return 0===a.length?{action:s,id:"",changed:a}:(o=a[0],i=this.objects[o].point,a.length>1?s="translation":n.isInArray(this.rotationPoints,i)&&n.exists(this.rotationCenter)?s="rotation":n.isInArray(this.scalePoints,i)&&n.exists(this.scaleCenter)?s="scaling":n.isInArray(this.translationPoints,i)&&(s="translation"),{action:s,id:o,changed:a})},_update_centroid_center:function(){var e,t,r;for(r in e=[0,0],t=0,this.coords)this.coords.hasOwnProperty(r)&&(e[0]+=this.coords[r].usrCoords[1],e[1]+=this.coords[r].usrCoords[2],++t);return t>0&&(e[0]/=t,e[1]/=t),e},_update_apply_transformation:function(e,i){var o,s;for(o in this.objects)this.objects.hasOwnProperty(o)&&(n.exists(this.board.objects[o])?(s=this.objects[o].point).id!==e.id?"translation"===e.action?n.isInArray(e.changed,s.id)||s.coords.setCoordinates(t.COORDS_BY_USER,[this.coords[o].usrCoords[1]+i[0],this.coords[o].usrCoords[2]+i[1]]):"rotation"!==e.action&&"scaling"!==e.action||i.applyOnce([s]):"rotation"!==e.action&&"scaling"!==e.action||s.coords.setCoordinates(t.COORDS_BY_USER,r.matVecMult(i.matrix,this.coords[s.id].usrCoords)):delete this.objects[o])},addPoint:function(e){return this.objects[e.id]={point:this.board.select(e)},this._updateCoordsCache(e.id),this.translationPoints.push(e),e.groups.push(this.id),e.groups=n.uniqueArray(e.groups),this},addPoints:function(e){var t;for(t=0;t<e.length;t++)this.addPoint(e[t]);return this},addGroup:function(e){var t;for(t in e.objects)e.objects.hasOwnProperty(t)&&this.addPoint(e.objects[t].point);return this},removePoint:function(e){return delete this.objects[e.id],this},setRotationCenter:function(e){return this.rotationCenter=e,this},setRotationPoints:function(e){return this._setActionPoints("rotation",e)},addRotationPoint:function(e){return this._addActionPoint("rotation",e)},removeRotationPoint:function(e){return this._removeActionPoint("rotation",e)},setTranslationPoints:function(e){return this._setActionPoints("translation",e)},addTranslationPoint:function(e){return this._addActionPoint("translation",e)},removeTranslationPoint:function(e){return this._removeActionPoint("translation",e)},setScaleCenter:function(e){return this.scaleCenter=e,this},setScalePoints:function(e,t){var r,i,o;for(o=(r=n.isArray(e)?e:arguments).length,i=0;i<o;++i)this.scaleDirections[this.board.select(r[i]).id]=t||"xy";return this._setActionPoints("scale",e)},addScalePoint:function(e,t){return this._addActionPoint("scale",e),this.scaleDirections[this.board.select(e).id]=t||"xy",this},removeScalePoint:function(e){return this._removeActionPoint("scale",e)},_setActionPoints:function(e,t){var r,i,o;for(o=(r=n.isArray(t)?t:arguments).length,this[e+"Points"]=[],i=0;i<o;++i)this._addActionPoint(e,r[i]);return this},_addActionPoint:function(e,t){return this[e+"Points"].push(this.board.select(t)),this},_removeActionPoint:function(e,t){var r=this[e+"Points"].indexOf(this.board.select(t));return r>-1&&this[e+"Points"].splice(r,1),this},setProperty:function(){e.deprecated("Group.setProperty","Group.setAttribute()"),this.setAttribute.apply(this,arguments)},setAttribute:function(){var e;for(e in this.objects)this.objects.hasOwnProperty(e)&&this.objects[e].point.setAttribute.apply(this.objects[e].point,arguments);return this}}),e.createGroup=function(t,r,i){var o=n.copyAttributes(i,t.options,"group"),s=new e.Group(t,o.id,o.name,r,o);return s.elType="group",s.setParents(r),s},e.registerElement("group",e.createGroup),{Group:e.Group,createGroup:e.createGroup}})),define("element/conic",["jxg","base/constants","base/coords","math/math","math/numerics","math/geometry","utils/type"],(function(e,t,r,i,n,o,s){"use strict";return e.createEllipse=function(e,i,n){var o,a,l,c,u,h,d,p=[],f=s.copyAttributes(n,e.options,"conic","foci"),v=s.copyAttributes(n,e.options,"conic","center"),m=s.copyAttributes(n,e.options,"conic");for(h=0;h<2;h++)if(i[h].length>1)p[h]=e.create("point",i[h],f);else if(s.isPoint(i[h]))p[h]=e.select(i[h]);else if(s.isFunction(i[h])&&s.isPoint(i[h]()))p[h]=i[h]();else{if(!s.isString(i[h]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");p[h]=e.select(i[h])}if(s.isNumber(i[2]))u=s.createFunction(i[2],e);else if(s.isFunction(i[2])&&s.isNumber(i[2]()))u=i[2];else{if(s.isPoint(i[2]))c=e.select(i[2]);else if(i[2].length>1)c=e.create("point",i[2],f);else if(s.isFunction(i[2])&&s.isPoint(i[2]()))c=i[2]();else{if(!s.isString(i[2]))throw new Error("JSXGraph: Can't create Ellipse with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");c=e.select(i[2])}u=function(){return c.Dist(p[0])+c.Dist(p[1])}}for(s.exists(i[4])||(i[4]=2*Math.PI),s.exists(i[3])||(i[3]=0),l=e.create("point",[function(){return.5*(p[0].X()+p[1].X())},function(){return.5*(p[0].Y()+p[1].Y())}],v),(a=e.create("curve",[function(e){return 0},function(e){return 0},i[3],i[4]],m)).majorAxis=u,d=a.hasPoint,o=function(e,t){var r,i,n,o,s,l,c,h,d;t||(i=(r=u())*r,n=p[0].X(),o=p[0].Y(),c=n-(s=p[1].X()),h=o-(l=p[1].Y()),d=(i-n*n-o*o+s*s+l*l)/(2*r),a.quadraticform=[[d*d-s*s-l*l,d*c/r+s,d*h/r+l],[d*c/r+s,c*c/i-1,c*h/i],[d*h/r+l,c*h/i,h*h/i-1]])},a.X=function(e,t){var r=u(),i=p[1].Dist(p[0]),n=.5*(i*i-r*r)/(i*Math.cos(e)-r),s=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return t||o(0,t),p[0].X()+Math.cos(s+e)*n},a.Y=function(e,t){var r=u(),i=p[1].Dist(p[0]),n=.5*(i*i-r*r)/(i*Math.cos(e)-r),o=Math.atan2(p[1].Y()-p[0].Y(),p[1].X()-p[0].X());return p[0].Y()+Math.sin(o+e)*n},a.midpoint=a.center=l,a.type=t.OBJECT_TYPE_CONIC,a.subs={center:a.center},a.inherits.push(a.center,p[0],p[1]),s.isPoint(c)&&a.inherits.push(c),a.hasPoint=function(e,i){var n,o,a,l;return s.evaluate(this.visProp.hasinnerpoints)?(n=p[0].coords,o=p[1].coords,a=this.majorAxis(),(l=new r(t.COORDS_BY_SCREEN,[e,i],this.board)).distance(t.COORDS_BY_USER,n)+l.distance(t.COORDS_BY_USER,o)<=a):d.apply(this,arguments)},l.addChild(a),h=0;h<2;h++)s.isPoint(p[h])&&p[h].addChild(a);return s.isPoint(c)&&c.addChild(a),a.setParents(i),a},e.createHyperbola=function(e,r,i){var n,o,a,l,c,u,h=[],d=s.copyAttributes(i,e.options,"conic","foci"),p=s.copyAttributes(i,e.options,"conic","center"),f=s.copyAttributes(i,e.options,"conic");for(u=0;u<2;u++)if(r[u].length>1)h[u]=e.create("point",r[u],d);else if(s.isPoint(r[u]))h[u]=e.select(r[u]);else if(s.isFunction(r[u])&&s.isPoint(r[u]()))h[u]=r[u]();else{if(!s.isString(r[u]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");h[u]=e.select(r[u])}if(s.isNumber(r[2]))c=s.createFunction(r[2],e);else if(s.isFunction(r[2])&&s.isNumber(r[2]()))c=r[2];else{if(s.isPoint(r[2]))l=e.select(r[2]);else if(r[2].length>1)l=e.create("point",r[2],d);else if(s.isFunction(r[2])&&s.isPoint(r[2]()))l=r[2]();else{if(!s.isString(r[2]))throw new Error("JSXGraph: Can't create Hyperbola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point], [point,point,number|function]");l=e.select(r[2])}c=function(){return l.Dist(h[0])-l.Dist(h[1])}}for(s.exists(r[4])||(r[4]=1.0001*Math.PI),s.exists(r[3])||(r[3]=-1.0001*Math.PI),a=e.create("point",[function(){return.5*(h[0].X()+h[1].X())},function(){return.5*(h[0].Y()+h[1].Y())}],p),(o=e.create("curve",[function(e){return 0},function(e){return 0},r[3],r[4]],f)).majorAxis=c,n=function(e,t){var r,i,n,s,a,l,u,d,p;t||(i=(r=c())*r,n=h[0].X(),s=h[0].Y(),u=n-(a=h[1].X()),d=s-(l=h[1].Y()),p=(i-n*n-s*s+a*a+l*l)/(2*r),o.quadraticform=[[p*p-a*a-l*l,p*u/r+a,p*d/r+l],[p*u/r+a,u*u/i-1,u*d/i],[p*d/r+l,u*d/i,d*d/i-1]])},o.X=function(e,t){var r=c(),i=h[1].Dist(h[0]),o=.5*(i*i-r*r)/(i*Math.cos(e)+r),s=Math.atan2(h[1].Y()-h[0].Y(),h[1].X()-h[0].X());return t||n(0,t),h[0].X()+Math.cos(s+e)*o},o.Y=function(e,t){var r=c(),i=h[1].Dist(h[0]),n=.5*(i*i-r*r)/(i*Math.cos(e)+r),o=Math.atan2(h[1].Y()-h[0].Y(),h[1].X()-h[0].X());return h[0].Y()+Math.sin(o+e)*n},o.midpoint=o.center=a,o.subs={center:o.center},o.inherits.push(o.center,h[0],h[1]),s.isPoint(l)&&o.inherits.push(l),o.type=t.OBJECT_TYPE_CONIC,a.addChild(o),u=0;u<2;u++)s.isPoint(h[u])&&h[u].addChild(o);return s.isPoint(l)&&l.addChild(o),o.setParents(r),o},e.createParabola=function(e,r,i){var n,a,l,c,u=r[0],h=r[1],d=s.copyAttributes(i,e.options,"conic","foci"),p=s.copyAttributes(i,e.options,"conic","center"),f=s.copyAttributes(i,e.options,"conic");if(r[0].length>1)u=e.create("point",r[0],d);else if(s.isPoint(r[0]))u=e.select(r[0]);else if(s.isFunction(r[0])&&s.isPoint(r[0]()))u=r[0]();else{if(!s.isString(r[0]))throw new Error("JSXGraph: Can't create Parabola with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,line]");u=e.select(r[0])}return s.isArray(h)&&2===h.length&&(c=s.copyAttributes(i,e.options,"conic","line"),h=e.create("line",h,c)),s.exists(r[3])||(r[3]=2*Math.PI),s.exists(r[2])||(r[2]=0),l=e.create("point",[function(){return o.projectPointToLine(u,h,e).usrCoords}],p),(a=e.create("curve",[function(e){return 0},function(e){return 0},r[2],r[3]],f)).midpoint=a.center=l,a.subs={center:a.center},a.inherits.push(a.center),n=function(e,t){var r,i,n,o,s,l;t||(r=h.stdform[1],i=h.stdform[2],n=h.stdform[0],o=r*r+i*i,s=u.X(),l=u.Y(),a.quadraticform=[[n*n-o*(s*s+l*l),n*r+o*s,n*i+o*l],[n*r+o*s,-i*i,r*i],[n*i+o*l,r*i,-r*r]])},a.X=function(e,t){var r,i=h.getAngle(),s=o.distPointLine(u.coords.usrCoords,h.stdform),a=h.point1.coords.usrCoords,l=h.point2.coords.usrCoords,c=u.coords.usrCoords;return 0===a[0]?a=[1,l[1]+h.stdform[2],l[2]-h.stdform[1]]:0===l[0]&&(l=[1,a[1]+h.stdform[2],a[2]-h.stdform[1]]),r=((l[1]-a[1])*(c[2]-a[2])-(l[2]-a[2])*(c[1]-a[1])>=0?1:-1)*s/(1-Math.sin(e)),t||n(0,t),u.X()+Math.cos(e+i)*r},a.Y=function(e,t){var r,i=h.getAngle(),n=o.distPointLine(u.coords.usrCoords,h.stdform),s=h.point1.coords.usrCoords,a=h.point2.coords.usrCoords,l=u.coords.usrCoords;return 0===s[0]?s=[1,a[1]+h.stdform[2],a[2]-h.stdform[1]]:0===a[0]&&(a=[1,s[1]+h.stdform[2],s[2]-h.stdform[1]]),r=((a[1]-s[1])*(l[2]-s[2])-(a[2]-s[2])*(l[1]-s[1])>=0?1:-1)*n/(1-Math.sin(e)),u.Y()+Math.sin(e+i)*r},a.type=t.OBJECT_TYPE_CONIC,l.addChild(a),s.isPoint(u)&&(u.addChild(a),a.inherits.push(u)),h.addChild(a),a.setParents(r),a},e.createConic=function(e,r,o){var a,l,c,u,h,d,p,f,v,m,g,b,y,_,C=[[1,0,0],[0,1,0],[0,0,1]],x=[[1,0,0],[0,1,0],[0,0,1]],w=[],P=[],S=s.copyAttributes(o,e.options,"conic","point"),E=s.copyAttributes(o,e.options,"conic","center"),O=s.copyAttributes(o,e.options,"conic");if(5===r.length)_=!0;else{if(6!==r.length)throw new Error("JSXGraph: Can't create generic Conic with "+r.length+" parameters.");_=!1}if(_)for(b=0;b<5;b++)if(r[b].length>1)w[b]=e.create("point",r[b],S);else if(s.isPoint(r[b]))w[b]=e.select(r[b]);else if(s.isFunction(r[b])&&s.isPoint(r[b]()))w[b]=r[b]();else{if(!s.isString(r[b]))throw new Error("JSXGraph: Can't create Conic section with parent types '"+typeof r[b]+"'.\nPossible parent types: [point,point,point,point,point], [a00,a11,a22,a01,a02,a12]");w[b]=e.select(r[b])}else(y=[[0,0,0],[0,0,0],[0,0,0]])[0][0]=s.isFunction(r[2])?function(){return r[2]()}:function(){return r[2]},y[0][1]=s.isFunction(r[4])?function(){return r[4]()}:function(){return r[4]},y[0][2]=s.isFunction(r[5])?function(){return r[5]()}:function(){return r[5]},y[1][1]=s.isFunction(r[0])?function(){return r[0]()}:function(){return r[0]},y[1][2]=s.isFunction(r[3])?function(){return r[3]()}:function(){return r[3]},y[2][2]=s.isFunction(r[1])?function(){return r[1]()}:function(){return r[1]};if(h=function(e){var t,r;for(t=0;t<3;t++)for(r=t;r<3;r++)e[t][r]+=e[r][t];for(t=0;t<3;t++)for(r=0;r<t;r++)e[t][r]=e[r][t];return e},u=function(e,t){var r,i,n=[[0,0,0],[0,0,0],[0,0,0]];for(r=0;r<3;r++)for(i=0;i<3;i++)n[r][i]=e[r]*t[i];return h(n)},c=function(e,t,r){var n,o,s,a,l,c=[[0,0,0],[0,0,0],[0,0,0]];for(l=i.matVecMult(t,r),s=i.innerProduct(r,l),l=i.matVecMult(e,r),a=i.innerProduct(r,l),n=0;n<3;n++)for(o=0;o<3;o++)c[n][o]=s*e[n][o]-a*t[n][o];return c},l=e.create("curve",[function(e){return 0},function(e){return 0},0,2*Math.PI],O),a=function(e,t){var r,o,a,h;if(!t){if(_){for(r=0;r<5;r++)P[r]=w[r].coords.usrCoords;m=u(i.crossProduct(P[0],P[1]),i.crossProduct(P[2],P[3])),g=u(i.crossProduct(P[0],P[2]),i.crossProduct(P[1],P[3])),x=c(m,g,P[4])}else for(r=0;r<3;r++)for(o=r;o<3;o++)x[r][o]=y[r][o](),o>r&&(x[o][r]=x[r][o]);for(l.quadraticform=x,(d=n.Jacobi(x))[0][0][0]<0&&(d[0][0][0]*=-1,d[0][1][1]*=-1,d[0][2][2]*=-1),r=0;r<3;r++){for(a=0,o=0;o<3;o++)a+=d[1][o][r]*d[1][o][r];a=Math.sqrt(a)}C=d[1],v=Math.sqrt(Math.abs(d[0][0][0])),p=Math.sqrt(Math.abs(d[0][1][1])),f=Math.sqrt(Math.abs(d[0][2][2]))}return d[0][1][1]<=0&&d[0][2][2]<=0?h=i.matVecMult(C,[1/v,Math.cos(e)/p,Math.sin(e)/f]):d[0][1][1]<=0&&d[0][2][2]>0?h=i.matVecMult(C,[Math.cos(e)/v,1/p,Math.sin(e)/f]):d[0][2][2]<0&&(h=i.matVecMult(C,[Math.sin(e)/v,Math.cos(e)/p,1/f])),s.exists(h)?(h[1]/=h[0],h[2]/=h[0],h[0]=1):h=[1,NaN,NaN],h},l.X=function(e,t){return a(e,t)[1]},l.Y=function(e,t){return a(e,t)[2]},l.midpoint=e.create("point",[function(){var e=l.quadraticform;return[e[1][1]*e[2][2]-e[1][2]*e[1][2],e[1][2]*e[0][2]-e[2][2]*e[0][1],e[0][1]*e[1][2]-e[1][1]*e[0][2]]}],E),l.type=t.OBJECT_TYPE_CONIC,l.center=l.midpoint,l.subs={center:l.center},l.inherits.push(l.center),l.inherits=l.inherits.concat(w),_){for(b=0;b<5;b++)s.isPoint(w[b])&&w[b].addChild(l);l.setParents(r)}return l.addChild(l.center),l},e.registerElement("ellipse",e.createEllipse),e.registerElement("hyperbola",e.createHyperbola),e.registerElement("parabola",e.createParabola),e.registerElement("conic",e.createConic),{createEllipse:e.createEllipse,createHyperbola:e.createHyperbola,createParabola:e.createParabola,createConic:e.createConic}})),define("base/circle",["jxg","base/element","base/coords","base/constants","element/conic","parser/geonext","utils/type"],(function(e,t,r,i,n,o,s){"use strict";return e.Circle=function(e,t,r,n,o){this.constructor(e,o,i.OBJECT_TYPE_CIRCLE,i.OBJECT_CLASS_CIRCLE),this.method=t,this.midpoint=this.board.select(r),this.center=this.board.select(r),this.point2=null,this.radius=0,this.line=null,this.circle=null,this.points=[],"twoPoints"===t?(this.point2=e.select(n),this.radius=this.Radius()):"pointRadius"===t?(this.gxtterm=n,this.updateRadius=s.createFunction(n,this.board,null,!0),this.updateRadius()):"pointLine"===t?(this.line=e.select(n),this.radius=this.line.point1.coords.distance(i.COORDS_BY_USER,this.line.point2.coords)):"pointCircle"===t&&(this.circle=e.select(n),this.radius=this.circle.Radius()),this.id=this.board.setId(this,"C"),this.board.renderer.drawEllipse(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="circle",this.createLabel(),s.exists(this.center._is_new)?(this.addChild(this.center),delete this.center._is_new):this.center.addChild(this),"pointRadius"===t?this.notifyParents(n):"pointLine"===t?this.line.addChild(this):"pointCircle"===t?this.circle.addChild(this):"twoPoints"===t&&(s.exists(this.point2._is_new)?(this.addChild(this.point2),delete this.point2._is_new):this.point2.addChild(this)),this.methodMap=s.deepCopy(this.methodMap,{setRadius:"setRadius",getRadius:"getRadius",Area:"Area",area:"Area",radius:"Radius",center:"center",line:"line",point2:"point2"})},e.Circle.prototype=new t,e.extend(e.Circle.prototype,{hasPoint:function(e,t){var n,o,a,l,c,u=this.center.coords.usrCoords,h=new r(i.COORDS_BY_SCREEN,[e,t],this.board),d=this.Radius();return s.isObject(s.evaluate(this.visProp.precision))?(o=this.board._inputDevice,n=s.evaluate(this.visProp.precision[o])):n=this.board.options.precision.hasPoint,a=u[1]-h.usrCoords[1],l=u[2]-h.usrCoords[2],c=Math.sqrt(a*a+l*l),n+=.5*s.evaluate(this.visProp.strokewidth),n/=Math.sqrt(this.board.unitX*this.board.unitY),s.evaluate(this.visProp.hasinnerpoints)?c<d+n:Math.abs(c-d)<n},generatePolynomial:function(e){var t=this.center.symbolic.x,r=this.center.symbolic.y,i=e.symbolic.x,n=e.symbolic.y,o=this.generateRadiusSquared();return""===o?[]:["(("+i+")-("+t+"))^2 + (("+n+")-("+r+"))^2 - ("+o+")"]},generateRadiusSquared:function(){var e,t,r,i,n="";return"twoPoints"===this.method?(e=this.center.symbolic.x,t=this.center.symbolic.y,n="(("+(r=this.point2.symbolic.x)+")-("+e+"))^2 + (("+(i=this.point2.symbolic.y)+")-("+t+"))^2"):"pointRadius"===this.method?s.isNumber(this.radius)&&(n=(this.radius*this.radius).toString()):"pointLine"===this.method?(r=this.line.point1.symbolic.x,i=this.line.point1.symbolic.y,n="(("+r+")-("+this.line.point2.symbolic.x+"))^2 + (("+i+")-("+this.line.point2.symbolic.y+"))^2"):"pointCircle"===this.method&&(n=this.circle.Radius()),n},update:function(){var e,t,n,o,a,l;if(this.needsUpdate)for(s.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),"pointLine"===this.method?this.radius=this.line.point1.coords.distance(i.COORDS_BY_USER,this.line.point2.coords):"pointCircle"===this.method?this.radius=this.circle.Radius():"pointRadius"===this.method&&(this.radius=this.updateRadius()),this.updateStdform(),this.updateQuadraticform(),n=this.center.coords.usrCoords[0],e=this.center.coords.usrCoords[1]/n,t=this.center.coords.usrCoords[2]/n,n/=n,o=this.Radius(),a=.551915024494,this.numberPoints=13,this.dataX=[e+o,e+o,e+o*a,e,e-o*a,e-o,e-o,e-o,e-o*a,e,e+o*a,e+o,e+o],this.dataY=[t,t+o*a,t+o,t+o,t+o,t+o*a,t,t-o*a,t-o,t-o,t-o,t-o*a,t],this.bezierDegree=3,l=0;l<this.numberPoints;l++)this.points[l]=new r(i.COORDS_BY_USER,[this.dataX[l],this.dataY[l]],this.board);return this},updateQuadraticform:function(){var e=this.center,t=e.X(),r=e.Y(),i=this.Radius();this.quadraticform=[[t*t+r*r-i*i,-t,-r],[-t,1,0],[-r,0,1]]},updateStdform:function(){this.stdform[3]=.5,this.stdform[4]=this.Radius(),this.stdform[1]=-this.center.coords.usrCoords[1],this.stdform[2]=-this.center.coords.usrCoords[2],isFinite(this.stdform[4])||(this.stdform[0]=s.exists(this.point2)?-(this.stdform[1]*this.point2.coords.usrCoords[1]+this.stdform[2]*this.point2.coords.usrCoords[2]):0),this.normalize()},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=!isNaN(this.center.coords.usrCoords[1]+this.center.coords.usrCoords[2]+this.Radius())&&this.center.isReal,this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateEllipse(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},notifyParents:function(e){s.isString(e)&&o.findDependencies(this,e,this.board)},setRadius:function(e){return this.updateRadius=s.createFunction(e,this.board,null,!0),this.board.update(),this},Radius:function(e){return s.exists(e)?(this.setRadius(e),this.Radius()):"twoPoints"===this.method?s.cmpArrays(this.point2.coords.usrCoords,[0,0,0])||s.cmpArrays(this.center.coords.usrCoords,[0,0,0])?NaN:this.center.Dist(this.point2):"pointLine"===this.method||"pointCircle"===this.method?this.radius:"pointRadius"===this.method?this.updateRadius():NaN},getRadius:function(){return e.deprecated("Circle.getRadius()","Circle.Radius()"),this.Radius()},getTextAnchor:function(){return this.center.coords},getLabelAnchor:function(){var e,t,n=this.Radius(),o=this.center.coords.usrCoords,a=.7071067811865476;switch(s.evaluate(this.visProp.label.position)){case"lft":e=o[1]-n,t=o[2];break;case"llft":e=o[1]-a*n,t=o[2]-a*n;break;case"rt":e=o[1]+n,t=o[2];break;case"lrt":e=o[1]+a*n,t=o[2]-a*n;break;case"urt":e=o[1]+a*n,t=o[2]+a*n;break;case"top":e=o[1],t=o[2]+n;break;case"bot":e=o[1],t=o[2]-n;break;default:e=o[1]-a*n,t=o[2]+a*n}return new r(i.COORDS_BY_USER,[e,t],this.board)},cloneToBackground:function(){var e,t=this.Radius(),r={id:this.id+"T"+this.numTraces,elementClass:i.OBJECT_CLASS_CIRCLE,center:{coords:this.center.coords},Radius:function(){return t},getRadius:function(){return t},board:this.board,visProp:s.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return r.visProp.layer=this.board.options.layer.trace,this.numTraces++,s.clearVisPropOld(r),r.visPropCalc={visible:s.evaluate(r.visProp.visible)},e=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawEllipse(r),this.board.renderer.enhancedRendering=e,this.traces[r.id]=r.rendNode,this},addTransform:function(e){var t,r=s.isArray(e)?e:[e],i=r.length;for(t=0;t<i;t++)this.center.transformations.push(r[t]),"twoPoints"===this.method&&this.point2.transformations.push(r[t]);return this},snapToGrid:function(){var e=s.evaluate(this.visProp.snaptogrid);return this.center.handleSnapToGrid(e,!0),"twoPoints"===this.method&&this.point2.handleSnapToGrid(e,!0),this},snapToPoints:function(){var e=s.evaluate(this.visProp.snaptopoints);return this.center.handleSnapToPoints(e),"twoPoints"===this.method&&this.point2.handleSnapToPoints(e),this},X:function(e){return this.Radius()*Math.cos(2*e*Math.PI)+this.center.coords.usrCoords[1]},Y:function(e){return this.Radius()*Math.sin(2*e*Math.PI)+this.center.coords.usrCoords[2]},Z:function(e){return 1},minX:function(){return 0},maxX:function(){return 1},Area:function(){var e=this.Radius();return e*e*Math.PI},bounds:function(){var e=this.center.coords.usrCoords,t=this.Radius();return[e[1]-t,e[2]+t,e[1]+t,e[2]-t]},getParents:function(){return 1===this.parents.length?this.parents.concat(this.radius):this.parents}}),e.createCircle=function(t,r,o){var a,l,c,u,h,d=["center","point2"];if(l=[],h=t.select(r[0]),s.isObject(h)&&h.elementClass===i.OBJECT_CLASS_CIRCLE&&s.isTransformationOrArray(r[1]))return u=s.copyAttributes(o,t.options,"circle"),(a=n.createEllipse(t,[h.center,h.center,function(){return 2*h.Radius()}],u)).addTransform(r[1]),a;for(c=0;c<r.length;c++)if(s.isPointType(t,r[c])){if(!1===(l=l.concat(s.providePoints(t,[r[c]],o,"circle",[d[c]])))[l.length-1])throw new Error("JSXGraph: Can't create circle from this type. Please provide a point type.")}else l.push(r[c]);if(u=s.copyAttributes(o,t.options,"circle"),2===l.length&&s.isPoint(l[0])&&s.isPoint(l[1]))a=new e.Circle(t,"twoPoints",l[0],l[1],u);else if((s.isNumber(l[0])||s.isFunction(l[0])||s.isString(l[0]))&&s.isPoint(l[1]))a=new e.Circle(t,"pointRadius",l[1],l[0],u);else if((s.isNumber(l[1])||s.isFunction(l[1])||s.isString(l[1]))&&s.isPoint(l[0]))a=new e.Circle(t,"pointRadius",l[0],l[1],u);else if(l[0].elementClass===i.OBJECT_CLASS_CIRCLE&&s.isPoint(l[1]))a=new e.Circle(t,"pointCircle",l[1],l[0],u);else if(l[1].elementClass===i.OBJECT_CLASS_CIRCLE&&s.isPoint(l[0]))a=new e.Circle(t,"pointCircle",l[0],l[1],u);else if(l[0].elementClass===i.OBJECT_CLASS_LINE&&s.isPoint(l[1]))a=new e.Circle(t,"pointLine",l[1],l[0],u);else if(l[1].elementClass===i.OBJECT_CLASS_LINE&&s.isPoint(l[0]))a=new e.Circle(t,"pointLine",l[0],l[1],u);else{if(!(3===r.length&&s.isPoint(l[0])&&s.isPoint(l[1])&&s.isPoint(l[2])))throw new Error("JSXGraph: Can't create circle with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,point], [point,number], [point,function], [point,circle], [point,point,point], [circle,transformation]");if(!e.elements.circumcircle)throw new Error("JSXGraph: Can't create circle with three points. Please include the circumcircle element (element/composition).");a=e.elements.circumcircle(t,l,u)}for(a.isDraggable=!0,a.setParents(l),a.elType="circle",c=0;c<l.length;c++)s.isPoint(l[c])&&a.inherits.push(l[c]);return a},e.registerElement("circle",e.createCircle),{Circle:e.Circle,createCircle:e.createCircle}})),define("base/polygon",["jxg","base/constants","base/coords","math/statistics","math/geometry","utils/type","base/element"],(function(e,t,r,i,n,o,s){"use strict";return e.Polygon=function(r,i,n){this.constructor(r,n,t.OBJECT_TYPE_POLYGON,t.OBJECT_CLASS_AREA);var s,a,l,c,u,h=o.copyAttributes(n,r.options,"polygon","borders");for(this.withLines=n.withlines,this.attr_line=h,this.vertices=[],s=0;s<i.length;s++)this.vertices[s]=this.board.select(i[s]);if(this.vertices.length>0&&this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.borders=[],this.withLines)for(l=this.vertices.length-1,c=0;c<l;c++)s=(c+1)%l,h.id=h.ids&&h.ids[s],h.name=h.names&&h.names[s],h.strokecolor=o.isArray(h.colors)&&h.colors[s%h.colors.length]||h.strokecolor,h.visible=o.exists(n.borders.visible)?n.borders.visible:n.visible,!1===h.strokecolor&&(h.strokecolor="none"),(a=r.create("segment",[this.vertices[s],this.vertices[s+1]],h)).dump=!1,this.borders[s]=a,a.parentPolygon=this;for(this.inherits.push(this.vertices,this.borders),this.id=this.board.setId(this,"Py"),s=0;s<this.vertices.length-1;s++)u=this.board.select(this.vertices[s]),o.exists(u._is_new)?(this.addChild(u),delete u._is_new):u.addChild(this);this.board.renderer.drawPolygon(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="polygon",this.createLabel(),this.methodMap=e.deepCopy(this.methodMap,{borders:"borders",vertices:"vertices",A:"Area",Area:"Area",Perimeter:"Perimeter",L:"Perimeter",Length:"Perimeter",boundingBox:"boundingBox",bounds:"bounds",addPoints:"addPoints",insertPoints:"insertPoints",removePoints:"removePoints"})},e.Polygon.prototype=new s,e.extend(e.Polygon.prototype,{pnpoly:function(e,i,n){var o,s,a,l,c,u,h=this.vertices,d=!1;for(n===t.COORDS_BY_USER?(l=(u=new r(t.COORDS_BY_USER,[e,i],this.board)).scrCoords[1],c=u.scrCoords[2]):(l=e,c=i),o=0,s=(a=this.vertices.length)-2;o<a-1;s=o++)h[o].coords.scrCoords[2]>c!=h[s].coords.scrCoords[2]>c&&l<(h[s].coords.scrCoords[1]-h[o].coords.scrCoords[1])*(c-h[o].coords.scrCoords[2])/(h[s].coords.scrCoords[2]-h[o].coords.scrCoords[2])+h[o].coords.scrCoords[1]&&(d=!d);return d},hasPoint:function(e,t){var r,i;if(o.evaluate(this.visProp.hasinnerpoints)&&this.pnpoly(e,t))return!0;for(i=this.borders.length,r=0;r<i;r++)if(this.borders[r].hasPoint(e,t))return!0;return!1},updateRenderer:function(){var e,t;if(!this.needsUpdate)return this;if(this.visPropCalc.visible){for(t=this.vertices.length,this.isReal=!0,e=0;e<t;++e)if(!this.vertices[e].isReal){this.isReal=!1;break}this.isReal||this.updateVisibility(!1)}return this.visPropCalc.visible&&this.board.renderer.updatePolygon(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this},getTextAnchor:function(){var e,i,n,o,s;if(0===this.vertices.length)return new r(t.COORDS_BY_USER,[1,0,0],this.board);for(n=e=this.vertices[0].X(),o=i=this.vertices[0].Y(),s=0;s<this.vertices.length;s++)this.vertices[s].X()<e&&(e=this.vertices[s].X()),this.vertices[s].X()>n&&(n=this.vertices[s].X()),this.vertices[s].Y()>i&&(i=this.vertices[s].Y()),this.vertices[s].Y()<o&&(o=this.vertices[s].Y());return new r(t.COORDS_BY_USER,[.5*(e+n),.5*(i+o)],this.board)},getLabelAnchor:e.shortcut(e.Polygon.prototype,"getTextAnchor"),cloneToBackground:function(){var e,t={};return t.id=this.id+"T"+this.numTraces,this.numTraces++,t.vertices=this.vertices,t.visProp=o.deepCopy(this.visProp,this.visProp.traceattributes,!0),t.visProp.layer=this.board.options.layer.trace,t.board=this.board,o.clearVisPropOld(t),t.visPropCalc={visible:o.evaluate(t.visProp.visible)},e=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawPolygon(t),this.board.renderer.enhancedRendering=e,this.traces[t.id]=t.rendNode,this},hideElement:function(t){var r;if(e.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),!t)for(r=0;r<this.borders.length;r++)this.borders[r].hideElement();this.hasLabel&&o.exists(this.label)&&(this.label.hiddenByParent=!0,this.label.visPropCalc.visible&&this.label.hideElement())},showElement:function(t){var r;if(e.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!0),!t)for(r=0;r<this.borders.length;r++)this.borders[r].showElement().updateRenderer();return o.exists(this.label)&&this.hasLabel&&this.label.hiddenByParent&&(this.label.hiddenByParent=!1,this.label.visPropCalc.visible||this.label.showElement().updateRenderer()),this},Area:function(){return Math.abs(n.signedPolygon(this.vertices,!0))},Perimeter:function(){var e,t=this.vertices.length,r=0;for(e=1;e<t;++e)r+=this.vertices[e].Dist(this.vertices[e-1]);return r},boundingBox:function(){var e,t,r=[0,0,0,0],i=this.vertices.length-1;if(0===i)return r;for(r[0]=this.vertices[0].X(),r[2]=r[0],r[1]=this.vertices[0].Y(),r[3]=r[1],e=1;e<i;++e)(t=this.vertices[e].X())<r[0]?r[0]=t:t>r[2]&&(r[2]=t),(t=this.vertices[e].Y())>r[1]?r[1]=t:t<r[3]&&(r[3]=t);return r},bounds:function(){return this.boundingBox()},remove:function(){var e;for(e=0;e<this.borders.length;e++)this.board.removeObject(this.borders[e]);s.prototype.remove.call(this)},findPoint:function(e){var t;if(!o.isPoint(e))return-1;for(t=0;t<this.vertices.length;t++)if(this.vertices[t].id===e.id)return t;return-1},addPoints:function(e){var t=Array.prototype.slice.call(arguments);return this.insertPoints.apply(this,[this.vertices.length-2].concat(t))},insertPoints:function(e,t){var r,i,n=[];if(0===arguments.length)return this;if(e<0||e>this.vertices.length-2)return this;for(r=1;r<arguments.length;r++)o.isPoint(arguments[r])&&n.push(arguments[r]);if(i=this.vertices.slice(0,e+1).concat(n),this.vertices=i.concat(this.vertices.slice(e+1)),this.withLines){for(i=this.borders.slice(0,e),this.board.removeObject(this.borders[e]),r=0;r<n.length;r++)i.push(this.board.create("segment",[this.vertices[e+r],this.vertices[e+r+1]],this.attr_line));i.push(this.board.create("segment",[this.vertices[e+n.length],this.vertices[e+n.length+1]],this.attr_line)),this.borders=i.concat(this.borders.slice(e+1))}return this.board.update(),this},removePoints:function(e){var t,r,i,n=[],s=[],a=[],l=[];for(this.vertices=this.vertices.slice(0,this.vertices.length-1),t=0;t<arguments.length;t++)i=arguments[t],o.isPoint(i)&&(i=this.findPoint(i)),o.isNumber(i)&&i>-1&&i<this.vertices.length&&-1===o.indexOf(a,i)&&a.push(i);for(t=0;t<a.length;t++)this.vertices[a[t]].removeChild(this);for(a=a.sort(),n=this.vertices.slice(),s=this.borders.slice(),this.withLines&&l.push([a[a.length-1]]),t=a.length-1;t>-1;t--)n[a[t]]=-1,this.withLines&&a[t]-1>a[t-1]&&(l[l.length-1][1]=a[t],l.push([a[t-1]]));for(this.withLines&&(l[l.length-1][1]=a[0]),this.vertices=[],t=0;t<n.length;t++)o.isPoint(n[t])&&this.vertices.push(n[t]);if(this.vertices[this.vertices.length-1].id!==this.vertices[0].id&&this.vertices.push(this.vertices[0]),this.withLines){for(t=0;t<l.length;t++){for(r=l[t][1]-1;r<l[t][0]+1;r++)r<0?(r=0,this.board.removeObject(this.borders[s.length-1]),s[s.length-1]=-1):r>s.length-1&&(r=s.length-1),this.board.removeObject(this.borders[r]),s[r]=-1;0!==l[t][1]&&l[t][0]!==n.length-1&&(s[l[t][0]-1]=this.board.create("segment",[n[Math.max(l[t][1]-1,0)],n[Math.min(l[t][0]+1,this.vertices.length-1)]],this.attr_line))}for(this.borders=[],t=0;t<s.length;t++)-1!==s[t]&&this.borders.push(s[t]);l[0][1]!==this.vertices.length-1&&0!==l[l.length-1][1]||this.borders.push(this.board.create("segment",[this.vertices[0],this.vertices[this.vertices.length-2]],this.attr_line))}return this.board.update(),this},getParents:function(){return this.setParents(this.vertices),this.parents},getAttributes:function(){var e,t=s.prototype.getAttributes.call(this);if(this.withLines)for(t.lines=t.lines||{},t.lines.ids=[],t.lines.colors=[],e=0;e<this.borders.length;e++)t.lines.ids.push(this.borders[e].id),t.lines.colors.push(this.borders[e].visProp.strokecolor);return t},snapToGrid:function(){var e,t;for(t=!!o.evaluate(this.visProp.snaptogrid),e=0;e<this.vertices.length;e++)this.vertices[e].handleSnapToGrid(t,!0)},setPositionDirectly:function(e,t,n){var o,s,a,l=new r(e,t,this.board),c=new r(e,n,this.board);for(a=this.vertices.length-1,s=0;s<a;s++)if(!this.vertices[s].draggable())return this;return o=i.subtract(l.usrCoords,c.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce(this.vertices.slice(0,-1)),this},sutherlandHodgman:function(t){var r,i,n,o,s,a,l,c=e.Math.Geometry.sortVertices(this.vertices),u=e.Math.Geometry.sortVertices(t.vertices),h=c.length-1,d=u.length-1,p=[],f=function(e,t,r){return(t[1]-e[1])*(r[2]-e[2])-(t[2]-e[2])*(r[1]-e[1])>=0};for(n=0;n<d;n++)p.push(u[n]);for(n=0;n<h;n++)for(i=p.slice(0),p=[],s=i[(r=i.length)-1],o=0;o<r;o++)a=i[o],f(c[n],c[n+1],a)?(f(c[n],c[n+1],s)||((l=e.Math.Geometry.meetSegmentSegment(s,a,c[n],c[n+1]))[0][1]/=l[0][0],l[0][2]/=l[0][0],l[0][0]=1,p.push(l[0])),p.push(a)):f(c[n],c[n+1],s)&&((l=e.Math.Geometry.meetSegmentSegment(s,a,c[n],c[n+1]))[0][1]/=l[0][0],l[0][2]/=l[0][0],l[0][0]=1,p.push(l[0])),s=a;return p},intersect:function(e){return this.sutherlandHodgman(e)}}),e.createPolygon=function(r,i,n){var s,a,l,c,u,h,d=[],p=!1;if(o.copyAttributes(n,r.options,"polygon"),null===(c=r.select(i[0]))&&(c=i[0]),o.isObject(c)&&c.type===t.OBJECT_TYPE_POLYGON&&o.isTransformationOrArray(i[1]))for(p=!0,l=c.vertices.length-1,h=o.copyAttributes(n,r.options,"polygon","vertices"),a=0;a<l;a++)h.withlabel&&(h.name=""===c.vertices[a].name?"":c.vertices[a].name+"'"),d.push(r.create("point",[c.vertices[a],i[1]],h));else if(!1===(d=o.providePoints(r,i,n,"polygon",["vertices"])))throw new Error("JSXGraph: Can't create polygon / polygonalchain with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates. Alternatively, a polygon and a transformation can be supplied");if(u=o.copyAttributes(n,r.options,"polygon"),(s=new e.Polygon(r,d,u)).isDraggable=!0,p)for(s.prepareUpdate().update().updateVisibility().updateRenderer(),l=c.vertices.length-1,a=0;a<l;a++)d[a].prepareUpdate().update().updateVisibility().updateRenderer();return s},e.createRegularPolygon=function(e,r,i){var n,s,a,l,c,u,h,d=[];if(a=r[(c=r.length)-1],o.isNumber(a)&&(3!==r.length||a<3))throw new Error("JSXGraph: A regular polygon needs two point types and a number > 2 as input.");if(o.isNumber(e.select(a))?(c--,u=!1):(a=c,u=!0),!1===(d=o.providePoints(e,r.slice(0,c),i,"regularpolygon",["vertices"])))throw new Error("JSXGraph: Can't create regular polygon with parent types other than 'point' and 'coordinate arrays' or a function returning an array of coordinates");for(h=o.copyAttributes(i,e.options,"regularpolygon","vertices"),s=2;s<a;s++)l=e.create("transform",[Math.PI*(2-(a-2)/a),d[s-1]],{type:"rotate"}),u?(d[s].addTransform(d[s-2],l),d[s].fullUpdate()):(o.isArray(h.ids)&&h.ids.length>=a-2&&(h.id=h.ids[s-2]),d[s]=e.create("point",[d[s-2],l],h),d[s].type=t.OBJECT_TYPE_CAS,d[s].isDraggable=!0,d[s].visProp.fixed=!1);return h=o.copyAttributes(i,e.options,"regularpolygon"),(n=e.create("polygon",d,h)).elType="regularpolygon",n},e.createPolygonalChain=function(e,t,r){var i,n;return i=o.copyAttributes(r,e.options,"polygonalchain"),(n=e.create("polygon",t,i)).elType="polygonalchain",n.vertices.pop(),e.removeObject(n.borders[n.borders.length-1]),n.borders.pop(),n},e.registerElement("polygon",e.createPolygon),e.registerElement("regularpolygon",e.createRegularPolygon),e.registerElement("polygonalchain",e.createPolygonalChain),{Polygon:e.Polygon,createPolygon:e.createPolygon,createRegularPolygon:e.createRegularPolygon}})),define("base/curve",["jxg","base/constants","base/coords","base/element","math/math","math/numerics","math/plot","math/geometry","parser/geonext","utils/type","math/qdt"],(function(e,t,r,i,n,o,s,a,l,c,u){"use strict";return e.Curve=function(e,r,i){this.constructor(e,i,t.OBJECT_TYPE_CURVE,t.OBJECT_CLASS_CURVE),this.points=[],this.numberPoints=c.evaluate(this.visProp.numberpointshigh),this.bezierDegree=1,this.dataX=null,this.dataY=null,this.ticks=[],this.qdt=null,c.exists(r[0])?this.varname=r[0]:this.varname="x",this.xterm=r[1],this.yterm=r[2],this.generateTerm(this.varname,this.xterm,this.yterm,r[3],r[4]),this.updateCurve(),this.id=this.board.setId(this,"G"),this.board.renderer.drawCurve(this),this.board.finalizeAdding(this),this.createGradient(),this.elType="curve",this.createLabel(),c.isString(this.xterm)&&this.notifyParents(this.xterm),c.isString(this.yterm)&&this.notifyParents(this.yterm),this.methodMap=c.deepCopy(this.methodMap,{generateTerm:"generateTerm",setTerm:"generateTerm",move:"moveTo",moveTo:"moveTo"})},e.Curve.prototype=new i,e.extend(e.Curve.prototype,{minX:function(){return"polar"===c.evaluate(this.visProp.curvetype)?0:new r(t.COORDS_BY_SCREEN,[.1*-this.board.canvasWidth,0],this.board,!1).usrCoords[1]},maxX:function(){return"polar"===c.evaluate(this.visProp.curvetype)?2*Math.PI:new r(t.COORDS_BY_SCREEN,[1.1*this.board.canvasWidth,0],this.board,!1).usrCoords[1]},X:function(e){return NaN},Y:function(e){return NaN},Z:function(e){return 1},hasPoint:function(e,i,o){var s,l,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P=[],S=c.evaluate(this.visProp.numberpointslow),E=(this.maxX()-this.minX())/S,O=1/0;if(c.isObject(c.evaluate(this.visProp.precision))?(y=this.board._inputDevice,b=c.evaluate(this.visProp.precision[y])):b=this.board.options.precision.hasPoint,e=(l=new r(t.COORDS_BY_SCREEN,[e,i],this.board,!1)).usrCoords[1],i=l.usrCoords[2],b+=.5*c.evaluate(this.visProp.strokewidth),b*=b,_=this.board.unitX*this.board.unitX,C=this.board.unitY*this.board.unitY,w=this.minX(),this.maxX(),c.exists(this._visibleArea)&&(w=this._visibleArea[0],E=(this._visibleArea[1]-w)/S),"parameter"===(x=c.evaluate(this.visProp.curvetype))||"polar"===x)for(this.transformations.length>0&&(this.updateTransformMatrix(),h=n.inverse(this.transformMat),e=(d=n.matVecMult(h,[1,e,i]))[1],i=d[2]),p=0,s=w;p<S;p++){if((O=(e-(f=this.X(s,!0)))*(e-f)*_+(i-(v=this.Y(s,!0)))*(i-v)*C)<=b)return!0;s+=E}else if("plot"===x||"functiongraph"===x){for((!c.exists(o)||o<0)&&(o=0),c.exists(this.qdt)&&c.evaluate(this.visProp.useqdt)&&3!==this.bezierDegree?u=(m=(g=this.qdt.query(new r(t.COORDS_BY_USER,[e,i],this.board))).points).length:(m=this.points,u=this.numberPoints-1),p=o;p<u;p++)if(3===this.bezierDegree?P.push(a.projectCoordsToBeziersegment([1,e,i],this,p)):g?(m[p].prev&&(P=a.projectCoordsToSegment([1,e,i],m[p].prev.usrCoords,m[p].usrCoords)),m[p].next&&m[p+1]!==m[p].next&&(P=a.projectCoordsToSegment([1,e,i],m[p].usrCoords,m[p].next.usrCoords))):P=a.projectCoordsToSegment([1,e,i],m[p].usrCoords,m[p+1].usrCoords),P[1]>=0&&P[1]<=1&&(e-P[0][1])*(e-P[0][1])*_+(i-P[0][2])*(i-P[0][2])*C<=b)return!0;return!1}return O<b},allocatePoints:function(){var e,i;if(i=this.numberPoints,this.points.length<this.numberPoints)for(e=this.points.length;e<i;e++)this.points[e]=new r(t.COORDS_BY_USER,[0,0],this.board,!1)},update:function(){return this.needsUpdate&&(c.evaluate(this.visProp.trace)&&this.cloneToBackground(!0),this.updateCurve()),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&(this.isReal=s.checkReal(this.points),this.isReal||this.updateVisibility(!1)),this.visPropCalc.visible&&this.board.renderer.updateCurve(this),this.hasLabel&&this.visPropCalc.visible&&this.label&&this.label.visPropCalc.visible&&this.isReal&&(this.label.update(),this.board.renderer.updateText(this.label)),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateDataArray:function(){},updateCurve:function(){var e,r,i,n,a,l,h=this.visProp.plotversion,d=!1;if(this.updateTransformMatrix(),this.updateDataArray(),r=this.minX(),i=this.maxX(),c.exists(this.dataX))for(this.numberPoints=this.dataX.length,e=this.numberPoints,this.allocatePoints(),l=0;l<e;l++)n=l,c.exists(this.dataY)?(a=l,this.points[l].setCoordinates(t.COORDS_BY_USER,[this.dataX[l],this.dataY[l]],!1)):(a=this.X(n),this.points[l].setCoordinates(t.COORDS_BY_USER,[this.dataX[l],this.Y(a,d)],!1)),this.points[l]._t=l,d=!0;else if(c.evaluate(this.visProp.doadvancedplot)?1===h||c.evaluate(this.visProp.doadvancedplotold)?s.updateParametricCurveOld(this,r,i):2===h?s.updateParametricCurve_v2(this,r,i):3===h?s.updateParametricCurve_v3(this,r,i):4===h?s.updateParametricCurve_v4(this,r,i):s.updateParametricCurve_v2(this,r,i):(this.board.updateQuality===this.board.BOARD_QUALITY_HIGH?this.numberPoints=c.evaluate(this.visProp.numberpointshigh):this.numberPoints=c.evaluate(this.visProp.numberpointslow),this.allocatePoints(),s.updateParametricCurveNaive(this,r,i,this.numberPoints)),e=this.numberPoints,c.evaluate(this.visProp.useqdt)&&this.board.updateQuality===this.board.BOARD_QUALITY_HIGH)for(this.qdt=new u(this.board.getBoundingBox()),l=0;l<this.points.length;l++)this.qdt.insert(this.points[l]),l>0&&(this.points[l].prev=this.points[l-1]),l<e-1&&(this.points[l].next=this.points[l+1]);for("plot"!==c.evaluate(this.visProp.curvetype)&&c.evaluate(this.visProp.rdpsmoothing)&&(this.points=o.RamerDouglasPeucker(this.points,.2),this.numberPoints=this.points.length),e=this.numberPoints,l=0;l<e;l++)this.updateTransform(this.points[l]);return this},updateTransformMatrix:function(){var e,t,r=this.transformations.length;for(this.transformMat=[[1,0,0],[0,1,0],[0,0,1]],t=0;t<r;t++)(e=this.transformations[t]).update(),this.transformMat=n.matMatMult(e.matrix,this.transformMat);return this},updateTransform:function(e){var r;return this.transformations.length>0&&(r=n.matVecMult(this.transformMat,e.usrCoords),e.setCoordinates(t.COORDS_BY_USER,r,!1,!0)),e},addTransform:function(e){var t,r=c.isArray(e)?e:[e],i=r.length;for(t=0;t<i;t++)this.transformations.push(r[t]);return this},interpolationFunctionFromArray:function(e){var t="data"+e,r=this;return function(e,i){var n,o,s,a,l=r[t],u=l.length,h=[];if(isNaN(e))return NaN;if(e<0)return c.isFunction(l[0])?l[0]():l[0];if(3===r.bezierDegree){if(e>=(u-1)/3)return c.isFunction(l[l.length-1])?l[l.length-1]():l[l.length-1];for(n=3*Math.floor(e),a=1-(s=e%1),o=0;o<4;o++)c.isFunction(l[n+o])?h[o]=l[n+o]():h[o]=l[n+o];return a*a*(a*h[0]+3*s*h[1])+(3*a*h[2]+s*h[3])*s*s}if((n=e>u-2?u-2:parseInt(Math.floor(e),10))===e)return c.isFunction(l[n])?l[n]():l[n];for(o=0;o<2;o++)c.isFunction(l[n+o])?h[o]=l[n+o]():h[o]=l[n+o];return h[0]+(h[1]-h[0])*(e-n)}},generateTerm:function(e,t,r,i,n){var o,s;c.isArray(t)?(this.dataX=t,this.numberPoints=this.dataX.length,this.X=this.interpolationFunctionFromArray.apply(this,["X"]),this.visProp.curvetype="plot",this.isDraggable=!0):(this.X=c.createFunction(t,this.board,e),c.isString(t)?this.visProp.curvetype="functiongraph":(c.isFunction(t)||c.isNumber(t))&&(this.visProp.curvetype="parameter"),this.isDraggable=!0),c.isArray(r)?(this.dataY=r,this.Y=this.interpolationFunctionFromArray.apply(this,["Y"])):this.Y=c.createFunction(r,this.board,e),c.isFunction(t)&&c.isArray(r)&&(o=c.createFunction(r[0],this.board,""),s=c.createFunction(r[1],this.board,""),this.X=function(e){return t(e)*Math.cos(e)+o()},this.Y=function(e){return t(e)*Math.sin(e)+s()},this.visProp.curvetype="polar"),c.exists(i)&&(this.minX=c.createFunction(i,this.board,"")),c.exists(n)&&(this.maxX=c.createFunction(n,this.board,""))},notifyParents:function(e){var t,r,i,n=!1;for(t in i={xterm:1,yterm:1})if(i.hasOwnProperty(t)&&this.hasOwnProperty(t)&&this[t].origin)for(r in n=!0,this[t].origin.deps)this[t].origin.deps.hasOwnProperty(r)&&this[t].origin.deps[r].addChild(this);n||l.findDependencies(this,e,this.board)},getLabelAnchor:function(){var e,i,n,o=.05*this.board.canvasWidth,s=.05*this.board.canvasHeight,l=.95*this.board.canvasWidth,u=.95*this.board.canvasHeight;switch(c.evaluate(this.visProp.label.position)){case"ulft":i=o,n=s;break;case"llft":i=o,n=u;break;case"rt":i=l,n=.5*u;break;case"lrt":i=l,n=u;break;case"urt":i=l,n=s;break;case"top":i=.5*l,n=s;break;case"bot":i=.5*l,n=u;break;default:i=o,n=.5*u}return e=new r(t.COORDS_BY_SCREEN,[i,n],this.board,!1),a.projectCoordsToCurve(e.usrCoords[1],e.usrCoords[2],0,this,this.board)[0]},cloneToBackground:function(){var e,r={id:this.id+"T"+this.numTraces,elementClass:t.OBJECT_CLASS_CURVE,points:this.points.slice(0),bezierDegree:this.bezierDegree,numberPoints:this.numberPoints,board:this.board,visProp:c.deepCopy(this.visProp,this.visProp.traceattributes,!0)};return r.visProp.layer=this.board.options.layer.trace,r.visProp.curvetype=this.visProp.curvetype,this.numTraces++,c.clearVisPropOld(r),r.visPropCalc={visible:c.evaluate(r.visProp.visible)},e=this.board.renderer.enhancedRendering,this.board.renderer.enhancedRendering=!0,this.board.renderer.drawCurve(r),this.board.renderer.enhancedRendering=e,this.traces[r.id]=r.rendNode,this},bounds:function(){var e,t,r,i=1/0,n=-1/0,s=1/0,a=-1/0,l=this.points.length;if(3===this.bezierDegree){for(e=0;e<l;e++)this.points[e].X=c.bind((function(){return this.usrCoords[1]}),this.points[e]),this.points[e].Y=c.bind((function(){return this.usrCoords[2]}),this.points[e]);return r=(t=o.bezier(this.points))[3](),i=o.fminbr((function(e){return t[0](e)}),[0,r]),n=o.fminbr((function(e){return-t[0](e)}),[0,r]),s=o.fminbr((function(e){return t[1](e)}),[0,r]),a=o.fminbr((function(e){return-t[1](e)}),[0,r]),i=t[0](i),n=t[0](n),s=t[1](s),[i,a=t[1](a),n,s]}for(e=0;e<l;e++)i>this.points[e].usrCoords[1]&&(i=this.points[e].usrCoords[1]),n<this.points[e].usrCoords[1]&&(n=this.points[e].usrCoords[1]),s>this.points[e].usrCoords[2]&&(s=this.points[e].usrCoords[2]),a<this.points[e].usrCoords[2]&&(a=this.points[e].usrCoords[2]);return[i,a,n,s]},getParents:function(){var e=[this.xterm,this.yterm,this.minX(),this.maxX()];return 0!==this.parents.length&&(e=this.parents),e},moveTo:function(e){var r,i=[];return this.points.length>0&&!c.evaluate(this.visProp.fixed)&&(r=this.points[0],i=3===e.length?[e[0]-r.usrCoords[0],e[1]-r.usrCoords[1],e[2]-r.usrCoords[2]]:[e[0]-r.usrCoords[1],e[1]-r.usrCoords[2]],this.setPosition(t.COORDS_BY_USER,i)),this},getTransformationSource:function(){var e,r;return c.exists(this._transformationSource)&&(r=this._transformationSource).elementClass===t.OBJECT_CLASS_CURVE&&(e=!0),[e,r]}}),e.createCurve=function(r,i,n){var o,s,a=c.copyAttributes(n,r.options,"curve");return o=r.select(i[0],!0),c.isObject(o)&&(o.type===t.OBJECT_TYPE_CURVE||o.type===t.OBJECT_TYPE_ANGLE||o.type===t.OBJECT_TYPE_ARC||o.type===t.OBJECT_TYPE_CONIC||o.type===t.OBJECT_TYPE_SECTOR)&&c.isTransformationOrArray(i[1])?(o.type===t.OBJECT_TYPE_SECTOR?a=c.copyAttributes(n,r.options,"sector"):o.type===t.OBJECT_TYPE_ARC?a=c.copyAttributes(n,r.options,"arc"):o.type===t.OBJECT_TYPE_ANGLE?(c.exists(n.withLabel)||(n.withLabel=!1),a=c.copyAttributes(n,r.options,"angle")):a=c.copyAttributes(n,r.options,"curve"),a=c.copyAttributes(a,r.options,"curve"),(s=new e.Curve(r,["x",[],[]],a)).updateDataArray=function(){var e,t=o.numberPoints;for(this.bezierDegree=o.bezierDegree,this.dataX=[],this.dataY=[],e=0;e<t;e++)this.dataX.push(o.points[e].usrCoords[1]),this.dataY.push(o.points[e].usrCoords[2]);return this},s.addTransform(i[1]),o.addChild(s),s.setParents([o]),s._transformationSource=o,s):(a=c.copyAttributes(n,r.options,"curve"),new e.Curve(r,["x"].concat(i),a))},e.registerElement("curve",e.createCurve),e.createFunctiongraph=function(t,r,i){var n,o=["x","x"].concat(r);return(n=c.copyAttributes(i,t.options,"curve")).curvetype="functiongraph",new e.Curve(t,o,n)},e.registerElement("functiongraph",e.createFunctiongraph),e.registerElement("plot",e.createFunctiongraph),e.createSpline=function(t,r,i){var n,s,a;return s=function(){var e,t=[],i=[];return[function(n,s){var a,l,u;if(!s){if(t=[],i=[],2===r.length&&c.isArray(r[0])&&c.isArray(r[1])&&r[0].length===r[1].length)for(a=0;a<r[0].length;a++)c.isFunction(r[0][a])?t.push(r[0][a]()):t.push(r[0][a]),c.isFunction(r[1][a])?i.push(r[1][a]()):i.push(r[1][a]);else for(a=0;a<r.length;a++)if(c.isPoint(r[a]))t.push(r[a].X()),i.push(r[a].Y());else if(c.isArray(r[a])&&2===r[a].length)for(l=0;l<r.length;l++)c.isFunction(r[l][0])?t.push(r[l][0]()):t.push(r[l][0]),c.isFunction(r[l][1])?i.push(r[l][1]()):i.push(r[l][1]);else c.isFunction(r[a])&&2===r[a]().length&&(u=r[a](),t.push(u[0]),i.push(u[1]));e=o.splineDef(t,i)}return o.splineEval(n,t,i,e)},function(){return t[0]},function(){return t[t.length-1]}]},(i=c.copyAttributes(i,t.options,"curve")).curvetype="functiongraph",a=s(),(n=new e.Curve(t,["x","x",a[0],a[1],a[2]],i)).setParents(r),n.elType="spline",n},e.registerElement("spline",e.createSpline),e.createCardinalSpline=function(t,r,i){var n,s,a,l,u,h,d,p,f,v,m="\nPossible parent types: [points:array, tau:number|function, type:string]";if(!c.exists(r[0])||!c.isArray(r[0]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 1 'points' has to be array of points or coordinate pairs"+m);if(!c.exists(r[1])||!c.isNumber(r[1])&&!c.isFunction(r[1]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 2 'tau' has to be number between [0,1] or function'"+m);if(!c.exists(r[2])||!c.isString(r[2]))throw new Error("JSXGraph: JXG.createCardinalSpline: argument 3 'type' has to be string 'uniform' or 'centripetal'"+m);if(i=c.copyAttributes(i,t.options,"curve"),(i=c.copyAttributes(i,t.options,"cardinalspline")).curvetype="parameter",h=r[0],d=[],!i.isarrayofcoordinates&&2===h.length&&c.isArray(h[0])&&c.isArray(h[1])&&h[0].length===h[1].length)for(p=0;p<h[0].length;p++)d[p]=[],c.isFunction(h[0][p])?d[p].push(h[0][p]()):d[p].push(h[0][p]),c.isFunction(h[1][p])?d[p].push(h[1][p]()):d[p].push(h[1][p]);else for(p=0;p<h.length;p++)c.isString(h[p])?d.push(t.select(h[p])):c.isPoint(h[p])?d.push(h[p]):c.isArray(h[p])&&2===h[p].length?(d[p]=[],c.isFunction(h[p][0])?d[p].push(h[p][0]()):d[p].push(h[p][0]),c.isFunction(h[p][1])?d[p].push(h[p][1]()):d[p].push(h[p][1])):c.isFunction(h[p])&&2===h[p]().length&&d.push(r[p]());if(!0===i.createpoints)a=c.providePoints(t,d,i,"cardinalspline",["points"]);else for(a=[],s=function(e){return{X:function(){return d[e][0]},Y:function(){return d[e][1]},Dist:function(e){var t=this.X()-e.X(),r=this.Y()-e.Y();return Math.sqrt(t*t+r*r)}}},p=0;p<d.length;p++)c.isPoint(d[p])?a.push(d[p]):a.push(s(p));for(l=r[1],u=r[2],v=["x"].concat(o.CardinalSpline(a,l,u)),n=new e.Curve(t,v,i),f=a.length,n.setParents(a),p=0;p<f;p++)h=a[p],c.isPoint(h)&&(c.exists(h._is_new)?(n.addChild(h),delete h._is_new):h.addChild(n));return n.elType="cardinalspline",n},e.registerElement("cardinalspline",e.createCardinalSpline),e.createMetapostSpline=function(t,r,i){var n,o,s,a,l,u,h,d,p="\nPossible parent types: [points:array, controls:object";if(!c.exists(r[0])||!c.isArray(r[0]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 1 'points' has to be array of points or coordinate pairs"+p);if(!c.exists(r[1])||!c.isObject(r[1]))throw new Error("JSXGraph: JXG.createMetapostSpline: argument 2 'controls' has to be a JavaScript object'"+p);if(i=c.copyAttributes(i,t.options,"curve"),(i=c.copyAttributes(i,t.options,"metapostspline")).curvetype="parameter",l=r[0],u=[],!i.isarrayofcoordinates&&2===l.length&&c.isArray(l[0])&&c.isArray(l[1])&&l[0].length===l[1].length)for(h=0;h<l[0].length;h++)u[h]=[],c.isFunction(l[0][h])?u[h].push(l[0][h]()):u[h].push(l[0][h]),c.isFunction(l[1][h])?u[h].push(l[1][h]()):u[h].push(l[1][h]);else for(h=0;h<l.length;h++)c.isString(l[h])?u.push(t.select(l[h])):c.isPoint(l[h])?u.push(l[h]):c.isArray(l[h])&&2===l[h].length?(u[h]=[],c.isFunction(l[h][0])?u[h].push(l[h][0]()):u[h].push(l[h][0]),c.isFunction(l[h][1])?u[h].push(l[h][1]()):u[h].push(l[h][1])):c.isFunction(l[h])&&2===l[h]().length&&u.push(r[h]());if(!0===i.createpoints)s=c.providePoints(t,u,i,"metapostspline",["points"]);else for(s=[],o=function(e){return{X:function(){return u[e][0]},Y:function(){return u[e][1]}}},h=0;h<u.length;h++)c.isPoint(u[h])?s.push(u[h]):s.push(o);for(a=r[1],(n=new e.Curve(t,["t",[],[],0,l.length-1],i)).updateDataArray=function(){var t,r,i=s.length,n=[];for(r=0;r<i;r++)n.push([s[r].X(),s[r].Y()]);t=e.Math.Metapost.curve(n,a),this.dataX=t[0],this.dataY=t[1]},n.bezierDegree=3,d=s.length,n.setParents(s),h=0;h<d;h++)c.isPoint(s[h])&&s[h].addChild(n);return n.elType="metapostspline",n},e.registerElement("metapostspline",e.createMetapostSpline),e.createRiemannsum=function(e,t,r){var i,n,s,a,l,u;if((u=c.copyAttributes(r,e.options,"riemannsum")).curvetype="plot",s=t[0],i=c.createFunction(t[1],e,""),!c.exists(i))throw new Error("JSXGraph: JXG.createRiemannsum: argument '2' n has to be number or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");if(n=c.createFunction(t[2],e,"",!1),!c.exists(n))throw new Error("JSXGraph: JXG.createRiemannsum: argument 3 'type' has to be string or function.\nPossible parent types: [function,n:number|function,type,start:number|function,end:number|function]");return a=[[0],[0]].concat(t.slice(3)),(l=e.create("curve",a,u)).sum=0,l.Value=function(){return this.sum},l.updateDataArray=function(){var e=o.riemann(s,i(),n(),this.minX(),this.maxX());this.dataX=e[0],this.dataY=e[1],this.sum=e[2]},l},e.registerElement("riemannsum",e.createRiemannsum),e.createTracecurve=function(e,r,i){var n,o,s,a;if(2!==r.length)throw new Error("JSXGraph: Can't create trace curve with given parent'\nPossible parent types: [glider, point]");if(o=e.select(r[0]),s=e.select(r[1]),o.type!==t.OBJECT_TYPE_GLIDER||!c.isPoint(s))throw new Error("JSXGraph: Can't create trace curve with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [glider, point]");return(a=c.copyAttributes(i,e.options,"tracecurve")).curvetype="plot",(n=e.create("curve",[[0],[0]],a)).updateDataArray=function(){var e,r,i,n,l,c,u,h,d,p=a.numberpoints,f=o.position,v=o.slideObject,m=v.minX();for(r=(v.maxX()-m)/p,this.dataX=[],this.dataY=[],v.elementClass!==t.OBJECT_CLASS_CURVE&&p++,e=0;e<p;e++){for(n in i=m+e*r,c=v.X(i)/v.Z(i),u=v.Y(i)/v.Z(i),o.setPositionDirectly(t.COORDS_BY_USER,[c,u]),h=!1,this.board.objects)if(this.board.objects.hasOwnProperty(n)&&((l=this.board.objects[n])===o&&(h=!0),h&&l.needsRegularUpdate&&(d=l.visProp.trace,l.visProp.trace=!1,l.needsUpdate=!0,l.update(!0),l.visProp.trace=d,l===s)))break;this.dataX[e]=s.X(),this.dataY[e]=s.Y()}for(n in o.position=f,h=!1,this.board.objects)if(this.board.objects.hasOwnProperty(n)&&((l=this.board.objects[n])===o&&(h=!0),h&&l.needsRegularUpdate&&(d=l.visProp.trace,l.visProp.trace=!1,l.needsUpdate=!0,l.update(!0),l.visProp.trace=d,l===s)))break},n},e.registerElement("tracecurve",e.createTracecurve),e.createStepfunction=function(e,t,r){var i,n;if(2!==t.length)throw new Error("JSXGraph: Can't create step function with given parent'\nPossible parent types: [array, array|function]");return n=c.copyAttributes(r,e.options,"stepfunction"),(i=e.create("curve",t,n)).updateDataArray=function(){var e,t=0,r=this.xterm.length;if(this.dataX=[],this.dataY=[],0!==r)for(this.dataX[t]=this.xterm[0],this.dataY[t]=this.yterm[0],++t,e=1;e<r;++e)this.dataX[t]=this.xterm[e],this.dataY[t]=this.dataY[t-1],++t,this.dataX[t]=this.xterm[e],this.dataY[t]=this.yterm[e],++t},i},e.registerElement("stepfunction",e.createStepfunction),e.createDerivative=function(e,r,i){var n,s,a,l,u;if(1!==r.length&&r[0].class!==t.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create derivative curve with given parent'\nPossible parent types: [curve]");return u=c.copyAttributes(i,e.options,"curve"),s=r[0],a=o.D(s.X),l=o.D(s.Y),(n=e.create("curve",[function(e){return s.X(e)},function(e){return l(e)/a(e)},s.minX(),s.maxX()],u)).setParents(s),n},e.registerElement("derivative",e.createDerivative),e.createCurveIntersection=function(t,r,i){var n;if(2!==r.length)throw new Error("JSXGraph: Can't create curve intersection with given parent'\nPossible parent types: [array, array|function]");return(n=t.create("curve",[[],[]],i)).updateDataArray=function(){var t=e.Math.Clip.intersection(r[0],r[1],this.board);this.dataX=t[0],this.dataY=t[1]},n},e.createCurveUnion=function(t,r,i){var n;if(2!==r.length)throw new Error("JSXGraph: Can't create curve union with given parent'\nPossible parent types: [array, array|function]");return(n=t.create("curve",[[],[]],i)).updateDataArray=function(){var t=e.Math.Clip.union(r[0],r[1],this.board);this.dataX=t[0],this.dataY=t[1]},n},e.createCurveDifference=function(t,r,i){var n;if(2!==r.length)throw new Error("JSXGraph: Can't create curve difference with given parent'\nPossible parent types: [array, array|function]");return(n=t.create("curve",[[],[]],i)).updateDataArray=function(){var t=e.Math.Clip.difference(r[0],r[1],this.board);this.dataX=t[0],this.dataY=t[1]},n},e.registerElement("curvedifference",e.createCurveDifference),e.registerElement("curveintersection",e.createCurveIntersection),e.registerElement("curveunion",e.createCurveUnion),e.createBoxPlot=function(e,t,r){var i,n,o,s=c.copyAttributes(r,e.options,"boxplot");if(3!==t.length)throw new Error("JSXGraph: Can't create box plot with given parent'\nPossible parent types: [array, number|function, number|function] containing quantiles, axis, width");if(t[0].length<5)throw new Error("JSXGraph: Can't create box plot with given parent[0]'\nparent[0] has to conatin at least 5 quantiles.");for(i=e.create("curve",[[],[]],s),o=t[0].length,i.Q=[],n=0;n<o;n++)i.Q[n]=c.createFunction(t[0][n],e,null,!0);return i.x=c.createFunction(t[1],e,null,!0),i.w=c.createFunction(t[2],e,null,!0),i.updateDataArray=function(){var e,t,r,i,n,o,s,a,l;s=c.evaluate(this.visProp.smallwidth),a=c.evaluate(this.visProp.dir),r=(l=this.x())-.5*this.w(),i=l-.5*this.w()*s,n=l+.5*this.w(),e=[l,i,o=l+.5*this.w()*s,l,l,r,r,n,n,l,NaN,r,n,NaN,l,l,i,o,l],t=[this.Q[0](),this.Q[0](),this.Q[0](),this.Q[0](),this.Q[1](),this.Q[1](),this.Q[3](),this.Q[3](),this.Q[1](),this.Q[1](),NaN,this.Q[2](),this.Q[2](),NaN,this.Q[3](),this.Q[4](),this.Q[4](),this.Q[4](),this.Q[4]()],"vertical"===a?(this.dataX=e,this.dataY=t):(this.dataX=t,this.dataY=e)},i},e.registerElement("boxplot",e.createBoxPlot),{Curve:e.Curve,createCardinalSpline:e.createCardinalSpline,createCurve:e.createCurve,createCurveDifference:e.createCurveDifference,createCurveIntersection:e.createCurveIntersection,createCurveUnion:e.createCurveUnion,createDerivative:e.createDerivative,createFunctiongraph:e.createFunctiongraph,createMetapostSpline:e.createMetapostSpline,createPlot:e.createFunctiongraph,createSpline:e.createSpline,createRiemannsum:e.createRiemannsum,createStepfunction:e.createStepfunction,createTracecurve:e.createTracecurve}})),define("element/arc",["jxg","math/geometry","math/math","base/coords","base/circle","utils/type","base/constants"],(function(e,t,r,i,n,o,s){"use strict";return e.createArc=function(a,l,c){var u,h,d;if(!1===(d=o.providePoints(a,l,c,"arc",["center","radiusPoint","anglePoint"]))||d.length<3)throw new Error("JSXGraph: Can't create Arc with parent types '"+typeof l[0]+"' and '"+typeof l[1]+"' and '"+typeof l[2]+"'.\nPossible parent types: [point,point,point], [arc, transformation]");return h=o.copyAttributes(c,a.options,"arc"),(u=a.create("curve",[[0],[0]],h)).elType="arc",u.setParents(d),u.type=s.OBJECT_TYPE_ARC,u.center=d[0],u.radiuspoint=d[1],u.point2=u.radiuspoint,u.anglepoint=d[2],u.point3=u.anglepoint,o.exists(u.center._is_new)?(u.addChild(u.center),delete u.center._is_new):u.center.addChild(u),o.exists(u.radiuspoint._is_new)?(u.addChild(u.radiuspoint),delete u.radiuspoint._is_new):u.radiuspoint.addChild(u),o.exists(u.anglepoint._is_new)?(u.addChild(u.anglepoint),delete u.anglepoint._is_new):u.anglepoint.addChild(u),u.useDirection=h.usedirection,u.updateDataArray=function(){var e,r,i,n,s,a=1,l=this.radiuspoint,c=this.center,u=this.anglepoint,h=o.evaluate(this.visProp.selection);r=t.rad(l,c,u),("minor"===h&&r>Math.PI||"major"===h&&r<Math.PI)&&(a=-1),this.useDirection&&(i=d[1].coords.usrCoords,n=d[3].coords.usrCoords,s=d[2].coords.usrCoords,(i[1]-s[1])*(i[2]-n[2])-(i[2]-s[2])*(i[1]-n[1])<0?(this.radiuspoint=d[1],this.anglepoint=d[2]):(this.radiuspoint=d[2],this.anglepoint=d[1])),l=l.coords.usrCoords,c=c.coords.usrCoords,u=u.coords.usrCoords,e=t.bezierArc(l,c,u,!1,a),this.dataX=e[0],this.dataY=e[1],this.bezierDegree=3,this.updateStdform(),this.updateQuadraticform()},u.Radius=function(){return this.radiuspoint.Dist(this.center)},u.getRadius=function(){return e.deprecated("Arc.getRadius()","Arc.Radius()"),this.Radius()},u.Value=function(){return this.Radius()*t.rad(this.radiuspoint,this.center,this.anglepoint)},u.hasPoint=function(e,n){var a,l,c,u,h,d,p,f=this.Radius();return o.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(e,n):(o.isObject(o.evaluate(this.visProp.precision))?(p=this.board._inputDevice,d=o.evaluate(this.visProp.precision[p])):d=this.board.options.precision.hasPoint,d/=Math.min(this.board.unitX,this.board.unitY),l=new i(s.COORDS_BY_SCREEN,[e,n],this.board),this.transformations.length>0&&(this.updateTransformMatrix(),u=r.inverse(this.transformMat),h=r.matVecMult(u,l.usrCoords),l=new i(s.COORDS_BY_USER,h,this.board)),a=this.center.coords.distance(s.COORDS_BY_USER,l),(c=Math.abs(a-f)<d)&&(c=t.coordsOnArc(this,l)),c)},u.hasPointSector=function(e,r){var n=new i(s.COORDS_BY_SCREEN,[e,r],this.board),o=this.Radius(),a=this.center.coords.distance(s.COORDS_BY_USER,n)<o;return a&&(a=t.coordsOnArc(this,n)),a},u.getTextAnchor=function(){return this.center.coords},u.getLabelAnchor=function(){var e,r,n,a,l,c=t.rad(this.radiuspoint,this.center,this.anglepoint),u=10/this.board.unitX,h=10/this.board.unitY,d=this.point2.coords.usrCoords,p=this.center.coords.usrCoords,f=d[1]-p[1],v=d[2]-p[2],m=o.evaluate(this.visProp.selection),g=this.label?this.label.visProp:this.visProp.label;return("minor"===m&&c>Math.PI||"major"===m&&c<Math.PI)&&(c=-(2*Math.PI-c)),n=(e=new i(s.COORDS_BY_USER,[p[1]+Math.cos(.5*c)*f-Math.sin(.5*c)*v,p[2]+Math.sin(.5*c)*f+Math.cos(.5*c)*v],this.board)).usrCoords[1]-p[1],a=e.usrCoords[2]-p[2],n=n*((l=Math.sqrt(n*n+a*a))+u)/l,a=a*(l+h)/l,r=[p[1]+n,p[2]+a],g.position=t.calcLabelQuadrant(t.rad([1,0],[0,0],r)),new i(s.COORDS_BY_USER,r,this.board)},u.updateQuadraticform=n.Circle.prototype.updateQuadraticform,u.updateStdform=n.Circle.prototype.updateStdform,u.methodMap=e.deepCopy(u.methodMap,{getRadius:"getRadius",radius:"Radius",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",Value:"Value"}),u.prepareUpdate().update(),u},e.registerElement("arc",e.createArc),e.createSemicircle=function(e,t,r){var i,n,s,a;if(!1===(a=o.providePoints(e,t,r,"point"))||2!==a.length)throw new Error("JSXGraph: Can't create Semicircle with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [point,point]");return s=o.copyAttributes(r,e.options,"semicircle","center"),(n=e.create("midpoint",a,s)).dump=!1,s=o.copyAttributes(r,e.options,"semicircle"),(i=e.create("arc",[n,a[1],a[0]],s)).elType="semicircle",i.setParents([a[0].id,a[1].id]),i.subs={midpoint:n},i.inherits.push(n),i.midpoint=i.center=n,i},e.registerElement("semicircle",e.createSemicircle),e.createCircumcircleArc=function(e,t,r){var i,n,s,a;if(!1===(a=o.providePoints(e,t,r,"point"))||3!==a.length)throw new Error("JSXGraph: create Circumcircle Arc with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"' and '"+typeof t[2]+"'.\nPossible parent types: [point,point,point]");return s=o.copyAttributes(r,e.options,"circumcirclearc","center"),(n=e.create("circumcenter",a,s)).dump=!1,(s=o.copyAttributes(r,e.options,"circumcirclearc")).usedirection=!0,(i=e.create("arc",[n,a[0],a[2],a[1]],s)).elType="circumcirclearc",i.setParents([a[0].id,a[1].id,a[2].id]),i.subs={center:n},i.inherits.push(n),i.center=n,i},e.registerElement("circumcirclearc",e.createCircumcircleArc),e.createMinorArc=function(t,r,i){return i.selection="minor",e.createArc(t,r,i)},e.registerElement("minorarc",e.createMinorArc),e.createMajorArc=function(t,r,i){return i.selection="major",e.createArc(t,r,i)},e.registerElement("majorarc",e.createMajorArc),{createArc:e.createArc,createSemicircle:e.createSemicircle,createCircumcircleArc:e.createCircumcircleArc,createMinorArc:e.createMinorArc,createMajorArc:e.createMajorArc}})),define("element/sector",["jxg","math/geometry","math/math","math/statistics","base/coords","base/constants","utils/type"],(function(e,t,r,i,n,o,s){"use strict";return e.createSector=function(a,l,c){var u,h,d,p,f,v,m="invalid";if(l[0].elementClass===o.OBJECT_CLASS_LINE&&l[1].elementClass===o.OBJECT_CLASS_LINE&&(s.isArray(l[2])||s.isNumber(l[2]))&&(s.isArray(l[3])||s.isNumber(l[3]))&&(s.isNumber(l[4])||s.isFunction(l[4])||s.isString(l[4])))m="2lines";else{if(!1===(v=s.providePoints(a,l,c,"sector",["center","radiusPoint","anglePoint"])))throw new Error("JSXGraph: Can't create Sector with parent types '"+typeof l[0]+"' and '"+typeof l[1]+"' and '"+typeof l[2]+"'.");m="3points"}if(h=s.copyAttributes(c,a.options,"sector"),(u=a.create("curve",[[0],[0]],h)).type=o.OBJECT_TYPE_SECTOR,u.elType="sector",u.autoRadius=function(){var e=20/u.board.unitX,t=1/0,r=50/u.board.unitX;return s.isPoint(u.center)&&(t=.3333*u.center.Dist(u.point2)),Math.max(e,Math.min(t,r))},"2lines"===m)u.Radius=function(){var e=s.evaluate(l[4]);return"auto"===e?this.autoRadius():e},u.line1=a.select(l[0]),u.line2=a.select(l[1]),u.line1.addChild(u),u.line2.addChild(u),u.setParents(l),u.point1={visProp:{}},u.point2={visProp:{}},u.point3={visProp:{}},p=t.meetLineLine(u.line1.stdform,u.line2.stdform,0,a),s.isArray(l[2])?(2===l[2].length&&(l[2]=[1].concat(l[2])),f=t.projectPointToLine({coords:{usrCoords:l[2]}},u.line1,a),f=i.subtract(f.usrCoords,p.usrCoords),u.direction1=r.innerProduct(f,[0,u.line1.stdform[2],-u.line1.stdform[1]],3)>=0?1:-1):u.direction1=l[2]>=0?1:-1,s.isArray(l[3])?(2===l[3].length&&(l[3]=[1].concat(l[3])),f=t.projectPointToLine({coords:{usrCoords:l[3]}},u.line2,a),f=i.subtract(f.usrCoords,p.usrCoords),u.direction2=r.innerProduct(f,[0,u.line2.stdform[2],-u.line2.stdform[1]],3)>=0?1:-1):u.direction2=l[3]>=0?1:-1,u.updateDataArray=function(){var e,s,a,l,c,h,d=[0,0,0];if(s=this.line1,a=this.line2,d=r.crossProduct(s.stdform,a.stdform),Math.abs(d[0])>r.eps*r.eps&&(d[1]/=d[0],d[2]/=d[0],d[0]/=d[0]),e=this.direction1*this.Radius(),l=i.add(d,[0,e*s.stdform[2],-e*s.stdform[1]]),e=this.direction2*this.Radius(),c=i.add(d,[0,e*a.stdform[2],-e*a.stdform[1]]),this.point2.coords=new n(o.COORDS_BY_USER,l,u.board),this.point1.coords=new n(o.COORDS_BY_USER,d,u.board),this.point3.coords=new n(o.COORDS_BY_USER,c,u.board),Math.abs(l[0])<r.eps||Math.abs(d[0])<r.eps||Math.abs(c[0])<r.eps)return this.dataX=[NaN],void(this.dataY=[NaN]);h=t.bezierArc(l,d,c,!0,1),this.dataX=h[0],this.dataY=h[1],this.bezierDegree=3},u.methodMap=e.deepCopy(u.methodMap,{radius:"Radius",getRadius:"Radius",setRadius:"setRadius"});else if("3points"===m){for(u.point1=v[0],u.point2=v[1],u.point3=v[2],d=0;d<3;d++)s.exists(v[d]._is_new)?(u.addChild(v[d]),delete v[d]._is_new):v[d].addChild(u);u.useDirection=c.usedirection,u.setParents(v),s.exists(v[3])&&(u.point4=v[3],u.point4.addChild(u)),u.methodMap=e.deepCopy(u.methodMap,{arc:"arc",center:"center",radiuspoint:"radiuspoint",anglepoint:"anglepoint",radius:"Radius",getRadius:"Radius",setRadius:"setRadius"}),u.updateDataArray=function(){var e,r,i,n,o,a=this.point2,l=this.point1,c=this.point3,u=1,h=s.evaluate(this.visProp.selection);if(!a.isReal||!l.isReal||!c.isReal)return this.dataX=[NaN],void(this.dataY=[NaN]);o=t.rad(a,l,c),("minor"===h&&o>Math.PI||"major"===h&&o<Math.PI)&&(u=-1),this.useDirection&&s.exists(this.point4)&&(r=this.point2.coords.usrCoords,i=this.point4.coords.usrCoords,n=this.point3.coords.usrCoords,(r[1]-n[1])*(r[2]-i[2])-(r[2]-n[2])*(r[1]-i[1])>=0&&(c=this.point2,a=this.point3)),a=a.coords.usrCoords,l=l.coords.usrCoords,c=c.coords.usrCoords,e=t.bezierArc(a,l,c,!0,u),this.dataX=e[0],this.dataY=e[1],this.bezierDegree=3},u.Radius=function(){return this.point2.Dist(this.point1)},(h=s.copyAttributes(c,a.options,"sector","arc")).withLabel=!1,h.name+="_arc",u.arc=a.create("arc",[u.point1,u.point2,u.point3],h),u.addChild(u.arc)}return u.center=u.point1,u.radiuspoint=u.point2,u.anglepoint=u.point3,u.hasPointCurve=function(e,r){var i,a,l,c,u,h,d=new n(o.COORDS_BY_SCREEN,[e,r],this.board),p=this.Radius(),f=this.center.coords.distance(o.COORDS_BY_USER,d),v=s.evaluate(this.visProp.selection);return s.isObject(s.evaluate(this.visProp.precision))?(u=this.board._inputDevice,c=s.evaluate(this.visProp.precision[u])):c=this.board.options.precision.hasPoint,c/=Math.min(this.board.unitX,this.board.unitY),(h=Math.abs(f-p)<c)&&(i=t.rad(this.point2,this.center,d.usrCoords.slice(1)),a=0,l=t.rad(this.point2,this.center,this.point3),("minor"===v&&l>Math.PI||"major"===v&&l<Math.PI)&&(a=l,l=2*Math.PI),(i<a||i>l)&&(h=!1)),h},u.hasPointSector=function(e,r){var i,a,l,c=new n(o.COORDS_BY_SCREEN,[e,r],this.board),u=this.Radius(),h=this.point1.coords.distance(o.COORDS_BY_USER,c)<u,d=s.evaluate(this.visProp.selection);return h&&(i=t.rad(this.radiuspoint,this.center,c.usrCoords.slice(1)),a=0,l=t.rad(this.radiuspoint,this.center,this.anglepoint),("minor"===d&&l>Math.PI||"major"===d&&l<Math.PI)&&(a=l,l=2*Math.PI),(i<a||i>l)&&(h=!1)),h},u.hasPoint=function(e,t){return s.evaluate(this.visProp.highlightonsector)||s.evaluate(this.visProp.hasinnerpoints)?this.hasPointSector(e,t):this.hasPointCurve(e,t)},u.getTextAnchor=function(){return this.point1.coords},u.getLabelAnchor=function(){var e,r,i,a,l,c=t.rad(this.point2,this.point1,this.point3),u=13/this.board.unitX,h=13/this.board.unitY,d=this.point2.coords.usrCoords,p=this.point1.coords.usrCoords,f=d[1]-p[1],v=d[2]-p[2],m=s.evaluate(this.visProp.selection),g=this.label?this.label.visProp:this.visProp.label;return("minor"===m&&c>Math.PI||"major"===m&&c<Math.PI)&&(c=-(2*Math.PI-c)),i=(e=new n(o.COORDS_BY_USER,[p[1]+Math.cos(.5*c)*f-Math.sin(.5*c)*v,p[2]+Math.sin(.5*c)*f+Math.cos(.5*c)*v],this.board)).usrCoords[1]-p[1],a=e.usrCoords[2]-p[2],i=i*((l=Math.sqrt(i*i+a*a))+u)/l,a=a*(l+h)/l,r=[p[1]+i,p[2]+a],g.position=t.calcLabelQuadrant(t.rad([1,0],[0,0],r)),new n(o.COORDS_BY_USER,r,this.board)},u.setRadius=function(e){u.Radius=function(){var t=s.evaluate(e);return"auto"===t?this.autoRadius():t}},u.getRadius=function(){return e.deprecated("Sector.getRadius()","Sector.Radius()"),this.Radius()},"3points"===m&&(u.setPositionDirectly=function(e,t,r){var o,s=new n(e,t,this.board),a=new n(e,r,this.board);return u.point1.draggable()&&u.point2.draggable()&&u.point3.draggable()?(o=i.subtract(s.usrCoords,a.usrCoords),this.board.create("transform",o.slice(1),{type:"translate"}).applyOnce([u.point1,u.point2,u.point3]),this):this}),u.prepareUpdate().update(),u},e.registerElement("sector",e.createSector),e.createCircumcircleSector=function(e,t,r){var i,n,o,a;if(!1===(a=s.providePoints(e,t,r,"point")))throw new Error("JSXGraph: Can't create circumcircle sector with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"' and '"+typeof t[2]+"'.");return(n=e.create("circumcenter",a.slice(0,3),o)).dump=!1,o=s.copyAttributes(r,e.options,"circumcirclesector"),(i=e.create("sector",[n,a[0],a[2],a[1]],o)).elType="circumcirclesector",i.setParents(a),i.center=n,i.subs={center:n},i},e.registerElement("circumcirclesector",e.createCircumcircleSector),e.createMinorSector=function(t,r,i){return i.selection="minor",e.createSector(t,r,i)},e.registerElement("minorsector",e.createMinorSector),e.createMajorSector=function(t,r,i){return i.selection="major",e.createSector(t,r,i)},e.registerElement("majorsector",e.createMajorSector),e.createAngle=function(e,i,a){var l,c,u,h,d,p,f="invalid";if(i[0].elementClass===o.OBJECT_CLASS_LINE&&i[1].elementClass===o.OBJECT_CLASS_LINE&&(s.isArray(i[2])||s.isNumber(i[2]))&&(s.isArray(i[3])||s.isNumber(i[3])))f="2lines";else{if(!1===(p=s.providePoints(e,i,a,"point")))throw new Error("JSXGraph: Can't create angle with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"' and '"+typeof i[2]+"'.");f="3points"}if(u=s.copyAttributes(a,e.options,"angle"),s.exists(u.name)&&""!==u.name||(u.name=e.generateName({type:o.OBJECT_TYPE_ANGLE})),c=s.exists(u.radius)?u.radius:0,"2lines"===f?(i.push(c),(l=e.create("sector",i,u)).updateDataArraySector=l.updateDataArray,l.setAngle=function(e){},l.free=function(e){}):((l=e.create("sector",[p[1],p[0],p[2]],u)).arc.visProp.priv=!0,l.point=l.point2=l.radiuspoint=p[0],l.pointsquare=l.point3=l.anglepoint=p[2],l.Radius=function(){var e=s.evaluate(c);return"auto"===e?l.autoRadius():e},l.updateDataArraySector=function(){var e,r,i=this.point2,n=this.point1,o=this.point3,a=this.Radius(),l=n.Dist(i),c=1,u=s.evaluate(this.visProp.selection);r=t.rad(i,n,o),("minor"===u&&r>Math.PI||"major"===u&&r<Math.PI)&&(c=-1),i=i.coords.usrCoords,n=n.coords.usrCoords,o=o.coords.usrCoords,i=[1,n[1]+(i[1]-n[1])*a/l,n[2]+(i[2]-n[2])*a/l],o=[1,n[1]+(o[1]-n[1])*a/l,n[2]+(o[2]-n[2])*a/l],e=t.bezierArc(i,n,o,!0,c),this.dataX=e[0],this.dataY=e[1],this.bezierDegree=3},l.setAngle=function(e){var t,i,n,o=this.anglepoint,a=this.radiuspoint;return o.draggable()&&(t=this.board.create("transform",[e,this.center],{type:"rotate"}),o.addTransform(a,t),t.update(),o.moveTo(r.matVecMult(t.matrix,a.coords.usrCoords)),n=s.isFunction(e)?function(){return 2*Math.PI-e()}:function(){return 2*Math.PI-e},i=this.board.create("transform",[n,this.center],{type:"rotate"}),o.coords.on("update",(function(){i.update(),a.moveTo(r.matVecMult(i.matrix,o.coords.usrCoords))})),o.setParents(a)),this},l.free=function(){var e=this.anglepoint;return e.transformations.length>0&&(e.transformations.pop(),e.isDraggable=!0,e.parents=[],e.coords.off("update")),this},l.setParents(p)),s.exists(l.visProp.text)&&l.label.setText(s.evaluate(l.visProp.text)),l.elType="angle",l.type=o.OBJECT_TYPE_ANGLE,l.subs={},l.updateDataArraySquare=function(){var e,i,n,o,s,a,l,c,u=this.Radius();"2lines"===f&&this.updateDataArraySector(),e=this.point2,i=this.point1,n=this.point3,e=e.coords.usrCoords,i=i.coords.usrCoords,n=n.coords.usrCoords,o=t.distance(e,i,3),s=t.distance(n,i,3),e=[1,i[1]+(e[1]-i[1])*u/o,i[2]+(e[2]-i[2])*u/o],n=[1,i[1]+(n[1]-i[1])*u/s,i[2]+(n[2]-i[2])*u/s],a=r.crossProduct(n,i),l=[-e[1]*a[1]-e[2]*a[2],e[0]*a[1],e[0]*a[2]],a=r.crossProduct(e,i),c=[-n[1]*a[1]-n[2]*a[2],n[0]*a[1],n[0]*a[2]],(a=r.crossProduct(l,c))[1]/=a[0],a[2]/=a[0],this.dataX=[i[1],e[1],a[1],n[1],i[1]],this.dataY=[i[2],e[2],a[2],n[2],i[2]],this.bezierDegree=1},l.updateDataArrayNone=function(){this.dataX=[NaN],this.dataY=[NaN],this.bezierDegree=1},l.updateDataArray=function(){var e=s.evaluate(this.visProp.type),i=t.trueAngle(this.point2,this.point1,this.point3),n=s.evaluate(this.visProp.selection);("minor"===n&&i>180||"major"===n&&i<180)&&(i=360-i),Math.abs(i-90)<s.evaluate(this.visProp.orthosensitivity)+r.eps&&(e=s.evaluate(this.visProp.orthotype)),"none"===e?this.updateDataArrayNone():"square"===e?this.updateDataArraySquare():"sector"===e?this.updateDataArraySector():"sectordot"===e&&(this.updateDataArraySector(),this.dot.visProp.visible||this.dot.setAttribute({visible:!0})),(!this.visProp.visible||"sectordot"!==e&&this.dot.visProp.visible)&&this.dot.setAttribute({visible:!1})},h=s.copyAttributes(a,e.options,"angle","dot"),l.dot=e.create("point",[function(){var e,i,n,o,a,c,u,h,d;return s.exists(l.dot)&&!l.dot.visProp.visible?[0,0]:(e=l.point2.coords.usrCoords,i=l.point1.coords.usrCoords,n=l.Radius(),o=t.distance(e,i,3),a=t.rad(l.point2,l.point1,l.point3),("minor"===(d=s.evaluate(l.visProp.selection))&&a>Math.PI||"major"===d&&a<Math.PI)&&(a=-(2*Math.PI-a)),a*=.5,c=Math.cos(a),u=Math.sin(a),e=[1,i[1]+(e[1]-i[1])*n/o,i[2]+(e[2]-i[2])*n/o],h=[[1,0,0],[i[1]-.5*i[1]*c+.5*i[2]*u,.5*c,.5*-u],[i[2]-.5*i[1]*u-.5*i[2]*c,.5*u,.5*c]],r.matVecMult(h,e))}],h),l.dot.dump=!1,l.subs.dot=l.dot,"2lines"===f)for(d=0;d<2;d++)e.select(i[d]).addChild(l.dot);else for(d=0;d<3;d++)e.select(p[d]).addChild(l.dot);return l.getLabelAnchor=function(){var e,i,a,c,u,h,d,p,f,v=12,m=s.evaluate(l.visProp.selection),g=this.label?this.label.visProp:this.visProp.label;return s.exists(this.label.visProp.fontSize)&&(v=s.evaluate(this.label.visProp.fontSize)),v/=this.board.unitX,i=l.point2.coords.usrCoords,a=l.point1.coords.usrCoords,c=l.Radius(),u=t.distance(i,a,3),h=t.rad(l.point2,l.point1,l.point3),("minor"===m&&h>Math.PI||"major"===m&&h<Math.PI)&&(h=-(2*Math.PI-h)),h*=.5,d=Math.cos(h),p=Math.sin(h),i=[1,a[1]+(i[1]-a[1])*c/u,a[2]+(i[2]-a[2])*c/u],f=[[1,0,0],[a[1]-.5*a[1]*d+.5*a[2]*p,.5*d,.5*-p],[a[2]-.5*a[1]*p-.5*a[2]*d,.5*p,.5*d]],(e=r.matVecMult(f,i))[1]/=e[0],e[2]/=e[0],e[0]/=e[0],u=t.distance(e,a,3),e=[e[0],a[1]+(e[1]-a[1])*(c+v)/u,a[2]+(e[2]-a[2])*(c+v)/u],g.position=t.calcLabelQuadrant(t.rad([1,0],[0,0],e)),new n(o.COORDS_BY_USER,e,this.board)},l.Value=function(){return t.rad(this.point2,this.point1,this.point3)},l.methodMap=s.deepCopy(l.methodMap,{Value:"Value",setAngle:"setAngle",free:"free"}),l},e.registerElement("angle",e.createAngle),e.createNonreflexAngle=function(r,i,n){var o;return n.selection="minor",(o=e.createAngle(r,i,n)).Value=function(){var e=t.rad(this.point2,this.point1,this.point3);return e<Math.PI?e:2*Math.PI-e},o},e.registerElement("nonreflexangle",e.createNonreflexAngle),e.createReflexAngle=function(r,i,n){var o;return n.selection="major",(o=e.createAngle(r,i,n)).Value=function(){var e=t.rad(this.point2,this.point1,this.point3);return e>=Math.PI?e:2*Math.PI-e},o},e.registerElement("reflexangle",e.createReflexAngle),{createSector:e.createSector,createCircumcircleSector:e.createCircumcircleSector,createMinorSector:e.createMinorSector,createMajorSector:e.createMajorSector,createAngle:e.createAngle,createReflexAngle:e.createReflexAngle,createNonreflexAngle:e.createNonreflexAngle}})),define("base/transformation",["jxg","base/constants","math/math","utils/type"],(function(e,t,r,i){"use strict";return e.Transformation=function(e,r,i){this.elementClass=t.OBJECT_CLASS_OTHER,this.type=t.OBJECT_TYPE_TRANSFORMATION,this.matrix=[[1,0,0],[0,1,0],[0,0,1]],this.board=e,this.isNumericMatrix=!1,this.setMatrix(e,r,i),this.methodMap={apply:"apply",applyOnce:"applyOnce",bindTo:"bindTo",bind:"bindTo",melt:"melt"}},e.Transformation.prototype={},e.extend(e.Transformation.prototype,{update:function(){return this},setMatrix:function(e,t,n){var o;for(this.isNumericMatrix=!0,o=0;o<n.length;o++)if("number"!=typeof n[o]){this.isNumericMatrix=!1;break}if("translate"===t){if(2!==n.length)throw new Error("JSXGraph: translate transformation needs 2 parameters.");this.evalParam=i.createEvalFunction(e,n,2),this.update=function(){this.matrix[1][0]=this.evalParam(0),this.matrix[2][0]=this.evalParam(1)}}else if("scale"===t){if(2!==n.length)throw new Error("JSXGraph: scale transformation needs 2 parameters.");this.evalParam=i.createEvalFunction(e,n,2),this.update=function(){this.matrix[1][1]=this.evalParam(0),this.matrix[2][2]=this.evalParam(1)}}else if("reflect"===t)n.length<4&&(n[0]=e.select(n[0])),2===n.length&&(n[1]=e.select(n[1])),4===n.length&&(this.evalParam=i.createEvalFunction(e,n,4)),this.update=function(){var e,t,i,o,s,a,l,c;1===n.length?l=n[0].stdform:2===n.length?l=r.crossProduct(n[1].coords.usrCoords,n[0].coords.usrCoords):4===n.length&&(l=r.crossProduct([1,this.evalParam(2),this.evalParam(3)],[1,this.evalParam(0),this.evalParam(1)])),e=l[1],t=l[2],a=(c=[-(i=l[0])*e,-i*t,e*e+t*t])[2],o=c[0]/c[2],s=c[1]/c[2],e=-l[2],t=l[1],this.matrix[1][1]=(e*e-t*t)/a,this.matrix[1][2]=2*e*t/a,this.matrix[2][1]=this.matrix[1][2],this.matrix[2][2]=-this.matrix[1][1],this.matrix[1][0]=o*(1-this.matrix[1][1])-s*this.matrix[1][2],this.matrix[2][0]=s*(1-this.matrix[2][2])-o*this.matrix[2][1]};else if("rotate"===t)3===n.length?this.evalParam=i.createEvalFunction(e,n,3):n.length>0&&n.length<=2&&(this.evalParam=i.createEvalFunction(e,n,1),2!==n.length||i.isArray(n[1])||(n[1]=e.select(n[1]))),this.update=function(){var e,t,r=this.evalParam(0),o=Math.cos(r),s=Math.sin(r);this.matrix[1][1]=o,this.matrix[1][2]=-s,this.matrix[2][1]=s,this.matrix[2][2]=o,n.length>1&&(3===n.length?(e=this.evalParam(1),t=this.evalParam(2)):i.isArray(n[1])?(e=n[1][0],t=n[1][1]):(e=n[1].X(),t=n[1].Y()),this.matrix[1][0]=e*(1-o)+t*s,this.matrix[2][0]=t*(1-o)-e*s)};else if("shear"===t){if(2!==n.length)throw new Error("JSXGraph: shear transformation needs 2 parameters.");this.evalParam=i.createEvalFunction(e,n,2),this.update=function(){this.matrix[1][2]=this.evalParam(0),this.matrix[2][1]=this.evalParam(1)}}else if("generic"===t){if(9!==n.length)throw new Error("JSXGraph: generic transformation needs 9 parameters.");this.evalParam=i.createEvalFunction(e,n,9),this.update=function(){this.matrix[0][0]=this.evalParam(0),this.matrix[0][1]=this.evalParam(1),this.matrix[0][2]=this.evalParam(2),this.matrix[1][0]=this.evalParam(3),this.matrix[1][1]=this.evalParam(4),this.matrix[1][2]=this.evalParam(5),this.matrix[2][0]=this.evalParam(6),this.matrix[2][1]=this.evalParam(7),this.matrix[2][2]=this.evalParam(8)}}},apply:function(e,t){return this.update(),i.exists(t)?r.matVecMult(this.matrix,e.initialCoords.usrCoords):r.matVecMult(this.matrix,e.coords.usrCoords)},applyOnce:function(e){var n,o,s;for(i.isArray(e)||(e=[e]),o=e.length,s=0;s<o;s++)this.update(),n=r.matVecMult(this.matrix,e[s].coords.usrCoords),e[s].coords.setCoordinates(t.COORDS_BY_USER,n)},bindTo:function(e){var t,r;if(i.isArray(e))for(r=e.length,t=0;t<r;t++)e[t].transformations.push(this);else e.transformations.push(this)},setProperty:function(t){e.deprecated("Transformation.setProperty()","Transformation.setAttribute()")},setAttribute:function(e){},melt:function(e){var t,r,i,n,o,s,a=[];for(r=e.matrix.length,i=this.matrix[0].length,t=0;t<r;t++)a[t]=[];for(this.update(),e.update(),t=0;t<r;t++)for(s=0;s<i;s++){for(o=0,n=0;n<r;n++)o+=e.matrix[t][n]*this.matrix[n][s];a[t][s]=o}return this.update=function(){var e=this.matrix.length,r=this.matrix[0].length;for(t=0;t<e;t++)for(s=0;s<r;s++)this.matrix[t][s]=a[t][s]},this},getParents:function(){var e=[[].concat.apply([],this.matrix)];return 0!==this.parents.length&&(e=this.parents),e}}),e.createTransform=function(t,r,i){return new e.Transformation(t,i.type,r)},e.registerElement("transform",e.createTransform),{Transformation:e.Transformation,createTransform:e.createTransform}})),define("element/composition",["jxg","math/math","math/geometry","math/numerics","base/coords","utils/type","base/constants","base/point","base/line","base/circle","base/transformation","base/composition","base/curve","base/polygon"],(function(e,t,r,i,n,o,s,a,l,c,u,h,d,p){"use strict";return e.createOrthogonalProjection=function(e,t,i){var n,a,l,c;if(t[0]=e.select(t[0]),t[1]=e.select(t[1]),o.isPointType(e,t[0])&&t[1].elementClass===s.OBJECT_CLASS_LINE)a=o.providePoints(e,[t[0]],i,"point")[0],n=t[1];else{if(!o.isPointType(e,t[1])||t[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(e,[t[1]],i,"point")[0],n=t[0]}return c=o.copyAttributes(i,e.options,"orthogonalprojection"),l=e.create("point",[function(){return r.projectPointToLine(a,n,e)}],c),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),n.addChild(l),l.elType="orthogonalprojection",l.setParents([a.id,l.id]),l.update(),l.generatePolynomial=function(){var e=n.point1.symbolic.x,t=n.point1.symbolic.y,r=n.point2.symbolic.x,i=n.point2.symbolic.y,o=a.symbolic.x,s=a.symbolic.y,c=l.symbolic.x,u=l.symbolic.y;return["("+t+")*("+c+")-("+t+")*("+r+")+("+u+")*("+r+")-("+e+")*("+u+")+("+e+")*("+i+")-("+c+")*("+i+")","("+s+")*("+t+")-("+s+")*("+i+")-("+u+")*("+t+")+("+u+")*("+i+")+("+o+")*("+e+")-("+o+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")"]},l},e.createPerpendicular=function(e,t,r){var i,n,a,c;if(t[0]=e.select(t[0]),t[1]=e.select(t[1]),o.isPointType(e,t[0])&&t[1].elementClass===s.OBJECT_CLASS_LINE)n=t[1],i=o.providePoints(e,[t[0]],r,"point")[0];else{if(!o.isPointType(e,t[1])||t[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [line,point]");n=t[0],i=o.providePoints(e,[t[1]],r,"point")[0]}return c=o.copyAttributes(r,e.options,"perpendicular"),(a=l.createLine(e,[function(){return n.stdform[2]*i.X()-n.stdform[1]*i.Y()},function(){return-n.stdform[2]*i.Z()},function(){return n.stdform[1]*i.Z()}],c)).elType="perpendicular",a.setParents([n.id,i.id]),o.exists(i._is_new)?(a.addChild(i),delete i._is_new):i.addChild(a),n.addChild(a),a},e.createPerpendicularPoint=function(e,t,i){var n,a,l;if(t[0]=e.select(t[0]),t[1]=e.select(t[1]),o.isPointType(e,t[0])&&t[1].elementClass===s.OBJECT_CLASS_LINE)a=o.providePoints(e,[t[0]],i,"point")[0],n=t[1];else{if(!o.isPointType(e,t[1])||t[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular point with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [point,line]");a=o.providePoints(e,[t[1]],i,"point")[0],n=t[0]}return l=e.create("point",[function(){return r.perpendicular(n,a,e)[0]}],i),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),n.addChild(l),l.elType="perpendicularpoint",l.setParents([a.id,n.id]),l.update(),l.generatePolynomial=function(){var e=n.point1.symbolic.x,t=n.point1.symbolic.y,r=n.point2.symbolic.x,i=n.point2.symbolic.y,o=a.symbolic.x,s=a.symbolic.y,c=l.symbolic.x,u=l.symbolic.y;return["("+t+")*("+c+")-("+t+")*("+r+")+("+u+")*("+r+")-("+e+")*("+u+")+("+e+")*("+i+")-("+c+")*("+i+")","("+s+")*("+t+")-("+s+")*("+i+")-("+u+")*("+t+")+("+u+")*("+i+")+("+o+")*("+e+")-("+o+")*("+r+")-("+c+")*("+e+")+("+c+")*("+r+")"]},l},e.createPerpendicularSegment=function(t,i,n){var a,c,u,h,d;if(i[0]=t.select(i[0]),i[1]=t.select(i[1]),o.isPointType(t,i[0])&&i[1].elementClass===s.OBJECT_CLASS_LINE)c=i[1],a=o.providePoints(t,[i[0]],n,"point")[0];else{if(!o.isPointType(t,i[1])||i[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create perpendicular with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [line,point]");c=i[0],a=o.providePoints(t,[i[1]],n,"point")[0]}return d=o.copyAttributes(n,t.options,"perpendicularsegment","point"),(h=e.createPerpendicularPoint(t,[c,a],d)).dump=!1,o.exists(n.layer)||(n.layer=t.options.layer.line),d=o.copyAttributes(n,t.options,"perpendicularsegment"),(u=l.createLine(t,[function(){return r.perpendicular(c,a,t)[1]?[h,a]:[a,h]}],d)).point=h,o.exists(a._is_new)?(u.addChild(a),delete a._is_new):a.addChild(u),c.addChild(u),u.elType="perpendicularsegment",u.setParents([a.id,c.id]),u.subs={point:h},u.inherits.push(h),u},e.createMidpoint=function(e,r,i){var n,a,l,c,u;for(c=0;c<r.length;++c)r[c]=e.select(r[c]);if(2===r.length&&o.isPointType(e,r[0])&&o.isPointType(e,r[1]))r=o.providePoints(e,r,i,"point"),n=r[0],a=r[1];else{if(1!==r.length||r[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create midpoint.\nPossible parent types: [point,point], [line]");n=r[0].point1,a=r[0].point2}return u=o.copyAttributes(i,e.options,"midpoint"),l=e.create("point",[function(){var e=n.coords.usrCoords[1]+a.coords.usrCoords[1];return isNaN(e)||Math.abs(n.coords.usrCoords[0])<t.eps||Math.abs(a.coords.usrCoords[0])<t.eps?NaN:.5*e},function(){var e=n.coords.usrCoords[2]+a.coords.usrCoords[2];return isNaN(e)||Math.abs(n.coords.usrCoords[0])<t.eps||Math.abs(a.coords.usrCoords[0])<t.eps?NaN:.5*e}],u),o.exists(n._is_new)?(l.addChild(n),delete n._is_new):n.addChild(l),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),l.elType="midpoint",l.setParents([n.id,a.id]),l.prepareUpdate().update(),l.generatePolynomial=function(){var e=n.symbolic.x,t=n.symbolic.y,r=a.symbolic.x,i=a.symbolic.y,o=l.symbolic.x,s=l.symbolic.y;return["("+t+")*("+o+")-("+t+")*("+r+")+("+s+")*("+r+")-("+e+")*("+s+")+("+e+")*("+i+")-("+o+")*("+i+")","("+e+")^2 - 2*("+e+")*("+o+")+("+t+")^2-2*("+t+")*("+s+")-("+r+")^2+2*("+r+")*("+o+")-("+i+")^2+2*("+i+")*("+s+")"]},l},e.createParallelPoint=function(e,t,r){var i,n,a,l,c;for(c=0;c<t.length;++c)t[c]=e.select(t[c]);if(3===t.length&&o.isPointType(e,t[0])&&o.isPointType(e,t[1])&&o.isPointType(e,t[2]))t=o.providePoints(e,t,r,"point"),i=t[0],n=t[1],a=t[2];else if(o.isPointType(e,t[0])&&t[1].elementClass===s.OBJECT_CLASS_LINE)a=o.providePoints(e,[t[0]],r,"point")[0],i=t[1].point1,n=t[1].point2;else{if(!o.isPointType(e,t[1])||t[0].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create parallel point with parent types '"+typeof t[0]+"', '"+typeof t[1]+"' and '"+typeof t[2]+"'.\nPossible parent types: [line,point], [point,point,point]");a=o.providePoints(e,[t[1]],r,"point")[0],i=t[0].point1,n=t[0].point2}return l=e.create("point",[function(){return a.coords.usrCoords[1]+n.coords.usrCoords[1]-i.coords.usrCoords[1]},function(){return a.coords.usrCoords[2]+n.coords.usrCoords[2]-i.coords.usrCoords[2]}],r),o.exists(i._is_new)?(l.addChild(i),delete i._is_new):i.addChild(l),o.exists(n._is_new)?(l.addChild(n),delete n._is_new):n.addChild(l),o.exists(a._is_new)?(l.addChild(a),delete a._is_new):a.addChild(l),l.elType="parallelpoint",l.setParents([i.id,n.id,a.id]),l.prepareUpdate().update(),l.generatePolynomial=function(){var e=i.symbolic.x,t=i.symbolic.y,r=n.symbolic.x,o=n.symbolic.y,s=a.symbolic.x,c=a.symbolic.y,u=l.symbolic.x,h=l.symbolic.y;return["("+o+")*("+u+")-("+o+")*("+s+")-("+t+")*("+u+")+("+t+")*("+s+")-("+h+")*("+r+")+("+h+")*("+e+")+("+c+")*("+r+")-("+c+")*("+e+")","("+h+")*("+e+")-("+h+")*("+s+")-("+o+")*("+e+")+("+o+")*("+s+")-("+u+")*("+t+")+("+u+")*("+c+")+("+r+")*("+t+")-("+r+")*("+c+")"]},l},e.createParallel=function(e,r,i){var n,s,a,l,c,u;for(c=0;c<r.length;++c)r[c]=e.select(r[c]);return n=null,3===r.length?(n=(r=o.providePoints(e,r,i,"point"))[2],l=function(){return t.crossProduct(r[0].coords.usrCoords,r[1].coords.usrCoords)}):o.isPointType(e,r[0])?(n=o.providePoints(e,[r[0]],i,"point")[0],l=function(){return r[1].stdform}):o.isPointType(e,r[1])&&(n=o.providePoints(e,[r[1]],i,"point")[0],l=function(){return r[0].stdform}),o.exists(i.layer)||(i.layer=e.options.layer.line),u=o.copyAttributes(i,e.options,"parallel","point"),(s=e.create("point",[function(){return t.crossProduct([1,0,0],l())}],u)).isDraggable=!0,u=o.copyAttributes(i,e.options,"parallel"),(a=e.create("line",[n,s],u)).elType="parallel",a.subs={point:s},a.inherits.push(s),a.setParents([r[0].id,r[1].id]),3===r.length&&a.addParents(r[2].id),a.point=s,a},e.createArrowParallel=function(t,r,i){var n;try{return i.firstArrow=!1,i.lastArrow=!0,(n=e.createParallel(t,r,i).setAttribute({straightFirst:!1,straightLast:!1})).elType="arrowparallel",n}catch(e){throw new Error("JSXGraph: Can't create arrowparallel with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [line,point], [point,point,point]")}},e.createNormal=function(e,r,n){var a,l,c,u,h,d,p,f,v;for(u=0;u<r.length;++u)r[u]=e.select(r[u]);if(1===r.length)a=r[0],l=a.slideObject;else{if(2!==r.length)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");if(o.isPointType(e,r[0]))a=o.providePoints(e,[r[0]],n,"point")[0],l=r[1];else{if(!o.isPointType(e,r[1]))throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");l=r[0],a=o.providePoints(e,[r[1]],n,"point")[0]}}if(p=o.copyAttributes(n,e.options,"normal"),l.elementClass===s.OBJECT_CLASS_LINE)v=o.copyAttributes(n,e.options,"normal","point"),(f=e.create("point",[function(){var e=t.crossProduct([1,0,0],l.stdform);return[e[0],-e[2],e[1]]}],v)).isDraggable=!0,(c=e.create("line",[a,f],p)).point=f,c.subs={point:f},c.inherits.push(f);else if(l.elementClass===s.OBJECT_CLASS_CIRCLE)c=e.create("line",[l.midpoint,a],p);else if(l.elementClass===s.OBJECT_CLASS_CURVE)"plot"!==o.evaluate(l.visProp.curvetype)?(h=l.X,d=l.Y,c=e.create("line",[function(){return-a.X()*i.D(h)(a.position)-a.Y()*i.D(d)(a.position)},function(){return i.D(h)(a.position)},function(){return i.D(d)(a.position)}],p)):c=e.create("line",[function(){var e,t,r,i,n,o,s,c,u,h,d=Math.floor(a.position),p=a.position-d;if(1===l.bezierdegree)d===l.numberPoints-1&&(d-=1,p=1);else{if(3!==l.bezierDegree)return 0;d=3*Math.floor(a.position*(l.numberPoints-1)/3),r=(a.position*(l.numberPoints-1)-d)/3,d>=l.numberPoints-1&&(d=l.numberPoints-4,r=1)}return d<0?1:1===l.bezierDegree?(l.Y(d)+p*(l.Y(d+1)-l.Y(d)))*(l.Y(d)-l.Y(d+1))-(l.X(d)+p*(l.X(d+1)-l.X(d)))*(l.X(d+1)-l.X(d)):(i=l.points[d].usrCoords,n=l.points[d+1].usrCoords,o=l.points[d+2].usrCoords,s=l.points[d+3].usrCoords,c=(1-r)*(1-r)*(n[1]-i[1])+2*(1-r)*r*(o[1]-n[1])+r*r*(s[1]-o[1]),u=(1-r)*(1-r)*(n[2]-i[2])+2*(1-r)*r*(o[2]-n[2])+r*r*(s[2]-o[2]),c/=h=Math.sqrt(c*c+u*u),u/=h,t=[1,(e=a.coords.usrCoords)[1]-u,e[2]+c],e[2]*t[1]-e[1]*t[2])},function(){var e,t,r,i,n,o,s,c,u,h=Math.floor(a.position);if(1===l.bezierdegree)h===l.numberPoints-1&&(h-=1);else{if(3!==l.bezierDegree)return 0;h=3*Math.floor(a.position*(l.numberPoints-1)/3),t=(a.position*(l.numberPoints-1)-h)/3,h>=l.numberPoints-1&&(h=l.numberPoints-4,t=1)}return h<0?0:1===l.bezierDegree?l.X(h+1)-l.X(h):(r=l.points[h].usrCoords,i=l.points[h+1].usrCoords,n=l.points[h+2].usrCoords,o=l.points[h+3].usrCoords,s=(1-t)*(1-t)*(i[1]-r[1])+2*(1-t)*t*(n[1]-i[1])+t*t*(o[1]-n[1]),c=(1-t)*(1-t)*(i[2]-r[2])+2*(1-t)*t*(n[2]-i[2])+t*t*(o[2]-n[2]),s/=u=Math.sqrt(s*s+c*c),c/=u,(e=a.coords.usrCoords)[1],e[2]+s-e[2])},function(){var e,t,r,i,n,o,s,c,u,h,d=Math.floor(a.position);if(1===l.bezierdegree)d===l.numberPoints-1&&(d-=1);else{if(3!==l.bezierDegree)return 0;d=3*Math.floor(a.position*(l.numberPoints-1)/3),r=(a.position*(l.numberPoints-1)-d)/3,d>=l.numberPoints-1&&(d=l.numberPoints-4,r=1)}return d<0?0:1===l.bezierDegree?l.Y(d+1)-l.Y(d):(i=l.points[d].usrCoords,n=l.points[d+1].usrCoords,o=l.points[d+2].usrCoords,s=l.points[d+3].usrCoords,c=(1-r)*(1-r)*(n[1]-i[1])+2*(1-r)*r*(o[1]-n[1])+r*r*(s[1]-o[1]),u=(1-r)*(1-r)*(n[2]-i[2])+2*(1-r)*r*(o[2]-n[2])+r*r*(s[2]-o[2]),c/=h=Math.sqrt(c*c+u*u),u/=h,t=[1,(e=a.coords.usrCoords)[1]-u,e[2]+c],e[1]-t[1])}],p);else{if(l.type!==s.OBJECT_TYPE_TURTLE)throw new Error("JSXGraph: Can't create normal with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [point,line], [point,circle], [glider]");c=e.create("line",[function(){var e,t,r=Math.floor(a.position),i=a.position-r;for(t=0;t<l.objects.length;t++)if((e=l.objects[t]).type===s.OBJECT_TYPE_CURVE){if(r<e.numberPoints)break;r-=e.numberPoints}return r===e.numberPoints-1&&(r-=1,i=1),r<0?1:(e.Y(r)+i*(e.Y(r+1)-e.Y(r)))*(e.Y(r)-e.Y(r+1))-(e.X(r)+i*(e.X(r+1)-e.X(r)))*(e.X(r+1)-e.X(r))},function(){var e,t,r=Math.floor(a.position);for(t=0;t<l.objects.length;t++)if((e=l.objects[t]).type===s.OBJECT_TYPE_CURVE){if(r<e.numberPoints)break;r-=e.numberPoints}return r===e.numberPoints-1&&(r-=1),r<0?0:e.X(r+1)-e.X(r)},function(){var e,t,r=Math.floor(a.position);for(t=0;t<l.objects.length;t++)if((e=l.objects[t]).type===s.OBJECT_TYPE_CURVE){if(r<e.numberPoints)break;r-=e.numberPoints}return r===e.numberPoints-1&&(r-=1),r<0?0:e.Y(r+1)-e.Y(r)}],p)}return c.elType="normal",c.setParents(r),o.exists(a._is_new)?(c.addChild(a),delete a._is_new):a.addChild(c),l.addChild(c),c},e.createBisector=function(e,t,i){var n,s,a,c;if(t=o.providePoints(e,t,i,"point"),o.isPoint(t[0])&&o.isPoint(t[1])&&o.isPoint(t[2])){for((c=o.copyAttributes(i,e.options,"bisector","point")).snapToGrid=!1,(n=e.create("point",[function(){return r.angleBisector(t[0],t[1],t[2],e)}],c)).dump=!1,a=0;a<3;a++)o.exists(t[a]._is_new)?(n.addChild(t[a]),delete t[a]._is_new):t[a].addChild(n);return o.exists(i.layer)||(i.layer=e.options.layer.line),c=o.copyAttributes(i,e.options,"bisector"),(s=l.createLine(e,[t[1],n],c)).point=n,s.elType="bisector",s.setParents(t),s.subs={point:n},s.inherits.push(n),s}throw new Error("JSXGraph: Can't create angle bisector with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [point,point,point]")},e.createAngularBisectorsOfTwoLines=function(e,t,r){var i,n,a,l,c=e.select(t[0]),u=e.select(t[1]);if(c.elementClass!==s.OBJECT_CLASS_LINE||u.elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create angle bisectors of two lines with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'.\nPossible parent types: [line,line]");return o.exists(r.layer)||(r.layer=e.options.layer.line),a=o.copyAttributes(r,e.options,"bisectorlines","line1"),i=e.create("line",[function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[0]/e-u.stdform[0]/t},function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[1]/e-u.stdform[1]/t},function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[2]/e-u.stdform[2]/t}],a),o.exists(r.layer)||(r.layer=e.options.layer.line),a=o.copyAttributes(r,e.options,"bisectorlines","line2"),n=e.create("line",[function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[0]/e+u.stdform[0]/t},function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[1]/e+u.stdform[1]/t},function(){var e=Math.sqrt(c.stdform[1]*c.stdform[1]+c.stdform[2]*c.stdform[2]),t=Math.sqrt(u.stdform[1]*u.stdform[1]+u.stdform[2]*u.stdform[2]);return c.stdform[2]/e+u.stdform[2]/t}],a),l=new h({line1:i,line2:n}),i.dump=!1,n.dump=!1,l.elType="bisectorlines",l.setParents([c.id,u.id]),l.subs={line1:i,line2:n},l},e.createCircumcenter=function(e,t,i){var n,s,l,c,u;if(t=o.providePoints(e,t,i,"point"),o.isPoint(t[0])&&o.isPoint(t[1])&&o.isPoint(t[2])){for(l=t[0],c=t[1],u=t[2],n=a.createPoint(e,[function(){return r.circumcenter(l,c,u,e)}],i),s=0;s<3;s++)o.exists(t[s]._is_new)?(n.addChild(t[s]),delete t[s]._is_new):t[s].addChild(n);return n.elType="circumcenter",n.setParents(t),n.generatePolynomial=function(){var e=l.symbolic.x,t=l.symbolic.y,r=c.symbolic.x,i=c.symbolic.y,o=u.symbolic.x,s=u.symbolic.y,a=n.symbolic.x,h=n.symbolic.y;return[["((",a,")-(",e,"))^2+((",h,")-(",t,"))^2-((",a,")-(",r,"))^2-((",h,")-(",i,"))^2"].join(""),["((",a,")-(",e,"))^2+((",h,")-(",t,"))^2-((",a,")-(",o,"))^2-((",h,")-(",s,"))^2"].join("")]},n}throw new Error("JSXGraph: Can't create circumcircle midpoint with parent types '"+typeof t[0]+"', '"+typeof t[1]+"' and '"+typeof t[2]+"'.\nPossible parent types: [point,point,point]")},e.createIncenter=function(e,t,r){var i,a,l,c,u;if(!((t=o.providePoints(e,t,r,"point")).length>=3&&o.isPoint(t[0])&&o.isPoint(t[1])&&o.isPoint(t[2])))throw new Error("JSXGraph: Can't create incenter with parent types '"+typeof t[0]+"', '"+typeof t[1]+"' and '"+typeof t[2]+"'.\nPossible parent types: [point,point,point]");for(a=t[0],l=t[1],c=t[2],i=e.create("point",[function(){var t,r,i;return t=Math.sqrt((l.X()-c.X())*(l.X()-c.X())+(l.Y()-c.Y())*(l.Y()-c.Y())),r=Math.sqrt((a.X()-c.X())*(a.X()-c.X())+(a.Y()-c.Y())*(a.Y()-c.Y())),i=Math.sqrt((l.X()-a.X())*(l.X()-a.X())+(l.Y()-a.Y())*(l.Y()-a.Y())),new n(s.COORDS_BY_USER,[(t*a.X()+r*l.X()+i*c.X())/(t+r+i),(t*a.Y()+r*l.Y()+i*c.Y())/(t+r+i)],e)}],r),u=0;u<3;u++)o.exists(t[u]._is_new)?(i.addChild(t[u]),delete t[u]._is_new):t[u].addChild(i);return i.elType="incenter",i.setParents(t),i},e.createCircumcircle=function(t,r,i){var n,s,a,l;if(!1===(r=o.providePoints(t,r,i,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point]");try{for(a=o.copyAttributes(i,t.options,"circumcircle","center"),(n=e.createCircumcenter(t,r,a)).dump=!1,o.exists(i.layer)||(i.layer=t.options.layer.circle),a=o.copyAttributes(i,t.options,"circumcircle"),(s=c.createCircle(t,[n,r[0]],a)).elType="circumcircle",s.setParents(r),s.subs={center:n},s.inherits.push(s),l=0;l<3;l++)o.exists(r[l]._is_new)?(s.addChild(r[l]),delete r[l]._is_new):r[l].addChild(s)}catch(e){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point]")}return s},e.createIncircle=function(t,r,i){var n,s,a,l;if(!1===(r=o.providePoints(t,r,i,"point")))throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point]");try{for(l=o.copyAttributes(i,t.options,"incircle","center"),(s=e.createIncenter(t,r,l)).dump=!1,o.exists(i.layer)||(i.layer=t.options.layer.circle),l=o.copyAttributes(i,t.options,"incircle"),(a=c.createCircle(t,[s,function(){var e=Math.sqrt((r[1].X()-r[2].X())*(r[1].X()-r[2].X())+(r[1].Y()-r[2].Y())*(r[1].Y()-r[2].Y())),t=Math.sqrt((r[0].X()-r[2].X())*(r[0].X()-r[2].X())+(r[0].Y()-r[2].Y())*(r[0].Y()-r[2].Y())),i=Math.sqrt((r[1].X()-r[0].X())*(r[1].X()-r[0].X())+(r[1].Y()-r[0].Y())*(r[1].Y()-r[0].Y())),n=(e+t+i)/2;return Math.sqrt((n-e)*(n-t)*(n-i)/n)}],l)).elType="incircle",a.setParents(r),n=0;n<3;n++)o.exists(r[n]._is_new)?(a.addChild(r[n]),delete r[n]._is_new):r[n].addChild(a);a.center=s,a.subs={center:a.center},a.inherits.push(s)}catch(e){throw new Error("JSXGraph: Can't create circumcircle with parent types '"+typeof r[0]+"', '"+typeof r[1]+"' and '"+typeof r[2]+"'.\nPossible parent types: [point,point,point]")}return a},e.createReflection=function(e,t,r){var i,n,h,f,v,m,g,b,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, line]";for(m=0;m<t.length;++m)t[m]=e.select(t[m]);if(g=o.copyAttributes(r,e.options,"reflection"),o.isPoint(t[0]))n=o.providePoints(e,[t[0]],b)[0];else{if(t[0].elementClass!==s.OBJECT_CLASS_CURVE&&t[0].elementClass!==s.OBJECT_CLASS_LINE&&t[0].type!==s.OBJECT_TYPE_POLYGON&&t[0].elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflection element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);n=t[0]}if(t[1].elementClass!==s.OBJECT_CLASS_LINE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);if(i=t[1],v=u.createTransform(e,[i],{type:"reflect"}),o.isPoint(n))h=a.createPoint(e,[n,v],g);else if(n.elementClass===s.OBJECT_CLASS_CURVE)h=d.createCurve(e,[n,v],g);else if(n.elementClass===s.OBJECT_CLASS_LINE)h=l.createLine(e,[n,v],g);else if(n.type===s.OBJECT_TYPE_POLYGON)h=p.createPolygon(e,[n,v],g);else{if(n.elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create reflected element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);"euclidean"===g.type.toLowerCase()?(b=o.copyAttributes(r,e.options,"reflection","center"),(f=a.createPoint(e,[n.center,v],b)).prepareUpdate().update().updateVisibility(o.evaluate(f.visProp.visible)).updateRenderer(),h=c.createCircle(e,[f,function(){return n.Radius()}],g)):h=c.createCircle(e,[n,v],g)}return o.exists(n._is_new)&&(h.addChild(n),delete n._is_new),i.addChild(h),h.elType="reflection",h.addParents(i),h.prepareUpdate().update(),o.isPoint(h)&&(h.generatePolynomial=function(){var e=i.point1.symbolic.x,t=i.point1.symbolic.y,r=i.point2.symbolic.x,o=i.point2.symbolic.y,s=n.symbolic.x,a=n.symbolic.y,l=h.symbolic.x,c=h.symbolic.y;return[["((",c,")-(",a,"))*((",t,")-(",o,"))+((",e,")-(",r,"))*((",l,")-(",s,"))"].join(""),["((",l,")-(",e,"))^2+((",c,")-(",t,"))^2-((",s,")-(",e,"))^2-((",a,")-(",t,"))^2"].join("")]}),h},e.createMirrorElement=function(e,t,r){var i,n,h,f,v,m,g,b,y="\nPossible parent types: [point|line|curve|polygon|circle|arc|sector, point]";for(n=0;n<t.length;++n)t[n]=e.select(t[n]);if(g=o.copyAttributes(r,e.options,"mirrorelement"),o.isPoint(t[0]))i=o.providePoints(e,[t[0]],g)[0];else{if(t[0].elementClass!==s.OBJECT_CLASS_CURVE&&t[0].elementClass!==s.OBJECT_CLASS_LINE&&t[0].type!==s.OBJECT_TYPE_POLYGON&&t[0].elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);i=t[0]}if(!o.isPoint(t[1]))throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);if(b=o.copyAttributes(r,e.options,"mirrorelement","point"),h=o.providePoints(e,[t[1]],b)[0],m=u.createTransform(e,[Math.PI,h],{type:"rotate"}),o.isPoint(i))f=a.createPoint(e,[i,m],g);else if(i.elementClass===s.OBJECT_CLASS_CURVE)f=d.createCurve(e,[i,m],g);else if(i.elementClass===s.OBJECT_CLASS_LINE)f=l.createLine(e,[i,m],g);else if(i.type===s.OBJECT_TYPE_POLYGON)f=p.createPolygon(e,[i,m],g);else{if(i.elementClass!==s.OBJECT_CLASS_CIRCLE)throw new Error("JSXGraph: Can't create mirror element with parent types '"+typeof t[0]+"' and '"+typeof t[1]+"'."+y);"euclidean"===g.type.toLowerCase()?(b=o.copyAttributes(r,e.options,"mirrorelement","center"),(v=a.createPoint(e,[i.center,m],b)).prepareUpdate().update().updateVisibility(o.evaluate(v.visProp.visible)).updateRenderer(),f=c.createCircle(e,[v,function(){return i.Radius()}],g)):f=c.createCircle(e,[i,m],g)}return o.exists(i._is_new)&&(f.addChild(i),delete i._is_new),h.addChild(f),f.elType="mirrorelement",f.addParents(h),f.prepareUpdate().update(),f},e.createMirrorPoint=function(t,r,i){var n=e.createMirrorElement(t,r,i);return n.elType="mirrorpoint",n},e.createIntegral=function(t,r,a){var l,c,u,h,d,p,f,v,m,g,b,y,_,C,x=null;if(o.isArray(r[0])&&r[1].elementClass===s.OBJECT_CLASS_CURVE)l=r[0],c=r[1];else{if(!o.isArray(r[1])||r[0].elementClass!==s.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create integral with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [[number|function,number|function],curve]");l=r[1],c=r[0]}return(u=o.copyAttributes(a,t.options,"integral")).withLabel=!1,C=t.create("curve",[[0],[0]],u),h=l[0],d=l[1],o.isFunction(h)?(f=function(){return c.Y(p())},h=(p=h)()):(p=h,f=c.Y(h)),o.isFunction(d)?(m=function(){return c.Y(v())},d=(v=d)()):(v=d,m=c.Y(d)),u=o.copyAttributes(a,t.options,"integral","curveLeft"),g=t.create("glider",[p,f,c],u),o.isFunction(p)&&g.hideElement(),u=o.copyAttributes(a,t.options,"integral","baseLeft"),b=t.create("point",[function(){return"y"===o.evaluate(C.visProp.axis)?0:g.X()},function(){return"y"===o.evaluate(C.visProp.axis)?g.Y():0}],u),u=o.copyAttributes(a,t.options,"integral","curveRight"),y=t.create("glider",[v,m,c],u),o.isFunction(v)&&y.hideElement(),u=o.copyAttributes(a,t.options,"integral","baseRight"),_=t.create("point",[function(){return"y"===o.evaluate(C.visProp.axis)?0:y.X()},function(){return"y"===o.evaluate(C.visProp.axis)?y.Y():0}],u),!1!==(u=o.copyAttributes(a,t.options,"integral")).withlabel&&"y"!==u.axis&&(u=o.copyAttributes(a,t.options,"integral","label"),u=o.copyAttributes(u,t.options,"label"),(x=t.create("text",[function(){var e=new n(s.COORDS_BY_SCREEN,[o.evaluate(this.visProp.offset[0])+this.board.origin.scrCoords[1],0],this.board,!1),t=this.board.getBoundingBox(),r=.1*(t[2]-t[0]),i=y.X();return i<t[0]?i=t[0]+r:i>t[2]&&(i=t[2]-r),i+e.usrCoords[1]},function(){var e=new n(s.COORDS_BY_SCREEN,[0,o.evaluate(this.visProp.offset[1])+this.board.origin.scrCoords[2]],this.board,!1),t=this.board.getBoundingBox(),r=.1*(t[1]-t[3]),i=y.Y();return i>t[1]?i=t[1]-r:i<t[3]&&(i=t[3]+r),i+e.usrCoords[2]},function(){var e=i.NewtonCotes([b.X(),_.X()],c.Y);return"&int; = "+o.toFixed(e,4)}],u)).dump=!1,g.addChild(x),y.addChild(x)),g.dump=!1,b.dump=!1,y.dump=!1,_.dump=!1,C.elType="integral",C.setParents([c.id,l]),C.subs={curveLeft:g,baseLeft:b,curveRight:y,baseRight:_},C.inherits.push(g,b,y,_),u.withLabel&&(C.subs.label=x,C.inherits.push(x)),C.Value=function(){return i.I([b.X(),_.X()],c.Y)},C.updateDataArray=function(){var e,t,r,i,n,s,a,l,u;if("y"===o.evaluate(this.visProp.axis)){for(g.Y()<y.Y()?(s=g.X(),l=g.Y(),a=y.X(),u=y.Y()):(s=y.X(),l=y.Y(),a=g.X(),u=g.Y()),i=Math.min(s,a),n=Math.max(s,a),e=[0,s],t=[l,l],r=0;r<c.numberPoints;r++)l<=c.points[r].usrCoords[2]&&i<=c.points[r].usrCoords[1]&&c.points[r].usrCoords[2]<=u&&c.points[r].usrCoords[1]<=n&&(e.push(c.points[r].usrCoords[1]),t.push(c.points[r].usrCoords[2]));e.push(a),t.push(u),e.push(0),t.push(u),e.push(0),t.push(l)}else{for(b.X()<_.X()?(i=b.X(),n=_.X()):(i=_.X(),n=b.X()),e=[i,i],t=[0,c.Y(i)],r=0;r<c.numberPoints;r++)i<=c.points[r].usrCoords[1]&&c.points[r].usrCoords[1]<=n&&(e.push(c.points[r].usrCoords[1]),t.push(c.points[r].usrCoords[2]));e.push(n),t.push(c.Y(n)),e.push(n),t.push(0),e.push(i),t.push(0)}this.dataX=e,this.dataY=t},g.addChild(C),y.addChild(C),b.addChild(C),_.addChild(C),C.baseLeft=b,C.baseRight=_,C.curveLeft=g,C.curveRight=y,C.methodMap=e.deepCopy(C.methodMap,{curveLeft:"curveLeft",baseLeft:"baseLeft",curveRight:"curveRight",baseRight:"baseRight",Value:"Value"}),C.label=x,C},e.createGrid=function(e,t,r){var i,a;return a=o.copyAttributes(r,e.options,"grid"),(i=e.create("curve",[[null],[null]],a)).elType="grid",i.type=s.OBJECT_TYPE_GRID,i.updateDataArray=function(){var t,r,a,l,c,u=o.evaluate(this.visProp.gridx),h=o.evaluate(this.visProp.gridy);for(l=o.isArray(this.visProp.topleft)?new n(o.evaluate(this.visProp.tltype)||s.COORDS_BY_USER,this.visProp.topleft,e):new n(s.COORDS_BY_SCREEN,[0,0],e),c=o.isArray(this.visProp.bottomright)?new n(o.evaluate(this.visProp.brtype)||s.COORDS_BY_USER,this.visProp.bottomright,e):new n(s.COORDS_BY_SCREEN,[e.canvasWidth,e.canvasHeight],e),e.options.grid.hasGrid=!0,i.dataX=[],i.dataY=[],t=Math.floor(l.usrCoords[2]/h)*h,r=Math.ceil(c.usrCoords[2]/h)*h,l.usrCoords[2]<c.usrCoords[2]&&(t=Math.ceil(c.usrCoords[2]/h)*h,r=Math.floor(l.usrCoords[2]/h)*h),a=t;a>r-h;a-=h)i.dataX.push(l.usrCoords[1],c.usrCoords[1],NaN),i.dataY.push(a,a,NaN);for(t=Math.ceil(l.usrCoords[1]/u)*u,r=Math.floor(c.usrCoords[1]/u)*u,l.usrCoords[1]>c.usrCoords[1]&&(t=Math.floor(c.usrCoords[1]/u)*u,r=Math.ceil(l.usrCoords[1]/u)*u),a=t;a<r+u;a+=u)i.dataX.push(a,a,NaN),i.dataY.push(l.usrCoords[2],c.usrCoords[2],NaN)},i.hasPoint=function(){return!1},e.grids.push(i),i},e.createInequality=function(e,i,n){var a,l,c;if(c=o.copyAttributes(n,e.options,"inequality"),i[0].elementClass===s.OBJECT_CLASS_LINE)(l=e.create("curve",[[],[]],c)).hasPoint=function(){return!1},l.updateDataArray=function(){var n,o,a,l=e.getBoundingBox(),u=c.inverse?-1:1,h=1.5*Math.max(l[2]-l[0],l[1]-l[3]),d={coords:{usrCoords:[1,(l[0]+l[2])/2,c.inverse?l[1]:l[3]]}},p=i[0].stdform.slice(1),f=p;a=1.5*Math.max(r.perpendicular(i[0],d,e)[0].distance(s.COORDS_BY_USER,d.coords),h),a*=u,d={coords:{usrCoords:[1,(l[0]+l[2])/2,(l[1]+l[3])/2]}},n=[1,(d=Math.abs(t.innerProduct(d.coords.usrCoords,i[0].stdform,3))>=t.eps?r.perpendicular(i[0],d,e)[0].usrCoords:d.coords.usrCoords)[1]+p[1]*h,d[2]-p[0]*h],o=[1,d[1]-f[1]*h,d[2]+f[0]*h],this.dataX=[n[1],n[1]+p[0]*a,o[1]+f[0]*a,o[1],n[1]],this.dataY=[n[2],n[2]+p[1]*a,o[2]+f[1]*a,o[2],n[2]]};else if(i[0].elementClass===s.OBJECT_CLASS_CURVE&&"functiongraph"===i[0].visProp.curvetype)(l=e.create("curve",[[],[]],c)).updateDataArray=function(){var e,t,r,n,s,a,l,c,u,h=this.board.getBoundingBox(),d=[],p=i[0].minX(),f=i[0].maxX(),v=.3*(h[1]-h[3]);if(e=o.evaluate(this.visProp.inverse)?1:3,this.dataX=[],this.dataY=[],0!==(n=i[0].points.length))for(h[1]+=v,h[3]-=v,r=-1;r<n-1;){for(s=r+1,t=n;s<n;s++)if(i[0].points[s].isReal()){t=s;break}if(t>=n)break;for(s=t,r=n-1;s<n-1;s++)if(!i[0].points[s+1].isReal()){r=s;break}for(c=i[0].points[t].usrCoords[1],u=i[0].points[r].usrCoords[1],a=h[0]<p?p:h[0],l=h[2]>f?f:h[2],a=0===t?a:Math.max(a,c),l=r===n-1?l:Math.min(l,u),l=r===n-1?f:u,(d=[]).push([1,a=0===t?p:c,h[e]]),d.push([1,a,i[0].points[t].usrCoords[2]]),s=t;s<=r;s++)d.push(i[0].points[s].usrCoords);for(d.push([1,l,i[0].points[r].usrCoords[2]]),d.push([1,l,h[e]]),d.push(d[0]),s=0;s<d.length;s++)this.dataX.push(d[s][1]),this.dataY.push(d[s][2]);r<n-1&&(this.dataX.push(NaN),this.dataY.push(NaN))}},l.hasPoint=function(){return!1};else if(a=o.createFunction(i[0]),!o.exists(a))throw new Error("JSXGraph: Can't create area with the given parents.\nPossible parent types: [line], [function]");return l.addParents(i[0]),l},e.registerElement("arrowparallel",e.createArrowParallel),e.registerElement("bisector",e.createBisector),e.registerElement("bisectorlines",e.createAngularBisectorsOfTwoLines),e.registerElement("msector",e.createMsector),e.registerElement("circumcircle",e.createCircumcircle),e.registerElement("circumcirclemidpoint",e.createCircumcenter),e.registerElement("circumcenter",e.createCircumcenter),e.registerElement("incenter",e.createIncenter),e.registerElement("incircle",e.createIncircle),e.registerElement("integral",e.createIntegral),e.registerElement("midpoint",e.createMidpoint),e.registerElement("mirrorelement",e.createMirrorElement),e.registerElement("mirrorpoint",e.createMirrorPoint),e.registerElement("normal",e.createNormal),e.registerElement("orthogonalprojection",e.createOrthogonalProjection),e.registerElement("parallel",e.createParallel),e.registerElement("parallelpoint",e.createParallelPoint),e.registerElement("perpendicular",e.createPerpendicular),e.registerElement("perpendicularpoint",e.createPerpendicularPoint),e.registerElement("perpendicularsegment",e.createPerpendicularSegment),e.registerElement("reflection",e.createReflection),e.registerElement("grid",e.createGrid),e.registerElement("inequality",e.createInequality),{createArrowParallel:e.createArrowParallel,createBisector:e.createBisector,createAngularBisectorOfTwoLines:e.createAngularBisectorsOfTwoLines,createCircumcircle:e.createCircumcircle,createCircumcenter:e.createCircumcenter,createIncenter:e.createIncenter,createIncircle:e.createIncircle,createIntegral:e.createIntegral,createMidpoint:e.createMidpoint,createMirrorElement:e.createMirrorElement,createMirrorPoint:e.createMirrorPoint,createNormal:e.createNormal,createOrthogonalProjection:e.createOrthogonalProjection,createParallel:e.createParallel,createParallelPoint:e.createParallelPoint,createPerpendicular:e.createPerpendicular,createPerpendicularPoint:e.createPerpendicularPoint,createPerpendicularSegmen:e.createPerpendicularSegment,createReflection:e.createReflection,createGrid:e.createGrid,createInequality:e.createInequality}})),define("element/locus",["jxg","math/symbolic","utils/type"],(function(e,t,r){"use strict";return e.createLocus=function(e,i,n){var o,s;if(!r.isArray(i)||1!==i.length||!r.isPoint(i[0]))throw new Error("JSXGraph: Can't create locus with parent of type other than point.\nPossible parent types: [point]");return s=i[0],(o=e.create("curve",[[null],[null]],n)).dontCallServer=!1,o.elType="locus",o.setParents([s.id]),o.updateDataArray=function(){var r,i,n;o.board.mode>0||(r=t.generatePolynomials(e,s,!0).join("|"))!==o.spe&&(o.spe=r,(i=function(e,t,r,i){var n;o.dataX=e,o.dataY=t,o.eq=r,o.ctime=i,o.generatePolynomial=(n=r,function(e){var t,r="("+e.symbolic.x+")",i="("+e.symbolic.y+")",o=[];for(t=0;t<n.length;t++)o[t]=n[t].replace(/\*\*/g,"^").replace(/x/g,r).replace(/y/g,i);return o})})((n=t.geometricLocusByGroebnerBase(e,s,i)).datax,n.datay,n.polynomial,n.exectime))},o},e.registerElement("locus",e.createLocus),{createLocus:e.createLocus}})),define("base/image",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(e,t,r,i,n,o,s){"use strict";return e.Image=function(r,i,n,s,a){this.constructor(r,n,t.OBJECT_TYPE_IMAGE,t.OBJECT_CLASS_OTHER),this.element=this.board.select(n.anchor),this.coordsConstructor(i),this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*r.unitX),Math.abs(this.usrSize[1]*r.unitY)],this.url=s,this.elType="image",this.span=[this.coords.usrCoords.slice(0),[this.coords.usrCoords[0],this.W(),0],[this.coords.usrCoords[0],0,this.H()]],this.id=this.board.setId(this,"Im"),this.board.renderer.drawImage(this),this.board.finalizeAdding(this),this.methodMap=e.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},e.Image.prototype=new i,o.copyPrototypeMethods(e.Image,s,"coordsConstructor"),e.extend(e.Image.prototype,{hasPoint:function(e,i){var s,a,l,c,u,h,d,p,f,v=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(c=this.board._inputDevice,u=o.evaluate(this.visProp.precision[c])):u=this.board.options.precision.hasPoint,0===v?(s=e-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-i,s>=-(l=u)&&s-this.size[0]<=l&&a>=-l&&a-this.size[1]<=l):(d=[(h=(h=new r(t.COORDS_BY_SCREEN,[e,i],this.board)).usrCoords)[0]-this.span[0][0],h[1]-this.span[0][1],h[2]-this.span[0][2]],0<=(p=(f=n.innerProduct)(d,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(d,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateSize(),this.updateSpan(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateImage")},updateSize:function(){return this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)],this},updateSpan:function(){var e,t,r=this.transformations.length,i=[];if(0===r)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(i[0]=[this.Z(),this.X(),this.Y()],i[1]=[this.Z(),this.X()+this.W(),this.Y()],i[2]=[this.Z(),this.X(),this.Y()+this.H()],e=0;e<r;e++)for(t=0;t<3;t++)i[t]=n.matVecMult(this.transformations[e].matrix,i[t]);for(t=0;t<3;t++)i[t][1]/=i[t][0],i[t][2]/=i[t][0],i[t][0]/=i[t][0];for(t=1;t<3;t++)i[t][0]-=i[0][0],i[t][1]-=i[0][1],i[t][2]-=i[0][2];this.span=i}return this},addTransform:function(e){var t;if(o.isArray(e))for(t=0;t<e.length;t++)this.transformations.push(e[t]);else this.transformations.push(e);return this},getParents:function(){var e=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(e=this.parents),e},setSize:function(e,t){return this.W=o.createFunction(e,this.board,""),this.H=o.createFunction(t,this.board,""),this},W:function(){},H:function(){}}),e.createImage=function(t,r,i){var n,a,l=r[0],c=r[1],u=r[2];if(n=o.copyAttributes(i,t.options,"image"),!(a=s.create(e.Image,t,c,n,l,u)))throw new Error("JSXGraph: Can't create image with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [x,y], [z,x,y], [element,transformation]");return 0!==n.rotate&&a.addRotation(n.rotate),a},e.registerElement("image",e.createImage),{Image:e.Image,createImage:e.createImage}})),define("element/slider",["jxg","math/math","base/constants","base/coords","utils/type","base/point"],(function(e,t,r,i,n,o){"use strict";return e.createSlider=function(e,s,a){var l,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T;return P=(T=n.copyAttributes(a,e.options,"slider")).withticks,w=T.withlabel,S=T.snapwidth,T=n.copyAttributes(a,e.options,"slider","point1"),f=e.create("point",s[0],T),T=n.copyAttributes(a,e.options,"slider","point2"),v=e.create("point",s[1],T),T=n.copyAttributes(a,e.options,"slider","baseline"),(m=e.create("segment",[f,v],T)).updateStdform(),l=f.coords.usrCoords.slice(1),c=v.coords.usrCoords.slice(1),u=s[2][0],h=s[2][1],d=s[2][2],p=d-u,O=-1===(E=n.evaluate(S))?h:Math.round(h/E)*E,b=l[0]+(c[0]-l[0])*(O-u)/(d-u),y=l[1]+(c[1]-l[1])*(O-u)/(d-u),(T=n.copyAttributes(a,e.options,"slider")).withLabel=!1,(_=e.create("glider",[b,y,m],T)).setAttribute({snapwidth:S}),T=n.copyAttributes(a,e.options,"slider","highline"),C=e.create("segment",[f,_],T),_.Value=function(){var e=this._smax-this._smin,t=n.evaluate(this.visProp.snapwidth);return-1===t?this.position*e+this._smin:Math.round((this.position*e+this._smin)/t)*t},_.methodMap=n.deepCopy(_.methodMap,{Value:"Value",setValue:"setValue",smax:"_smax",smin:"_smin",setMax:"setMax",setMin:"setMin"}),_._smax=d,_._smin=u,_.setMax=function(e){return this._smax=e,this},_.setValue=function(e){var r=this._smax-this._smin;return Math.abs(r)>t.eps?this.position=(e-this._smin)/r:this.position=0,this.position=Math.max(0,Math.min(1,this.position)),this},_.setMin=function(e){return this._smin=e,this},w&&(T=n.copyAttributes(a,e.options,"slider","label"),x=e.create("text",[function(){return.05*(v.X()-f.X())+v.X()},function(){return.05*(v.Y()-f.Y())+v.Y()},function(){var e,t=n.evaluate(_.visProp.digits),r=n.evaluate(_.visProp.suffixlabel),i=n.evaluate(_.visProp.unitlabel),o=n.evaluate(_.visProp.postlabel);return 2===t&&2!==n.evaluate(_.visProp.precision)&&(t=n.evaluate(_.visProp.precision)),e=null!==r?r:_.name&&""!==_.name?_.name+" = ":"",e+=n.toFixed(_.Value(),t),null!==i&&(e+=i),null!==o&&(e+=o),e}],T),_.label=x,_.visProp.withlabel=!0,_.hasLabel=!0),_.point1=f,_.point2=v,_.baseline=m,_.highline=C,P&&(T=n.copyAttributes(a,e.options,"slider","ticks"),n.exists(T.generatelabeltext)||(T.generateLabelText=function(e,r,i){var n=_.point1.Dist(_.point2),o=_._smin,s=_._smax,a=this.getDistanceFromZero(r,e)*(s-o)/n+o;return n<t.eps||Math.abs(a)<t.eps?"0":this.formatLabelText(a)}),g=e.create("ticks",[_.baseline,_.point1.Dist(f)/2,function(e){var i=_.point1.Dist(_.point2),n=_.point1.coords.distance(r.COORDS_BY_USER,e);return i<t.eps?0:n/i*p+u}],T),_.ticks=g),_.remove=function(){w&&e.removeObject(x),e.removeObject(C),e.removeObject(m),e.removeObject(v),e.removeObject(f),o.Point.prototype.remove.call(_)},f.dump=!1,v.dump=!1,m.dump=!1,C.dump=!1,_.elType="slider",_.parents=s,_.subs={point1:f,point2:v,baseLine:m,highLine:C},_.inherits.push(f,v,m,C),P&&(g.dump=!1,_.subs.ticks=g,_.inherits.push(g)),_.baseline.on("up",(function(e){var t,o;n.evaluate(_.visProp.moveonup)&&!n.evaluate(_.visProp.fixed)&&(t=m.board.getMousePosition(e,0),o=new i(r.COORDS_BY_SCREEN,t,this.board),_.moveTo([o.usrCoords[1],o.usrCoords[2]]))})),_.prepareUpdate().update(),e.isSuspendedUpdate||(_.updateVisibility().updateRenderer(),_.baseline.updateVisibility().updateRenderer(),_.highline.updateVisibility().updateRenderer(),P&&_.ticks.updateVisibility().updateRenderer()),_},e.registerElement("slider",e.createSlider),{createSlider:e.createSlider}})),define("element/measure",["jxg","utils/type","base/element"],(function(e,t,r){"use strict";return e.createTapemeasure=function(i,n,o){var s,a,l,c,u,h,d,p,f,v,m;return s=n[0],a=n[1],l=t.copyAttributes(o,i.options,"tapemeasure","point1"),p=i.create("point",s,l),l=t.copyAttributes(o,i.options,"tapemeasure","point2"),f=i.create("point",a,l),p.setAttribute({ignoredSnapToPoints:[f]}),f.setAttribute({ignoredSnapToPoints:[p]}),l=t.copyAttributes(o,i.options,"tapemeasure"),c=l.withticks,u=l.withlabel,2===(h=l.digits)&&2!==l.precision&&(h=l.precision),u&&(l.withlabel=!0),d=i.create("segment",[p,f],l),u&&(v=o.name&&""!==o.name?o.name+" = ":"",d.label.setText((function(){return v+t.toFixed(p.Dist(f),h)}))),c&&(l=t.copyAttributes(o,i.options,"tapemeasure","ticks"),m=i.create("ticks",[d,.1],l),d.inherits.push(m)),d.remove=function(){c&&d.removeTicks(m),i.removeObject(f),i.removeObject(p),r.prototype.remove.call(this)},d.Value=function(){return p.Dist(f)},p.dump=!1,f.dump=!1,d.elType="tapemeasure",d.getParents=function(){return[[p.X(),p.Y()],[f.X(),f.Y()]]},d.subs={point1:p,point2:f},c&&(m.dump=!1),d.methodMap=e.deepCopy(d.methodMap,{Value:"Value"}),d.prepareUpdate().update(),i.isSuspendedUpdate||(d.updateVisibility().updateRenderer(),d.point1.updateVisibility().updateRenderer(),d.point2.updateVisibility().updateRenderer()),d},e.registerElement("tapemeasure",e.createTapemeasure),{createTapemeasure:e.createTapemeasure}})),define("parser/datasource",["jxg","utils/type"],(function(e,t){"use strict";return e.DataSource=function(){return this.data=[],this.columnHeaders=[],this.rowHeaders=[],this},e.extend(e.DataSource.prototype,{loadFromArray:function(e,r,i){var n,o,s;if(t.isArray(r)&&(this.columnHeaders=r,r=!1),t.isArray(i)&&(this.rowHeaders=i,i=!1),this.data=[],r&&(this.columnHeaders=[]),i&&(this.rowHeaders=[]),t.exists(e)){for(this.data=[],n=0;n<e.length;n++)for(this.data[n]=[],o=0;o<e[n].length;o++)s=e[n][o],parseFloat(s).toString()===s?this.data[n][o]=parseFloat(s):this.data[n][o]="-"!==s?s:NaN;if(r&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),i)for(this.rowHeaders=[],n=0;n<this.data.length;n++)this.rowHeaders.push(this.data[n][0]),this.data[n]=this.data[n].slice(1)}return this},loadFromTable:function(e,r,i){var n,o,s,a,l;if(t.isArray(r)&&(this.columnHeaders=r,r=!1),t.isArray(i)&&(this.rowHeaders=i,i=!1),this.data=[],r&&(this.columnHeaders=[]),i&&(this.rowHeaders=[]),e=document.getElementById(e),t.exists(e)){for(n=e.getElementsByTagName("tr"),this.data=[],o=0;o<n.length;o++)for(a=n[o].getElementsByTagName("td"),this.data[o]=[],s=0;s<a.length;s++)l=a[s].innerHTML,parseFloat(l).toString()===l?this.data[o][s]=parseFloat(l):this.data[o][s]="-"!==l?l:NaN;if(r&&(this.columnHeaders=this.data[0].slice(1),this.data=this.data.slice(1)),i)for(this.rowHeaders=[],o=0;o<this.data.length;o++)this.rowHeaders.push(this.data[o][0]),this.data[o]=this.data[o].slice(1)}return this},addColumn:function(e,t,r){throw new Error("not implemented")},addRow:function(e,t,r){throw new Error("not implemented")},getColumn:function(e){var r,i=[];if(t.isString(e))for(r=0;r<this.columnHeaders.length;r++)if(e===this.columnHeaders[r]){e=r;break}for(r=0;r<this.data.length;r++)this.data[r].length>e&&(i[r]=parseFloat(this.data[r][e]));return i},getRow:function(e){var r,i;if(t.isString(e))for(i=0;i<this.rowHeaders.length;i++)if(e===this.rowHeaders[i]){e=i;break}for(r=[],i=0;i<this.data[e].length;i++)r[i]=this.data[e][i];return r}}),e.DataSource})),define("base/chart",["jxg","math/numerics","math/statistics","base/constants","base/coords","base/element","parser/datasource","utils/color","utils/type","utils/env","base/curve","base/point","base/text","base/polygon","element/sector","base/transformation","base/line","base/circle"],(function(e,t,r,i,n,o,s,a,l,c,u,h,d,p,f,v,m,g){"use strict";return e.Chart=function(e,t,r){var i,n,o,s,a,c;if(this.constructor(e,r),!l.isArray(t)||0===t.length)throw new Error("JSXGraph: Can't create a chart without data");if(this.elements=[],l.isNumber(t[0]))for(n=t,i=[],o=0;o<n.length;o++)i[o]=o+1;else if(1===t.length&&l.isArray(t[0]))for(n=t[0],i=[],c=l.evaluate(n).length,o=0;o<c;o++)i[o]=o+1;else 2===t.length&&(c=Math.min(t[0].length,t[1].length),i=t[0].slice(0,c),n=t[1].slice(0,c));if(l.isArray(n)&&0===n.length)throw new Error("JSXGraph: Can't create charts without data.");for(a=r.chartstyle.replace(/ /g,"").split(","),o=0;o<a.length;o++){switch(a[o]){case"bar":s=this.drawBar(e,i,n,r);break;case"line":s=this.drawLine(e,i,n,r);break;case"fit":s=this.drawFit(e,i,n,r);break;case"spline":s=this.drawSpline(e,i,n,r);break;case"pie":s=this.drawPie(e,n,r);break;case"point":s=this.drawPoints(e,i,n,r);break;case"radar":s=this.drawRadar(e,t,r)}this.elements.push(s)}return this.id=this.board.setId(this,"Chart"),this.elements},e.Chart.prototype=new o,e.extend(e.Chart.prototype,{drawLine:function(e,t,r,i){return i.fillcolor="none",i.highlightfillcolor="none",e.create("curve",[t,r],i)},drawSpline:function(e,t,r,i){return i.fillColor="none",i.highlightfillcolor="none",e.create("spline",[t,r],i)},drawFit:function(e,r,i,n){var o=n.degree;return o=Math.max(parseInt(o,10),1)||1,n.fillcolor="none",n.highlightfillcolor="none",e.create("functiongraph",[t.regressionPolynomial(o,r,i)],n)},drawBar:function(e,t,r,i){var n,o,s,a,c,u,h,d,p,f,v=[],m=[],g=function(e,r){return function(){return t[e]()-r*s}},b={fixed:!0,withLabel:!1,visible:!1,name:""};if((p=l.copyAttributes(i,e.options,"chart"))&&p.width)s=p.width;else{if(t.length<=1)s=1;else for(s=t[1]-t[0],n=1;n<t.length-1;n++)s=t[n+1]-t[n]<s?t[n+1]-t[n]:s;s*=.8}for(f=l.copyAttributes(i,e.options,"chart","label"),n=0;n<t.length;n++)l.isFunction(t[n])?(a=g(n,-.5),c=g(n,0),u=g(n,.5)):(a=t[n]-.5*s,c=t[n],u=t[n]+.5*s),l.isFunction(r[n])?r[n]():r[n],h=r[n],"horizontal"===p.dir?(m[0]=e.create("point",[0,a],b),m[1]=e.create("point",[h,a],b),m[2]=e.create("point",[h,u],b),m[3]=e.create("point",[0,u],b),l.exists(p.labels)&&l.exists(p.labels[n])&&(f.anchorY="middle",(o=e.create("text",[h,c,p.labels[n]],f)).visProp.anchorx=function(e){return function(){return e.X()>=0?"left":"right"}}(o))):(m[0]=e.create("point",[a,0],b),m[1]=e.create("point",[a,h],b),m[2]=e.create("point",[u,h],b),m[3]=e.create("point",[u,0],b),l.exists(p.labels)&&l.exists(p.labels[n])&&(f.anchorX="middle",(o=e.create("text",[c,h,p.labels[n]],f)).visProp.anchory=function(e){return function(){return e.Y()>=0?"bottom":"top"}}(o))),l.isArray(p.colors)&&(d=p.colors,p.fillcolor=d[n%d.length]),v[n]=e.create("polygon",m,p),l.exists(p.labels)&&l.exists(p.labels[n])&&(v[n].text=o);return v},drawPoints:function(e,t,r,i){var n,o=[],s=i.infoboxarray;for(i.fixed=!0,i.name="",n=0;n<t.length;n++)i.infoboxtext=!!s&&s[n%s.length],o[n]=e.create("point",[t[n],r[n]],i);return o},drawPie:function(e,t,o){var s,a,c=[],u=[],h=(r.sum(t),o.colors),d=o.highlightcolors,p=o.labels,f=o.radius||4,v=f,m=o.center||[0,0],g=m[0],b=m[1],y=function(e,r,i){return function(){var n,o,s,a=0;for(o=0;o<=e;o++)a+=parseFloat(l.evaluate(t[o]));for(n=a,o=e+1;o<t.length;o++)n+=parseFloat(l.evaluate(t[o]));return s=0!==n?2*Math.PI*a/n:0,v()*Math[r](s)+i}},_=function(e,t){var r=-this.point1.coords.usrCoords[1]+this.point2.coords.usrCoords[1],o=-this.point1.coords.usrCoords[2]+this.point2.coords.usrCoords[2];l.exists(this.label)&&(this.label.rendNode.style.fontSize=t*l.evaluate(this.label.visProp.fontsize)+"px",this.label.fullUpdate()),this.point2.coords=new n(i.COORDS_BY_USER,[this.point1.coords.usrCoords[1]+r*e,this.point1.coords.usrCoords[2]+o*e],this.board),this.fullUpdate()},C=function(){this.highlighted||(this.highlighted=!0,this.board.highlightedObjects[this.id]=this,this.board.renderer.highlight(this),_.call(this,1.1,2))},x=function(){this.highlighted&&(this.highlighted=!1,this.board.renderer.noHighlight(this),_.call(this,.9090909,1))},w={fixed:!0,withLabel:!1,visible:!1,name:""};if(!l.isArray(p))for(p=[],s=0;s<t.length;s++)p[s]="";for(l.isFunction(f)||(v=function(){return f}),o.highlightonsector=o.highlightonsector||!1,o.straightfirst=!1,o.straightlast=!1,a=e.create("point",[g,b],w),c[0]=e.create("point",[function(){return v()+g},function(){return b}],w),s=0;s<t.length;s++)c[s+1]=e.create("point",[y(s,"cos",g),y(s,"sin",b)],w),o.name=p[s],o.withlabel=""!==o.name,o.fillcolor=h&&h[s%h.length],o.labelcolor=h&&h[s%h.length],o.highlightfillcolor=d&&d[s%d.length],u[s]=e.create("sector",[a,c[s],c[s+1]],o),o.highlightonsector&&(u[s].hasPoint=u[s].hasPointSector),o.highlightbysize&&(u[s].highlight=C,u[s].noHighlight=x);return{sectors:u,points:c,midpoint:a}},drawRadar:function(t,r,o){var s,a,c,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P,S,E,O,T,k,N,M,A,R,L,I,D,j,B,Y,z,F,X,Z,U,G,J,H,V,q=r.length,W=function(){var e,t,r,o,s=l.evaluate(this.visProp.label.offset).slice(0);return e=this.point1.X(),t=this.point2.X(),r=this.point1.Y(),o=this.point2.Y(),t<e&&(s[0]=-s[0]),o<r&&(s[1]=-s[1]),this.setLabelRelativeCoords(s),new n(i.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)},$=function(e,r){var i,n,o;return i=t.create("transform",[-(C[r]-y[r]),0],{type:"translate"}),n=t.create("transform",[S/(x[r]+_[r]-(C[r]-y[r])),1],{type:"scale"}),i.melt(n),o=t.create("transform",[e],{type:"rotate"}),i.melt(o),i};if(q<=0)throw new Error("JSXGraph radar chart: no data");if(c=o.paramarray,!l.exists(c))throw new Error("JSXGraph radar chart: need paramArray attribute");if((u=c.length)<=1)throw new Error("JSXGraph radar chart: need more than one param in paramArray");for(s=0;s<q;s++)if(u!==r[s].length)throw new Error("JSXGraph radar chart: use data length equal to number of params ("+r[s].length+" != "+u+")");for(h=[],d=[],a=0;a<u;a++)h[a]=r[0][a],d[a]=h[a];for(s=1;s<q;s++)for(a=0;a<u;a++)r[s][a]>h[a]&&(h[a]=r[s][a]),r[s][a]<d[a]&&(d[a]=r[s][a]);for(p=[],f=[],s=0;s<q;s++)p[s]="",f[s]=[];for(v=[],m=[],g=o.startshiftratio||0,b=o.endshiftratio||0,s=0;s<u;s++)v[s]=(h[s]-d[s])*g,m[s]=(h[s]-d[s])*b;if(y=o.startshiftarray||v,_=o.endshiftarray||m,C=o.startarray||d,l.exists(o.start))for(s=0;s<u;s++)C[s]=o.start;if(x=o.endarray||h,l.exists(o.end))for(s=0;s<u;s++)x[s]=o.end;if(y.length!==u)throw new Error("JSXGraph radar chart: start shifts length is not equal to number of parameters");if(_.length!==u)throw new Error("JSXGraph radar chart: end shifts length is not equal to number of parameters");if(C.length!==u)throw new Error("JSXGraph radar chart: starts length is not equal to number of parameters");if(x.length!==u)throw new Error("JSXGraph radar chart: snds length is not equal to number of parameters");for(w=o.labelarray||p,P=o.colors,o.highlightcolors,S=o.radius||10,H=o.strokewidth||1,l.exists(o.highlightonsector)||(o.highlightonsector=!1),E={name:o.name,id:o.id,strokewidth:H,polystrokewidth:o.polystrokewidth||H,strokecolor:o.strokecolor||"black",straightfirst:!1,straightlast:!1,fillcolor:o.fillColor||"#FFFF88",fillopacity:o.fillOpacity||.4,highlightfillcolor:o.highlightFillColor||"#FF7400",highlightstrokecolor:o.highlightStrokeColor||"black",gradient:o.gradient||"none"},T=(O=o.center||[0,0])[0],k=O[1],N=t.create("point",[T,k],{name:"",fixed:!0,withlabel:!1,visible:!1}),Math.PI,Math.PI,A=M=o.startangle||0,R=[],L=[],s=0;s<u;s++)for(A+=2*Math.PI/u,D=S*Math.cos(A)+T,j=S*Math.sin(A)+k,R[s]=t.create("point",[D,j],{name:"",fixed:!0,withlabel:!1,visible:!1}),L[s]=t.create("line",[N,R[s]],{name:c[s],strokeColor:E.strokecolor,strokeWidth:E.strokewidth,strokeOpacity:1,straightFirst:!1,straightLast:!1,withLabel:!0,highlightStrokeColor:E.highlightstrokecolor}),L[s].getLabelAnchor=W,I=$(A,s),a=0;a<r.length;a++)V=r[a][s],f[a][s]=t.create("point",[V,0],{name:"",fixed:!0,withlabel:!1,visible:!1}),f[a][s].addTransform(f[a][s],I);for(B=[],s=0;s<q;s++)for(E.labelcolor=P&&P[s%P.length],E.strokecolor=P&&P[s%P.length],E.fillcolor=P&&P[s%P.length],B[s]=t.create("polygon",f[s],{withLines:!0,withLabel:!1,fillColor:E.fillcolor,fillOpacity:E.fillopacity,highlightFillColor:E.highlightfillcolor}),a=0;a<u;a++)B[s].borders[a].setAttribute("strokecolor:"+P[s%P.length]),B[s].borders[a].setAttribute("strokewidth:"+E.polystrokewidth);switch(o.legendposition||"none"){case"right":z=o.legendleftoffset||2,F=o.legendtopoffset||1,this.legend=t.create("legend",[T+S+z,k+S-F],{labels:w,colors:P});break;case"none":break;default:e.debug("Unknown legend position")}if(Y=[],o.showcircles){for(X=[],s=0;s<6;s++)X[s]=20*s;if(X[0]="0",(U=(Z=o.circlelabelarray||X).length)<2)throw new Error("JSXGraph radar chart: too less circles in circleLabelArray");for(G=[],I=$(M+Math.PI/u,0),E.fillcolor="none",E.highlightfillcolor="none",E.strokecolor=o.strokecolor||"black",E.strokewidth=o.circlestrokewidth||.5,E.layer=0,J=(x[0]-C[0])/(U-1),s=0;s<U;s++)G[s]=t.create("point",[C[0]+s*J,0],{name:Z[s],size:0,fixed:!0,withLabel:!0,visible:!0}),G[s].addTransform(G[s],I),Y[s]=t.create("circle",[N,G[s]],E)}return this.rendNode=B[0].rendNode,{circles:Y,lines:L,points:f,midpoint:N,polygons:B}},updateRenderer:function(){return this},update:function(){return this.needsUpdate&&this.updateDataArray(),this},updateDataArray:function(){return this}}),e.createChart=function(t,r,i){var n,o,u,h,d,p,f,v,m,g,b,y,_,C,x,w,P=[],S=c.isBrowser?t.document.getElementById(r[0]):null;if(1===r.length&&l.isString(r[0])){if(l.exists(S)){if(m=l.copyAttributes(i,t.options,"chart"),n=(S=(new s).loadFromTable(r[0],m.withheaders,m.withheaders)).data,d=S.columnHeaders,o=S.rowHeaders,g=m.width,b=m.name,y=m.strokecolor,_=m.fillcolor,C=m.highlightstrokecolor,x=m.highlightfillcolor,t.suspendUpdate(),w=n.length,v=[],m.rows&&l.isArray(m.rows)){for(u=0;u<w;u++)for(h=0;h<m.rows.length;h++)if(m.rows[h]===u||m.withheaders&&m.rows[h]===o[u]){v.push(n[u]);break}}else v=n;for(w=v.length,u=0;u<w;u++){if(f=[],m.chartstyle&&-1!==m.chartstyle.indexOf("bar")){for(p=g||.8,f.push(1-p/2+(u+.5)*p/w),h=1;h<v[u].length;h++)f.push(f[h-1]+1);m.width=p/w}b&&b.length===w?m.name=b[u]:m.withheaders&&(m.name=d[u]),y&&y.length===w?m.strokecolor=y[u]:m.strokecolor=a.hsv2rgb((u+1)/w*360,.9,.6),_&&_.length===w?m.fillcolor=_[u]:m.fillcolor=a.hsv2rgb((u+1)/w*360,.9,1),C&&C.length===w?m.highlightstrokecolor=C[u]:m.highlightstrokecolor=a.hsv2rgb((u+1)/w*360,.9,1),x&&x.length===w?m.highlightfillcolor=x[u]:m.highlightfillcolor=a.hsv2rgb((u+1)/w*360,.9,.6),m.chartstyle&&-1!==m.chartstyle.indexOf("bar")?P.push(new e.Chart(t,[f,v[u]],m)):P.push(new e.Chart(t,[v[u]],m))}t.unsuspendUpdate()}return P}return m=l.copyAttributes(i,t.options,"chart"),new e.Chart(t,r,m)},e.registerElement("chart",e.createChart),e.Legend=function(e,t,r){var o;if(this.constructor(),o=l.copyAttributes(r,e.options,"legend"),this.board=e,this.coords=new n(i.COORDS_BY_USER,t,this.board),this.myAtts={},this.label_array=o.labelarray||o.labels,this.color_array=o.colorarray||o.colors,this.lines=[],this.myAtts.strokewidth=o.strokewidth||5,this.myAtts.straightfirst=!1,this.myAtts.straightlast=!1,this.myAtts.withlabel=!0,this.myAtts.fixed=!0,this.style=o.legendstyle||o.style,"vertical"!==this.style)throw new Error("JSXGraph: Unknown legend style: "+this.style);this.drawVerticalLegend(e,o)},e.Legend.prototype=new o,e.Legend.prototype.drawVerticalLegend=function(e,t){var r,o=t.linelength||1,s=(t.rowheight||20)/this.board.unitY,a=function(){return this.setLabelRelativeCoords(this.visProp.label.offset),new n(i.COORDS_BY_USER,[this.point2.X(),this.point2.Y()],this.board)};for(r=0;r<this.label_array.length;r++)this.myAtts.name=this.label_array[r],this.myAtts.strokecolor=this.color_array[r%this.color_array.length],this.myAtts.highlightstrokecolor=this.color_array[r%this.color_array.length],this.myAtts.label={offset:[10,0],strokeColor:this.color_array[r%this.color_array.length],strokeWidth:this.myAtts.strokewidth},this.lines[r]=e.create("line",[[this.coords.usrCoords[1],this.coords.usrCoords[2]-r*s],[this.coords.usrCoords[1]+o,this.coords.usrCoords[2]-r*s]],this.myAtts),this.lines[r].getLabelAnchor=a,this.lines[r].prepareUpdate().update().updateVisibility(l.evaluate(this.lines[r].visProp.visible)).updateRenderer()},e.createLegend=function(t,r,i){var n;if(!l.exists(r)||2!==r.length)throw new Error("JSXGraph: Legend element needs two numbers as parameters");return n=r,new e.Legend(t,n,i)},e.registerElement("legend",e.createLegend),{Chart:e.Chart,Legend:e.Legend,createChart:e.createChart,createLegend:e.createLegend}})),define("base/turtle",["jxg","base/constants","base/element","utils/type"],(function(e,t,r,i){"use strict";return e.Turtle=function(e,r,n){var o,s,a;return this.constructor(e,n,t.OBJECT_TYPE_TURTLE,t.OBJECT_CLASS_OTHER),this.turtleIsHidden=!1,this.board=e,this.visProp.curveType="plot",this._attributes=i.copyAttributes(this.visProp,e.options,"turtle"),delete this._attributes.id,o=0,s=0,a=90,0!==r.length&&(3===r.length?(o=r[0],s=r[1],a=r[2]):2===r.length?i.isArray(r[0])?(o=r[0][0],s=r[0][1],a=r[1]):(o=r[0],s=r[1]):(o=r[0][0],s=r[0][1])),this.init(o,s,a),this.methodMap=i.deepCopy(this.methodMap,{forward:"forward",fd:"forward",back:"back",bk:"back",right:"right",rt:"right",left:"left",lt:"left",penUp:"penUp",pu:"penUp",penDown:"penDown",pd:"penDown",clearScreen:"clearScreen",cs:"clearScreen",clean:"clean",setPos:"setPos",home:"home",hideTurtle:"hideTurtle",ht:"hideTurtle",showTurtle:"showTurtle",st:"showTurtle",penSize:"setPenSize",penColor:"setPenColor",pushTurtle:"pushTurtle",push:"pushTurtle",popTurtle:"popTurtle",pop:"popTurtle",lookTo:"lookTo",pos:"pos",moveTo:"moveTo",X:"X",Y:"Y"}),this},e.Turtle.prototype=new r,e.extend(e.Turtle.prototype,{init:function(e,t,r){var i={fixed:!0,name:"",visible:!1,withLabel:!1};this.arrowLen=20/Math.sqrt(this.board.unitX*this.board.unitX+this.board.unitY*this.board.unitY),this.pos=[e,t],this.isPenDown=!0,this.dir=90,this.stack=[],this.objects=[],this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.turtle=this.board.create("point",this.pos,i),this.objects.push(this.turtle),this.turtle2=this.board.create("point",[this.pos[0],this.pos[1]+this.arrowLen],i),this.objects.push(this.turtle2),this.visProp.arrow.lastArrow=!0,this.visProp.arrow.straightFirst=!1,this.visProp.arrow.straightLast=!1,this.arrow=this.board.create("line",[this.turtle,this.turtle2],this.visProp.arrow),this.objects.push(this.arrow),this.subs={arrow:this.arrow},this.inherits.push(this.arrow),this.right(90-r),this.board.update()},forward:function(e){if(0===e)return this;var t,r=e*Math.cos(this.dir*Math.PI/180),i=e*Math.sin(this.dir*Math.PI/180);return this.turtleIsHidden||((t=this.board.create("transform",[r,i],{type:"translate"})).applyOnce(this.turtle),t.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]+=r,this.pos[1]+=i,this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update(),this},back:function(e){return this.forward(-e)},right:function(e){return this.dir-=e,this.dir%=360,this.turtleIsHidden||this.board.create("transform",[-e*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2),this.board.update(),this},left:function(e){return this.right(-e)},penUp:function(){return this.isPenDown=!1,this},penDown:function(){return this.isPenDown=!0,this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this},clean:function(){var e,r;for(e=0;e<this.objects.length;e++)(r=this.objects[e]).type===t.OBJECT_TYPE_CURVE&&(this.board.removeObject(r),this.objects.splice(e,1));return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},clearScreen:function(){var e,t,r=this.objects.length;for(e=0;e<r;e++)t=this.objects[e],this.board.removeObject(t);return this.init(0,0,90),this},setPos:function(e,r){return i.isArray(e)?this.pos=e:this.pos=[e,r],this.turtleIsHidden||(this.turtle.setPositionDirectly(t.COORDS_BY_USER,[e,r]),this.turtle2.setPositionDirectly(t.COORDS_BY_USER,[e,r+this.arrowLen]),this.board.create("transform",[-(this.dir-90)*Math.PI/180,this.turtle],{type:"rotate"}).applyOnce(this.turtle2)),this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve),this.board.update(),this},setPenSize:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeWidth",e)),this.objects.push(this.curve),this},setPenColor:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("strokeColor",e)),this.objects.push(this.curve),this},setHighlightPenColor:function(e){return this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this.copyAttr("highlightStrokeColor",e)),this.objects.push(this.curve),this},setAttribute:function(e){var r,n,o,s=this.objects.length;for(r=0;r<s;r++)(n=this.objects[r]).type===t.OBJECT_TYPE_CURVE&&n.setAttribute(e);return o=this.visProp.id,this.visProp=i.deepCopy(this.curve.visProp),this.visProp.id=o,this._attributes=i.deepCopy(this.visProp),delete this._attributes.id,this},copyAttr:function(e,t){return this._attributes[e.toLowerCase()]=t,this._attributes},showTurtle:function(){return this.turtleIsHidden=!1,this.arrow.setAttribute({visible:!0}),this.visProp.arrow.visible=!1,this.setPos(this.pos[0],this.pos[1]),this.board.update(),this},hideTurtle:function(){return this.turtleIsHidden=!0,this.arrow.setAttribute({visible:!1}),this.visProp.arrow.visible=!1,this.board.update(),this},home:function(){return this.pos=[0,0],this.setPos(this.pos[0],this.pos[1]),this},pushTurtle:function(){return this.stack.push([this.pos[0],this.pos[1],this.dir]),this},popTurtle:function(){var e=this.stack.pop();return this.pos[0]=e[0],this.pos[1]=e[1],this.dir=e[2],this.setPos(this.pos[0],this.pos[1]),this},lookTo:function(e){var t,r,n,o,s;return i.isArray(e)?(t=this.pos[0],r=this.pos[1],n=e[0],o=e[1],s=Math.atan2(o-r,n-t),this.right(this.dir-180*s/Math.PI)):i.isNumber(e)&&this.right(this.dir-e),this},moveTo:function(e){var t,r,n;return i.isArray(e)&&(t=e[0]-this.pos[0],r=e[1]-this.pos[1],this.turtleIsHidden||((n=this.board.create("transform",[t,r],{type:"translate"})).applyOnce(this.turtle),n.applyOnce(this.turtle2)),this.isPenDown&&this.curve.dataX.length>=8192&&(this.curve=this.board.create("curve",[[this.pos[0]],[this.pos[1]]],this._attributes),this.objects.push(this.curve)),this.pos[0]=e[0],this.pos[1]=e[1],this.isPenDown&&(this.curve.dataX.push(this.pos[0]),this.curve.dataY.push(this.pos[1])),this.board.update()),this},fd:function(e){return this.forward(e)},bk:function(e){return this.back(e)},lt:function(e){return this.left(e)},rt:function(e){return this.right(e)},pu:function(){return this.penUp()},pd:function(){return this.penDown()},ht:function(){return this.hideTurtle()},st:function(){return this.showTurtle()},cs:function(){return this.clearScreen()},push:function(){return this.pushTurtle()},pop:function(){return this.popTurtle()},evalAt:function(e,r){var i,n,o,s,a=this.objects.length;for(i=0,n=0;i<a;i++)if((o=this.objects[i]).elementClass===t.OBJECT_CLASS_CURVE){if(n<=e&&e<n+o.numberPoints)return s=e-n,o[r](s);n+=o.numberPoints}return this[r]()},X:function(e){return i.exists(e)?this.evalAt(e,"X"):this.pos[0]},Y:function(e){return i.exists(e)?this.evalAt(e,"Y"):this.pos[1]},Z:function(e){return 1},minX:function(){return 0},maxX:function(){var e,r=this.objects.length,i=0;for(e=0;e<r;e++)this.objects[e].elementClass===t.OBJECT_CLASS_CURVE&&(i+=this.objects[e].numberPoints);return i},hasPoint:function(e,r){var i,n;for(i=0;i<this.objects.length;i++)if((n=this.objects[i]).type===t.OBJECT_TYPE_CURVE&&n.hasPoint(e,r))return!0;return!1}}),e.createTurtle=function(t,r,n){var o;return r=r||[],o=i.copyAttributes(n,t.options,"turtle"),new e.Turtle(t,r,o)},e.registerElement("turtle",e.createTurtle),{Turtle:e.Turtle,createTurtle:e.createTurtle}})),define("base/ticks",["jxg","math/math","math/geometry","math/numerics","base/constants","base/element","base/coords","utils/type","base/text"],(function(e,t,r,i,n,o,s,a,l){"use strict";return e.Ticks=function(e,r,i){if(this.constructor(e.board,i,n.OBJECT_TYPE_TICKS,n.OBJECT_CLASS_OTHER),this.line=e,this.board=this.line.board,this.ticksFunction=null,this.fixedTicks=null,this.equidistant=!1,this.labelsData=[],a.isFunction(r))throw this.ticksFunction=r,new Error("Function arguments are no longer supported.");a.isArray(r)?this.fixedTicks=r:((Math.abs(r)<t.eps||r<0)&&(r=i.defaultdistance),this.ticksFunction=this.makeTicksFunction(r),this.equidistant=!0),this.minTicksDistance=i.minticksdistance,this.ticks=[],this.ticksDelta=1,this.labels=[],this.labelData=[],this.labelCounter=0,this.id=this.line.addTicks(this),this.elType="ticks",this.inherits.push(this.labels),this.board.setId(this,"Ti")},e.Ticks.prototype=new o,e.extend(e.Ticks.prototype,{makeTicksFunction:function(e){return function(){var t,r,i;return a.evaluate(this.visProp.insertticks)?((i=(r=this.getLowerAndUpperBounds(this.getZeroCoordinates(),"ticksdistance")).upper-r.lower)<=6*(t=Math.pow(10,Math.floor(Math.log(.6*i)/Math.LN10)))&&(t*=.5),t):e}},hasPoint:function(e,r){var i,o,s,l,c=this.ticks&&this.ticks.length||0;if(a.isObject(a.evaluate(this.visProp.precision))?(l=this.board._inputDevice,s=a.evaluate(this.visProp.precision[l])):s=this.board.options.precision.hasPoint,s+=.5*a.evaluate(this.visProp.strokewidth),!a.evaluate(this.line.visProp.scalable)||this.line.elementClass===n.OBJECT_CLASS_CURVE)return!1;if(0!==this.line.stdform[1]&&0!==this.line.stdform[2]&&this.line.type!==n.OBJECT_TYPE_AXIS)return!1;for(i=0;i<c;i++)if((o=this.ticks[i])[2]&&!(0===this.line.stdform[1]&&Math.abs(o[0][0]-this.line.point1.coords.scrCoords[1])<t.eps||0===this.line.stdform[2]&&Math.abs(o[1][0]-this.line.point1.coords.scrCoords[2])<t.eps)&&(Math.abs(o[0][0]-o[0][1])>=1||Math.abs(o[1][0]-o[1][1])>=1))if(0===this.line.stdform[1]){if(Math.abs(r-.5*(o[1][0]+o[1][1]))<2*s&&o[0][0]-s<e&&e<o[0][1]+s)return!0}else if(0===this.line.stdform[2]&&Math.abs(e-.5*(o[0][0]+o[0][1]))<2*s&&o[1][0]-s<r&&r<o[1][1]+s)return!0;return!1},setPositionDirectly:function(e,r,i){var o,l,c=new s(e,r,this.board),u=new s(e,i,this.board),h=this.board.getBoundingBox();return this.line.type===n.OBJECT_TYPE_AXIS&&a.evaluate(this.line.visProp.scalable)?(Math.abs(this.line.stdform[1])<t.eps&&Math.abs(c.usrCoords[1]*u.usrCoords[1])>t.eps?(o=u.usrCoords[1]/c.usrCoords[1],h[0]*=o,h[2]*=o,this.board.setBoundingBox(h,this.board.keepaspectratio,"update")):Math.abs(this.line.stdform[2])<t.eps&&Math.abs(c.usrCoords[2]*u.usrCoords[2])>t.eps&&(l=u.usrCoords[2]/c.usrCoords[2],h[3]*=l,h[1]*=l,this.board.setBoundingBox(h,this.board.keepaspectratio,"update")),this):this},calculateTicksCoordinates:function(){var e,r,i,o;if(!(this.line.elementClass===n.OBJECT_CLASS_LINE&&(this.setTicksSizeVariables(),Math.abs(this.dx)<t.eps&&Math.abs(this.dy)<t.eps)))return e=this.getZeroCoordinates(),r=this.line.elementClass===n.OBJECT_CLASS_LINE?this.getLowerAndUpperBounds(e):{lower:this.line.minX(),upper:this.line.maxX()},"polar"===a.evaluate(this.visProp.type)&&(o=this.board.getBoundingBox(),i=Math.max(Math.sqrt(o[0]*o[0]+o[1]*o[1]),Math.sqrt(o[2]*o[2]+o[3]*o[3])),r.upper=i),this.ticks=[],this.labelsData=[],this.equidistant?this.generateEquidistantTicks(e,r):this.generateFixedTicks(e,r),this},setTicksSizeVariables:function(e){var r,n,o,s,l=.5*a.evaluate(this.visProp.majorheight),c=.5*a.evaluate(this.visProp.minorheight);a.exists(e)?(n=this.line.minX(),o=this.line.maxX(),(s=this.line.points.length)<2?(this.dxMaj=0,this.dyMaj=0):t.relDif(e,n)<t.eps?(this.dxMaj=this.line.points[0].usrCoords[2]-this.line.points[1].usrCoords[2],this.dyMaj=this.line.points[1].usrCoords[1]-this.line.points[0].usrCoords[1]):t.relDif(e,o)<t.eps?(this.dxMaj=this.line.points[s-2].usrCoords[2]-this.line.points[s-1].usrCoords[2],this.dyMaj=this.line.points[s-1].usrCoords[1]-this.line.points[s-2].usrCoords[1]):(this.dxMaj=-i.D(this.line.Y)(e),this.dyMaj=i.D(this.line.X)(e))):(this.dxMaj=this.line.stdform[1],this.dyMaj=this.line.stdform[2]),this.dxMin=this.dxMaj,this.dyMin=this.dyMaj,this.dx=this.dxMaj,this.dy=this.dyMaj,r=Math.sqrt(this.dxMaj*this.dxMaj*this.board.unitX*this.board.unitX+this.dyMaj*this.dyMaj*this.board.unitY*this.board.unitY),this.dxMaj*=l/r*this.board.unitX,this.dyMaj*=l/r*this.board.unitY,this.dxMin*=c/r*this.board.unitX,this.dyMin*=c/r*this.board.unitY,this.minStyle=a.evaluate(this.visProp.minorheight)<0?"infinite":"finite",this.majStyle=a.evaluate(this.visProp.majorheight)<0?"infinite":"finite"},getZeroCoordinates:function(){var e,t,i,o,l,c,u,h,d=a.evaluate(this.visProp.anchor);return this.line.elementClass===n.OBJECT_CLASS_LINE?this.line.type===n.OBJECT_TYPE_AXIS?r.projectPointToLine({coords:{usrCoords:[1,0,0]}},this.line,this.board):(i=this.line.point1.coords.usrCoords[0],e=this.line.point1.coords.usrCoords[1],t=this.line.point1.coords.usrCoords[2],c=this.line.point2.coords.usrCoords[0],o=this.line.point2.coords.usrCoords[1],l=this.line.point2.coords.usrCoords[2],"right"===d?this.line.point2.coords:"middle"===d?new s(n.COORDS_BY_USER,[.5*(i+c),.5*(e+o),.5*(t+l)],this.board):a.isNumber(d)?new s(n.COORDS_BY_USER,[i+(c-i)*d,e+(o-e)*d,t+(l-t)*d],this.board):this.line.point1.coords):(u=this.line.minX(),h=this.line.maxX(),"right"===d?h:"middle"===d?.5*(u+h):a.isNumber(d)?u*(1-d)+h*d:u)},getLowerAndUpperBounds:function(e,i){var o,l,c,u,h,d,p,f,v,m,g=a.evaluate(this.line.visProp.straightfirst),b=a.evaluate(this.line.visProp.straightlast),y=a.evaluate(this.visProp.includeboundaries);return this.line.elementClass===n.OBJECT_CLASS_CURVE?{lower:this.line.minX(),upper:this.line.maxX()}:(h=new s(n.COORDS_BY_USER,this.line.point1.coords.usrCoords,this.board),d=new s(n.COORDS_BY_USER,this.line.point2.coords.usrCoords,this.board),p=Math.abs(h.usrCoords[0])>=t.eps&&h.scrCoords[1]>=0&&h.scrCoords[1]<=this.board.canvasWidth&&h.scrCoords[2]>=0&&h.scrCoords[2]<=this.board.canvasHeight,f=Math.abs(d.usrCoords[0])>=t.eps&&d.scrCoords[1]>=0&&d.scrCoords[1]<=this.board.canvasWidth&&d.scrCoords[2]>=0&&d.scrCoords[2]<=this.board.canvasHeight,a.exists(i)||"tickdistance"===i?r.calcStraight(this.line,h,d,a.evaluate(this.line.visProp.margin)):r.calcLineDelimitingPoints(this.line,h,d),c=a.evaluate(this.line.visProp.firstarrow),u=a.evaluate(this.line.visProp.lastarrow),(c||u)&&(this.board.renderer.getPositionArrowHead(this.line,h,d,a.evaluate(this.line.visProp.strokewidth)),c&&h.setCoordinates(n.COORDS_BY_SCREEN,[h.scrCoords[1],h.scrCoords[2]]),u&&d.setCoordinates(n.COORDS_BY_SCREEN,[d.scrCoords[1],d.scrCoords[2]])),(v=this.getDistanceFromZero(e,h))<(m=this.getDistanceFromZero(e,d))?(o=v,g||!p||y||(o+=t.eps),l=m,b||!f||y||(l-=t.eps)):m<v?(o=m,b||!f||y||(o+=t.eps),l=v,g||!p||y||(l-=t.eps)):(o=0,l=0),{lower:o,upper:l})},getDistanceFromZero:function(e,r){var i,o,s,a,l;return i=this.line.point1.coords,o=this.line.point2.coords,l=e.distance(n.COORDS_BY_USER,r),s=[o.usrCoords[0]-i.usrCoords[0],o.usrCoords[1]-i.usrCoords[1],o.usrCoords[2]-i.usrCoords[2]],a=[r.usrCoords[0]-e.usrCoords[0],r.usrCoords[1]-e.usrCoords[1],r.usrCoords[2]-e.usrCoords[2]],t.innerProduct(s,a,3)<0&&(l*=-1),l},generateEquidistantTicks:function(e,r){var i,o,s=t.eps,l=this.equidistant?this.ticksFunction(1):this.ticksDelta,c=a.evaluate(this.visProp.insertticks),u=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===n.OBJECT_CLASS_LINE&&(o=this.getXandYdeltas()),l*=a.evaluate(this.visProp.scale),c&&this.minTicksDistance>t.eps?(l=this.adjustTickDistance(l,e,o),l/=u+1):c||(l/=u+1),this.ticksDelta=l,!(l<t.eps)){for(i=0,a.evaluate(this.visProp.drawzero)||(i=l);i<=r.upper+s&&(i>=r.lower-s&&this.processTickPosition(e,i,l,o),i+=l,!(r.upper-i>1e4*l)););for(i=-l;i>=r.lower-s&&(i<=r.upper+s&&this.processTickPosition(e,i,l,o),!((i-=l)-r.lower>1e4*l)););}},adjustTickDistance:function(e,t,r){var i,o,l,c=1,u=a.evaluate(this.visProp.minorticks);if(this.line.elementClass===n.OBJECT_CLASS_CURVE)return e;if(this.getLowerAndUpperBounds(t,"ticksdistance"),i=t.usrCoords[1]+r.x*e,o=t.usrCoords[2]+r.y*e,l=t.distance(n.COORDS_BY_SCREEN,new s(n.COORDS_BY_USER,[i,o],this.board)),0===e)return 0;for(;l/(u+1)<this.minTicksDistance;)e*=1===c?2:5,c*=-1,i=t.usrCoords[1]+r.x*e,o=t.usrCoords[2]+r.y*e,l=t.distance(n.COORDS_BY_SCREEN,new s(n.COORDS_BY_USER,[i,o],this.board));return e},processTickPosition:function(e,t,r,i){var o,l,c,u,h=null;this.line.elementClass===n.OBJECT_CLASS_LINE?(o=e.usrCoords[1]+t*i.x,l=e.usrCoords[2]+t*i.y):(o=this.line.X(e+t),l=this.line.Y(e+t)),c=new s(n.COORDS_BY_USER,[o,l],this.board),this.line.elementClass===n.OBJECT_CLASS_CURVE&&(h=e+t,this.setTicksSizeVariables(h)),c.major=Math.round(t/r)%(a.evaluate(this.visProp.minorticks)+1)==0,3===(u=this.createTickPath(c,c.major)).length&&(this.ticks.push(u),c.major&&a.evaluate(this.visProp.drawlabels)?this.labelsData.push(this.generateLabelData(this.generateLabelText(c,e,h),c,this.ticks.length)):this.labelsData.push(null))},generateFixedTicks:function(e,r){var i,o,l,c,u,h,d,p,f=t.eps,v=a.isArray(this.visProp.labels),m=a.evaluate(this.visProp.drawlabels);for(this.line.elementClass===n.OBJECT_CLASS_LINE&&(p=this.getXandYdeltas()),l=0;l<this.fixedTicks.length;l++)this.line.elementClass===n.OBJECT_CLASS_LINE?(d=this.fixedTicks[l],u=e.usrCoords[1]+d*p.x,h=e.usrCoords[2]+d*p.y):(d=e+this.fixedTicks[l],u=this.line.X(d),h=this.line.Y(d)),i=new s(n.COORDS_BY_USER,[u,h],this.board),this.line.elementClass===n.OBJECT_CLASS_CURVE&&this.setTicksSizeVariables(d),3===(c=this.createTickPath(i,!0)).length&&d>=r.lower-f&&d<=r.upper+f&&(this.ticks.push(c),m&&(v||a.exists(this.visProp.labels[l]))?(o=v?a.evaluate(this.visProp.labels[l]):d,this.labelsData.push(this.generateLabelData(this.generateLabelText(i,e,o),i,l))):this.labelsData.push(null))},getXandYdeltas:function(){var e,r,i=this.line.point1.Dist(this.line.point2);return this.line.type===n.OBJECT_TYPE_AXIS?(e=this.line.point1.coords.usrCoords,r=this.line.point2.coords.usrCoords,(e[1]>r[1]||Math.abs(e[1]-r[1])<t.eps&&e[2]>r[2])&&(e=this.line.point2.coords.usrCoords,r=this.line.point1.coords.usrCoords)):(e=this.line.point1.coords.usrCoords,r=this.line.point2.coords.usrCoords),{x:(r[1]-e[1])/i,y:(r[2]-e[2])/i}},_isInsideCanvas:function(e,t,r){var i=this.board.canvasWidth,n=this.board.canvasHeight;return void 0===r&&(r=0),e[0]>=r&&e[0]<=i-r&&t[0]>=r&&t[0]<=n-r||e[1]>=r&&e[1]<=i-r&&t[1]>=r&&t[1]<=n-r},createTickPath:function(e,t){var i,n,o,s,l,c,u,h,d,p,f,v,m,g,b=[-2e6,-2e6],y=[-2e6,-2e6];if(i=e.scrCoords,t?(s=this.dxMaj,l=this.dyMaj,d=this.majStyle):(s=this.dxMin,l=this.dyMin,d=this.minStyle),n=[-l*i[1]-s*i[2],l,s],t&&"polar"===a.evaluate(this.visProp.type)){if(v=this.board.getBoundingBox(),g=(m=2*Math.PI)/180,i=e.usrCoords,(f=Math.sqrt(i[1]*i[1]+i[2]*i[2]))<Math.max(Math.sqrt(v[0]*v[0]+v[1]*v[1]),Math.sqrt(v[2]*v[2]+v[3]*v[3]))){for(b=[],y=[],p=0;p<=m;p+=g)b.push(this.board.origin.scrCoords[1]+f*Math.cos(p)*this.board.unitX),y.push(this.board.origin.scrCoords[2]+f*Math.sin(p)*this.board.unitY);return[b,y,t]}}else if("infinite"===d?(o=r.meetLineBoard(n,this.board),b[0]=o[0].scrCoords[1],b[1]=o[1].scrCoords[1],y[0]=o[0].scrCoords[2],y[1]=o[1].scrCoords[2]):(h=">"===a.evaluate(this.visProp.face)?Math.PI/4:"<"===a.evaluate(this.visProp.face)?-Math.PI/4:0,c=Math.cos(h)*s-Math.sin(h)*l,u=Math.sin(h)*s+Math.cos(h)*l,b[0]=i[1]+c*a.evaluate(this.visProp.tickendings[0]),y[0]=i[2]-u*a.evaluate(this.visProp.tickendings[0]),b[1]=i[1],y[1]=i[2],h=-h,c=Math.cos(h)*s-Math.sin(h)*l,u=Math.sin(h)*s+Math.cos(h)*l,b[2]=i[1]-c*a.evaluate(this.visProp.tickendings[1]),y[2]=i[2]+u*a.evaluate(this.visProp.tickendings[1])),this._isInsideCanvas(b,y))return[b,y,t];return[]},formatLabelText:function(e){var t,r,i=a.evaluate(this.visProp.scalesymbol);return a.isNumber(e)?(((t=(Math.round(1e13*e)/1e13).toString()).length>a.evaluate(this.visProp.maxlabellength)||-1!==t.indexOf("e"))&&(r=a.evaluate(this.visProp.digits),3!==a.evaluate(this.visProp.precision)&&3===r&&(r=a.evaluate(this.visProp.precision)),t=e.toExponential(r).toString()),a.evaluate(this.visProp.beautifulscientificticklabels)&&(t=this.beautifyScientificNotationLabel(t)),t.indexOf(".")>-1&&-1===t.indexOf("e")&&(t=(t=t.replace(/0+$/,"")).replace(/\.$/,""))):t=e.toString(),i.length>0&&("1"===t?t=i:"-1"===t?t="-"+i:"0"!==t&&(t+=i)),a.evaluate(this.visProp.useunicodeminus)&&(t=t.replace(/-/g,"\u2212")),t},beautifyScientificNotationLabel:function(e){return-1===e.indexOf("e")?e:(parseFloat(e.substring(0,e.indexOf("e")))+e.substring(e.indexOf("e"))).replace(/e(.*)$/g,(function(e,t){return"\u202210"+t.replace(/-/g,"\u207b").replace(/\+/g,"").replace(/0/g,"\u2070").replace(/1/g,"\xb9").replace(/2/g,"\xb2").replace(/3/g,"\xb3").replace(/4/g,"\u2074").replace(/5/g,"\u2075").replace(/6/g,"\u2076").replace(/7/g,"\u2077").replace(/8/g,"\u2078").replace(/9/g,"\u2079")}))},generateLabelText:function(e,r,i){var n;if(!a.exists(i)){if(n=this.getDistanceFromZero(r,e),Math.abs(n)<t.eps)return"0";i=n/a.evaluate(this.visProp.scale)}return this.formatLabelText(i)},generateLabelData:function(e,t,r){var i,n,o,s;return s=a.evaluate(this.visProp.label.fontsize),i=[t.scrCoords[1],t.scrCoords[1]],n=[t.scrCoords[2],t.scrCoords[2]],o=void 0===s?12:s,o*=.5,this._isInsideCanvas(i,n,o)?(i=a.evaluate(this.visProp.label.offset[0]),n=a.evaluate(this.visProp.label.offset[1]),{x:t.usrCoords[1]+i/this.board.unitX,y:t.usrCoords[2]+n/this.board.unitY,t:e,i:r}):null},update:function(){return this.needsUpdate&&0!==this.board.canvasWidth&&0!==this.board.canvasHeight&&this.calculateTicksCoordinates(),this},updateRenderer:function(){return this.needsUpdate?(this.visPropCalc.visible&&this.board.renderer.updateTicks(this),this.updateRendererLabels(),this.setDisplayRendNode(),this.needsUpdate=!1,this):this},updateRendererLabels:function(){var e,t,r,i,n,o,s,c;for(r=this.labelsData.length,i=this.labels.length,e=0,t=0;e<r;e++)null!==this.labelsData[e]&&(s=this.labelsData[e],t<i?((o=this.labels[t]).setText(s.t),o.setCoords(s.x,s.y),t++):(this.labelCounter+=1,n={isLabel:!0,layer:this.board.options.layer.line,highlightStrokeColor:this.board.options.text.strokeColor,highlightStrokeWidth:this.board.options.text.strokeWidth,highlightStrokeOpacity:this.board.options.text.strokeOpacity,priv:this.visProp.priv},(n=a.deepCopy(n,this.visProp.label)).id=this.id+s.i+"Label"+this.labelCounter,(o=l.createText(this.board,[s.x,s.y,s.t],n)).isDraggable=!1,o.dump=!1,this.labels.push(o)),"inherit"===(c=a.evaluate(this.visProp.label.visible))&&(c=this.visPropCalc.visible),o.prepareUpdate().updateVisibility(c).updateRenderer(),o.distanceX=a.evaluate(this.visProp.label.offset[0]),o.distanceY=a.evaluate(this.visProp.label.offset[1]));for(t=r=t;t<i;t++)this.board.renderer.display(this.labels[t],!1),this.labels[t].visProp.visible=this.labels[t].visPropCalc.visible=!1;return this},hideElement:function(){var t;for(e.deprecated("Element.hideElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!1,this.board.renderer.display(this,!1),t=0;t<this.labels.length;t++)a.exists(this.labels[t])&&this.labels[t].hideElement();return this},showElement:function(){var t;for(e.deprecated("Element.showElement()","Element.setDisplayRendNode()"),this.visPropCalc.visible=!0,this.board.renderer.display(this,!1),t=0;t<this.labels.length;t++)a.exists(this.labels[t])&&this.labels[t].showElement();return this}}),e.createTicks=function(t,r,i){var o,s,l=a.copyAttributes(i,t.options,"ticks");if(s=r.length<2?l.ticksdistance:r[1],r[0].elementClass!==n.OBJECT_CLASS_LINE&&r[0].elementClass!==n.OBJECT_CLASS_CURVE)throw new Error("JSXGraph: Can't create Ticks with parent types '"+typeof r[0]+"'.");return o=new e.Ticks(r[0],s,l),a.isFunction(l.generatelabelvalue)&&(o.generateLabelText=l.generatelabelvalue),a.isFunction(l.generatelabeltext)&&(o.generateLabelText=l.generatelabeltext),o.setParents(r[0]),o.isDraggable=!0,o.fullUpdate(r[0].visPropCalc.visible),o},e.createHatchmark=function(e,t,r){var i,o,s,l,c,u=[],h=a.copyAttributes(r,e.options,"hatch");if(t[0].elementClass!==n.OBJECT_CLASS_LINE&&t[0].elementClass!==n.OBJECT_CLASS_CURVE||"number"!=typeof t[1])throw new Error("JSXGraph: Can't create Hatch mark with parent types '"+typeof t[0]+"' and '"+typeof t[1]+" and ''"+typeof t[2]+"'.");for(s=-((i=t[1])-1)*(l=h.ticksdistance)*.5,o=0;o<i;o++)u[o]=s+o*l;return(c=e.create("ticks",[t[0],u],h)).elType="hatch",c},e.registerElement("ticks",e.createTicks),e.registerElement("hash",e.createHatchmark),e.registerElement("hatch",e.createHatchmark),{Ticks:e.Ticks,createTicks:e.createTicks,createHashmark:e.createHatchmark,createHatchmark:e.createHatchmark}})),define("parser/ca",["jxg","base/constants","base/text","math/math","math/geometry","math/statistics","utils/type","utils/env"],(function(e,t,r,i,n,o,s,a){"use strict";return e.CA=function(e,t,r){this.node=e,this.createNode=t,this.parser=r},e.extend(e.CA.prototype,{findMapNode:function(e,t){var r,i,n;if("op_assign"===t.value&&t.children[0].value===e)return t.children[1];if(t.children)for(i=t.children.length,r=0;r<i;++r)if(null!==(n=this.findMapNode(e,t.children[r])))return n;return null},setMath:function(e){var t,r;if(("node_op"!=e.type||"op_add"!=e.value&&"op_sub"!=e.value&&"op_mul"!=e.value&&"op_div"!=e.value&&"op_neg"!=e.value&&"op_execfun"!=e.value&&"op_exp"!=e.value)&&"node_var"!=e.type&&"node_const"!=e.type||(e.isMath=!0),e.children)for(r=e.children.length,t=0;t<r;++t)this.setMath(e.children[t])},deriveElementary:function(e,t){var r,i=e.children[0].value,n=e.children[1];switch(i){case"abs":r=this.createNode("node_op","op_div",n[0],this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0]))]));break;case"sqrt":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_mul",this.createNode("node_const",2),this.createNode(e.type,e.value,s.deepCopy(e.children[0]),s.deepCopy(e.children[1]))));break;case"sin":r=this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),s.deepCopy(n));break;case"cos":r=this.createNode("node_op","op_neg",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),s.deepCopy(n)));break;case"tan":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","cos"),s.deepCopy(n)),this.createNode("node_const",2)));break;case"cot":r=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","sin"),s.deepCopy(n)),this.createNode("node_const",2))));break;case"exp":r=this.createNode(e.type,e.value,s.deepCopy(e.children[0]),s.deepCopy(e.children[1]));break;case"pow":r=this.createNode("node_op","op_mul",this.createNode("node_op","op_execfun",s.deepCopy(e.children[0]),s.deepCopy(e.children[1])),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(e.children[1][0],t),this.createNode("node_op","op_div",s.deepCopy(e.children[1][1]),s.deepCopy(e.children[1][0]))),this.createNode("node_op","op_mul",this.derivative(e.children[1][1],t),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[s.deepCopy(e.children[1][0])]))));break;case"log":case"ln":r=this.createNode("node_op","op_div",this.createNode("node_const",1),s.deepCopy(n[0]));break;case"log2":case"lb":case"ld":r=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),s.deepCopy(n[0])),this.createNode("node_const",1.4426950408889634));break;case"log10":case"lg":r=this.createNode("node_op","op_mul",this.createNode("node_op","op_div",this.createNode("node_const",1),s.deepCopy(n[0])),this.createNode("node_const",.43429448190325176));break;case"asin":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0])))]));break;case"acos":r=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0])))])));break;case"atan":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0]))));break;case"acot":r=this.createNode("node_op","op_neg",this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_add",this.createNode("node_const",1),this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0])))));break;case"sinh":r=this.createNode("node_op","op_execfun",this.createNode("node_var","cosh"),[s.deepCopy(n[0])]);break;case"cosh":r=this.createNode("node_op","op_execfun",this.createNode("node_var","sinh"),[s.deepCopy(n[0])]);break;case"tanh":r=this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_exp",this.createNode("node_op","op_execfun",this.createNode("node_var","tanh"),[s.deepCopy(n[0])]),this.createNode("node_const",2)));break;case"asinh":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_add",this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0])),this.createNode("node_const",1))]));break;case"acosh":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_execfun",this.createNode("node_var","sqrt"),[this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0])),this.createNode("node_const",1))]));break;case"atanh":r=this.createNode("node_op","op_div",this.createNode("node_const",1),this.createNode("node_op","op_sub",this.createNode("node_const",1),this.createNode("node_op","op_mul",s.deepCopy(n[0]),s.deepCopy(n[0]))));break;default:throw r=this.createNode("node_const",0),console.log('Derivative of "'+i+'" not yet implemented'),new Error("Error("+this.line+"): ")}return r},derivative:function(e,t){var r;switch(e.type){case"node_op":switch(e.value){case"op_execfun":r="pow"==e.children[0].value?this.deriveElementary(e,t):0===e.children[1].length?this.createNode("node_const",0):this.createNode("node_op","op_mul",this.deriveElementary(e,t),this.derivative(e.children[1][0],t));break;case"op_div":r=this.createNode("node_op","op_div",this.createNode("node_op","op_sub",this.createNode("node_op","op_mul",this.derivative(e.children[0],t),s.deepCopy(e.children[1])),this.createNode("node_op","op_mul",s.deepCopy(e.children[0]),this.derivative(e.children[1],t))),this.createNode("node_op","op_mul",s.deepCopy(e.children[1]),s.deepCopy(e.children[1])));break;case"op_mul":r=this.createNode("node_op","op_add",this.createNode("node_op","op_mul",s.deepCopy(e.children[0]),this.derivative(e.children[1],t)),this.createNode("node_op","op_mul",this.derivative(e.children[0],t),s.deepCopy(e.children[1])));break;case"op_neg":r=this.createNode("node_op","op_neg",this.derivative(e.children[0],t));break;case"op_add":case"op_sub":r=this.createNode("node_op",e.value,this.derivative(e.children[0],t),this.derivative(e.children[1],t));break;case"op_exp":r=this.createNode("node_op","op_mul",s.deepCopy(e),this.createNode("node_op","op_add",this.createNode("node_op","op_mul",this.derivative(e.children[0],t),this.createNode("node_op","op_div",s.deepCopy(e.children[1]),s.deepCopy(e.children[0]))),this.createNode("node_op","op_mul",this.derivative(e.children[1],t),this.createNode("node_op","op_execfun",this.createNode("node_var","log"),[s.deepCopy(e.children[0])]))))}break;case"node_var":r=e.value===t?this.createNode("node_const",1):this.createNode("node_const",0);break;case"node_const":r=this.createNode("node_const",0)}return r},expandDerivatives:function(e,t,r){var i,n,o,a,l,c,u,h,d,p,f;if(!e)return 0;for(this.line=e.line,this.col=e.col,i=e.children.length,n=0;n<i;++n)if(e.children[n]&&e.children[n].type)e.children[n]=this.expandDerivatives(e.children[n],e,r);else if(s.isArray(e.children[n]))for(o=0;o<e.children[n].length;++o)e.children[n][o]&&e.children[n][o].type&&(e.children[n][o]=this.expandDerivatives(e.children[n][o],e,r));if("node_op"===e.type&&"op_execfun"===e.value&&e.children[0]&&"D"===e.children[0].value){if("node_var"==e.children[1][0].type?(h=e.children[1][0].value,p=(a=this.findMapNode(h,r)).children[0],d=e.children[1].length>=2?e.children[1][1].value:a.children[0][0],l=a.children[1]):(l=e.children[1][0],p=["x"],d=e.children[1].length>=2?e.children[1][1].value:"x"),u=l,(f=e.children[1].length>=3?e.children[1][2].value:1)>=1)for(;f>=1;)u=this.derivative(u,d),u=this.removeTrivialNodes(u),f--;c="node_op"==t.type&&"op_assign"==t.value?this.createNode("node_op","op_map",p,u):u,this.setMath(c),e.type=c.type,e.value=c.value,e.children[0]=c.children[0],e.children[1]=c.children[1]}return e},removeTrivialNodes:function(e){var t,r,i,n,o;if(s.isArray(e))for(r=e.length,t=0;t<r;++t)e[t]=this.removeTrivialNodes(e[t]);if("node_op"!=e.type||!e.children)return e;for(r=e.children.length,t=0;t<r;++t){this.mayNotBeSimplified=!1;do{e.children[t]=this.removeTrivialNodes(e.children[t])}while(this.mayNotBeSimplified)}switch(e.value){case"op_map":if(i=e.children[0],"node_var"==(n=e.children[1]).type)for(t=0;t<i.length;++t)if(i[t]==n.value){n.isMath=!0;break}break;case"op_add":if(i=e.children[0],n=e.children[1],"node_const"==i.type&&0===i.value)return n;if("node_const"==n.type&&0===n.value)return i;if("node_const"==i.type&&"node_const"==n.type)return i.value+=n.value,i;break;case"op_mul":if(i=e.children[0],n=e.children[1],"node_const"==i.type&&1==i.value)return n;if("node_const"==n.type&&1==n.value)return i;if("node_const"==i.type&&0===i.value)return i;if("node_const"==n.type&&0===n.value)return n;if("node_const"==n.type&&0===n.value)return n;if("node_op"==i.type&&"op_neg"==i.value&&"node_op"==n.type&&"op_neg"==n.value)return e.children=[i.children[0],n.children[0]],this.mayNotBeSimplified=!0,e;if("op_neg"==i.value&&"op_neg"!=n.value)return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_mul",i.children[0],n)],this.mayNotBeSimplified=!0,e;if("op_neg"!=i.value&&"op_neg"==n.value)return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_mul",i,n.children[0])],this.mayNotBeSimplified=!0,e;if("op_div"==i.value&&"node_const"==i.children[0].type&&1==i.children[0].value)return e.type="node_op",e.value="op_div",e.children=[n,i.children[1]],this.mayNotBeSimplified=!0,e;if("op_div"==n.value&&"node_const"==n.children[0].type&&1==n.children[0].value)return e.type="node_op",e.value="op_div",e.children=[i,n.children[1]],this.mayNotBeSimplified=!0,e;if("node_const"!=i.type&&"node_const"==n.type)return e.children=[n,i],this.mayNotBeSimplified=!0,e;if("node_const"!=i.type&&"node_op"==n.type&&"op_neg"==n.value&&"node_const"==n.children[0].type)return e.children=[n,i],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_execfun"!=i.value&&("node_var"==n.type||"node_op"==n.type&&"op_execfun"==n.value))return e.children=[n,i],this.mayNotBeSimplified=!0,e;if("node_op"!=i.type&&"node_op"==n.type&&"op_neg"==n.value&&"node_var"==n.children[0].type)return e.children=[n,i],this.mayNotBeSimplified=!0,e;if("node_const"!=i.type&&"node_op"==n.type&&("op_mul"==n.value||"op_div"==n.value)&&"node_const"==n.children[0].type)return o=n.children[0],n.children[0]=i,e.children=[o,n],this.mayNotBeSimplified=!0,e;if("node_const"!=n.type&&"node_op"==i.type&&"op_mul"==i.value&&"node_const"==i.children[0].type)return e.children=[i.children[0],this.createNode("node_op","op_mul",i.children[1],n)],this.mayNotBeSimplified=!0,e;if("node_const"==i.type&&"node_const"==n.type)return i.value*=n.value,i;if("node_const"==i.type&&"node_op"==n.type&&("op_mul"==n.value||"op_div"==n.value)&&"node_const"==n.children[0].type)return n.children[0].value*=i.value,n;if(i.hash=this.parser.compile(i),n.hash=this.parser.compile(n),i.hash===n.hash)return e.value="op_exp",e.children[1]=this.createNode("node_const",2),e;if("node_const"==i.type&&"node_op"==n.type&&("op_mul"==n.value||"op_div"==n.value)&&"node_const"==n.children[0].type)return n.children[0].value*=i.value,n;if("node_op"==n.type&&"op_exp"==n.value&&(i.hash||(i.hash=this.parser.compile(i)),n.children[0].hash||(n.children[0].hash=this.parser.compile(n.children[0])),i.hash===n.children[0].hash))return n.children[1]=this.createNode("node_op","op_add",n.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,n;if("node_op"==i.type&&"op_exp"==i.value&&"node_op"==n.type&&"op_exp"==n.value&&(i.children[0].hash=this.parser.compile(i.children[0]),n.children[0].hash=this.parser.compile(n.children[0]),i.children[0].hash===n.children[0].hash))return i.children[1]=this.createNode("node_op","op_add",i.children[1],n.children[1]),this.mayNotBeSimplified=!0,i;break;case"op_sub":if(i=e.children[0],n=e.children[1],"node_const"==i.type&&0===i.value)return e.value="op_neg",e.children[0]=n,e;if("node_const"==n.type&&0===n.value)return i;if("node_const"==i.type&&"node_const"==n.type&&i.value==n.value)return this.createNode("node_const",0);if("node_var"==i.type&&"node_var"==n.type&&i.value==n.value)return this.createNode("node_const",0);if("node_const"==i.type&&"node_const"==n.type)return i.value-=n.value,i;if("node_op"==i.type&&"op_mul"==i.value&&"node_op"==n.type&&"op_mul"==n.value&&(i.children[1].hash=this.parser.compile(i.children[1]),n.children[1].hash=this.parser.compile(n.children[1]),i.children[1].hash===n.children[1].hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",i.children[0],n.children[0]),i.children[1]],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_mul"==i.value&&(i.children[1].hash=this.parser.compile(i.children[1]),n.hash=this.parser.compile(n),i.children[1].hash===n.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",i.children[0],this.createNode("node_const",1)),n],this.mayNotBeSimplified=!0,e;if("node_op"==n.type&&"op_mul"==n.value&&(n.children[1].hash=this.parser.compile(n.children[1]),i.hash=this.parser.compile(i),n.children[1].hash===i.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_sub",this.createNode("node_const",1),n.children[0]),i],this.mayNotBeSimplified=!0,e;break;case"op_neg":if("node_const"==(i=e.children[0]).type&&0===i.value)return i;if("node_op"==i.type&&"op_neg"==i.value)return i.children[0];break;case"op_div":if(i=e.children[0],n=e.children[1],"node_const"==i.type&&"node_const"==n.type&&i.value==n.value&&0!==i.value)return i.value=1,i;if("node_const"==i.type&&0===i.value&&"node_const"==n.type&&0!==n.value)return i.value=0,i;if("node_const"==i.type&&0===i.value&&("node_op"==n.type||"node_var"==n.type))return e.type="node_const",e.value=0,e;if("node_var"==i.type&&"node_var"==n.type&&i.value==n.value)return this.createNode("node_const",1);if("node_const"==i.type&&0!==i.value&&"node_const"==n.type&&0===n.value)return i.value>0?i.value=1/0:i.value=-1/0,i;if("node_op"==i.type&&"op_neg"==i.value&&"node_op"==n.type&&"op_neg"==n.value)return e.children=[i.children[0],n.children[0]],this.mayNotBeSimplified=!0,e;if("op_neg"==i.value&&"op_neg"!=n.value)return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_div",i.children[0],n)],this.mayNotBeSimplified=!0,e;if("op_neg"!=i.value&&"op_neg"==n.value)return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_op","op_div",i,n.children[0])],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_exp"==i.value&&(n.hash||(n.hash=this.parser.compile(n)),i.children[0].hash||(i.children[0].hash=this.parser.compile(i.children[0])),n.hash===i.children[0].hash))return i.children[1]=this.createNode("node_op","op_sub",i.children[1],this.createNode("node_const",1)),this.mayNotBeSimplified=!0,i;if("node_const"!=n.type&&"node_op"==i.type&&"op_mul"==i.value&&"node_const"==i.children[0].type)return e.value="op_mul",e.children=[i.children[0],this.createNode("node_op","op_div",i.children[1],n)],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_exp"==i.value&&"node_op"==n.type&&"op_exp"==n.value&&(i.children[0].hash=this.parser.compile(i.children[0]),n.children[0].hash=this.parser.compile(n.children[0]),i.children[0].hash===n.children[0].hash))return i.children[1]=this.createNode("node_op","op_sub",i.children[1],n.children[1]),this.mayNotBeSimplified=!0,i;break;case"op_exp":if(i=e.children[0],"node_const"==(n=e.children[1]).type&&0===n.value)return n.value=1,n;if("node_const"==n.type&&1==n.value)return i;if("node_const"==i.type&&1==i.value)return i;if("node_const"==i.type&&0===i.value&&"node_const"==n.type&&0!==n.value)return i;if("node_op"==i.type&&"op_exp"==i.value)return e.children=[i.children[0],this.createNode("node_op","op_mul",i.children[1],n)],e}switch(e.value){case"op_add":if(i=e.children[0],n=e.children[1],"node_const"==i.type&&"node_const"==n.type&&i.value==n.value)return i.value+=n.value,i;if("node_var"==i.type&&"node_var"==n.type&&i.value==n.value)return e.children[0]=this.createNode("node_const",2),e.value="op_mul",e;if("node_op"==i.type&&"op_neg"==i.value)return e.value="op_sub",e.children[0]=n,e.children[1]=i.children[0],this.mayNotBeSimplified=!0,e;if("node_op"==n.type&&"op_neg"==n.value)return e.value="op_sub",e.children[1]=n.children[0],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_mul"==i.value&&"node_op"==n.type&&"op_mul"==n.value&&(i.children[1].hash=this.parser.compile(i.children[1]),n.children[1].hash=this.parser.compile(n.children[1]),i.children[1].hash===n.children[1].hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",i.children[0],n.children[0]),i.children[1]],this.mayNotBeSimplified=!0,e;if("node_op"==i.type&&"op_mul"==i.value&&(i.children[1].hash=this.parser.compile(i.children[1]),n.hash=this.parser.compile(n),i.children[1].hash===n.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",i.children[0],this.createNode("node_const",1)),n],this.mayNotBeSimplified=!0,e;if("node_op"==n.type&&"op_mul"==n.value&&(n.children[1].hash=this.parser.compile(n.children[1]),i.hash=this.parser.compile(i),n.children[1].hash===i.hash))return e.value="op_mul",e.children=[this.createNode("node_op","op_add",this.createNode("node_const",1),n.children[0]),i],this.mayNotBeSimplified=!0,e;break;case"op_sub":if(i=e.children[0],"node_op"==(n=e.children[1]).type&&"op_neg"==n.value)return e.value="op_add",e.children[1]=n.children[0],this.mayNotBeSimplified=!0,e;break;case"op_execfun":return this.simplifyElementary(e)}return e},simplifyElementary:function(e){var t=e.children[0].value,r=e.children[1];if(0==r.length)return e;switch(t){case"sin":case"tan":if("node_const"==r[0].type&&0===r[0].value)return e.type="node_const",e.value=0,e;if("node_var"==r[0].type&&"PI"==r[0].value)return e.type="node_const",e.value=0,e;if("node_op"==r[0].type&&"op_mul"==r[0].value&&"node_const"==r[0].children[0].type&&r[0].children[0].value%1==0&&"node_var"==r[0].children[1].type&&"PI"==r[0].children[1].value)return e.type="node_const",e.value=0,e;break;case"cos":if("node_const"==r[0].type&&0===r[0].value)return e.type="node_const",e.value=1,e;if("node_var"==r[0].type&&"PI"==r[0].value)return e.type="node_op",e.value="op_neg",e.children=[this.createNode("node_const",1)],e;break;case"exp":if("node_const"==r[0].type&&0===r[0].value)return e.type="node_const",e.value=1,e;break;case"pow":if("node_const"==r[1].type&&0===r[1].value)return e.type="node_const",e.value=1,e}return e}}),e.CA})),define("utils/dump",["jxg","utils/type"],(function(e,t){"use strict";return e.Dump={addMarkers:function(e,r,i){var n,o,s;for(n in t.isArray(r)||(r=[r]),t.isArray(i)||(i=[i]),o=Math.min(r.length,i.length),r.length=o,i.length=o,e.objects)if(e.objects.hasOwnProperty(n))for(s=0;s<o;s++)e.objects[n][r[s]]=i[s]},deleteMarkers:function(e,r){var i,n,o;for(i in t.isArray(r)||(r=[r]),n=r.length,r.length=n,e.objects)if(e.objects.hasOwnProperty(i))for(o=0;o<n;o++)delete e.objects[i][r[o]]},str:function(e){return"string"==typeof e&&"function"!==e.substr(0,7)&&(e='"'+e+'"'),e},minimizeObject:function(r,i){var n,o,s,a={},l=t.deepCopy(r),c=[];for(s=1;s<arguments.length;s++)c.push(arguments[s]);for(a=t.deepCopy(a,e.Options.elements,!0),s=c.length;s>0;s--)a=t.deepCopy(a,c[s-1],!0);for(n in a)a.hasOwnProperty(n)&&(o=n.toLowerCase(),"object"!=typeof a[n]&&a[n]===l[o]&&delete l[o]);return l},prepareAttributes:function(t,r){var i,n;for(n in i=this.minimizeObject(r.getAttributes(),e.Options[r.elType]),r.subs)r.subs.hasOwnProperty(n)&&(i[n]=this.minimizeObject(r.subs[n].getAttributes(),e.Options[r.elType][n],e.Options[r.subs[n].elType]),i[n].id=r.subs[n].id,i[n].name=r.subs[n].name);return i.id=r.id,i.name=r.name,i},setBoundingBox:function(e,t,r){return e.push({obj:r,method:"setBoundingBox",params:[t.getBoundingBox(),t.keepaspectratio]}),e},dump:function(e){var r,i,n,o,s=[],a=[],l=e.objectsList.length;for(this.addMarkers(e,"dumped",!1),r=0;r<l;r++)if(n={},!(i=e.objectsList[r]).dumped&&i.dump){for(n.type=i.getType(),n.parents=i.getParents().slice(),"point"===n.type&&1===n.parents[0]&&(n.parents=n.parents.slice(1)),o=0;o<n.parents.length;o++)t.isString(n.parents[o])&&"'"!==n.parents[o][0]&&'"'!==n.parents[o][0]?n.parents[o]='"'+n.parents[o]+'"':t.isArray(n.parents[o])&&(n.parents[o]="["+n.parents[o].toString()+"]");n.attributes=this.prepareAttributes(e,i),"glider"===n.type&&i.onPolygon&&s.push({obj:i.id,prop:"onPolygon",val:!0}),a.push(n)}return this.deleteMarkers(e,"dumped"),{elements:a,props:s,methods:[]}},arrayToParamStr:function(e,t){var r,i=[];for(r=0;r<e.length;r++)i.push(t.call(this,e[r]));return i.join(", ")},toJCAN:function(e){var r,i,n;switch(typeof e){case"object":if(e){if(i=[],t.isArray(e)){for(r=0;r<e.length;r++)i.push(this.toJCAN(e[r]));return"["+i.join(",")+"]"}for(n in e)e.hasOwnProperty(n)&&i.push(n+": "+this.toJCAN(e[n]));return"<<"+i.join(", ")+">> "}return"null";case"string":return"'"+e.replace(/\\/g,"\\\\").replace(/(["'])/g,"\\$1")+"'";case"number":case"boolean":return e.toString();case"null":return"null"}},toJessie:function(e){var t,r,i,n=this.dump(e),o=[];for(n.methods=this.setBoundingBox(n.methods,e,"$board"),r=n.elements,t=0;t<r.length;t++)r[t].attributes.name.length>0&&o.push("// "+r[t].attributes.name),o.push("s"+t+" = "+r[t].type+"("+r[t].parents.join(", ")+") "+this.toJCAN(r[t].attributes).replace(/\n/,"\\n")+";"),"axis"===r[t].type&&(i=r[t].attributes.id,null===e.objects[i].defaultTicks&&o.push("s"+t+".removeAllTicks();")),o.push("");for(t=0;t<n.methods.length;t++)o.push(n.methods[t].obj+"."+n.methods[t].method+"("+this.arrayToParamStr(n.methods[t].params,this.toJCAN)+");"),o.push("");for(t=0;t<n.props.length;t++)o.push(n.props[t].obj+"."+n.props[t].prop+" = "+this.toJCAN(n.props[t].val)+";"),o.push("");return o.join("\n")},toJavaScript:function(e){var r,i,n,o=this.dump(e),s=[];for(o.methods=this.setBoundingBox(o.methods,e,"board"),i=o.elements,r=0;r<i.length;r++)s.push('board.create("'+i[r].type+'", ['+i[r].parents.join(", ")+"], "+t.toJSON(i[r].attributes)+");"),"axis"===i[r].type&&(n=i[r].attributes.id,null===e.objects[n].defaultTicks&&s.push('board.objects["'+n+'"].removeTicks(board.objects["'+n+'"].defaultTicks);'));for(r=0;r<o.methods.length;r++)s.push(o.methods[r].obj+"."+o.methods[r].method+"("+this.arrayToParamStr(o.methods[r].params,t.toJSON)+");"),s.push("");for(r=0;r<o.props.length;r++)s.push(o.props[r].obj+"."+o.props[r].prop+" = "+t.toJSON(o.props[r].val)+";"),s.push("");return s.join("\n")}},e.Dump})),define("element/comb",["jxg","utils/type","base/point"],(function(e,t,r){"use strict";return e.createComb=function(e,i,n){var o,s,a,l,c;if(2!==i.length)throw c=i.map((function(e){return"'"+typeof e+"'"})),new Error("JSXGraph: Can't create comb with parent types "+c.join(", ")+".\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");if(t.isArray(i[0])&&i[0].length>1)l=t.copyAttributes(n,e.options,"comb","point1"),o=e.create("point",i[0],l);else if(t.isString(i[0])||t.isPoint(i[0]))o=e.select(i[0]);else if(t.isFunction(i[0])&&t.isPoint(i[0]()))o=i[0]();else{if(!(t.isFunction(i[0])&&i[0]().length&&i[0]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");l=t.copyAttributes(n,e.options,"comb","point1"),o=r.createPoint(e,i[0](),l)}if(t.isArray(i[1])&&i[1].length>1)l=t.copyAttributes(n,e.options,"comb","point2"),s=e.create("point",i[1],l);else if(t.isString(i[1])||t.isPoint(i[1]))s=e.select(i[1]);else if(t.isFunction(i[1])&&t.isPoint(i[1]()))s=i[1]();else{if(!(t.isFunction(i[1])&&i[1]().length&&i[1]().length>=2))throw new Error("JSXGraph: Can't create comb with parent types '"+typeof i[0]+"' and '"+typeof i[1]+"'.\nPossible parent types: [point,point], [[x1,y1],[x2,y2]]");l=t.copyAttributes(n,e.options,"comb","point2"),s=r.createPoint(e,i[1](),l)}return l=t.copyAttributes(n,e.options,"comb"),t.merge(l,t.copyAttributes(n,e.options,"comb","curve")),(a=e.create("curve",[[0],[0]],l)).updateDataArray=function(){var e,r,i,n,l,c,u,h,d,p,f=0,v=o.Dist(s),m=o,g=s;for(h=t.evaluate(a.visProp.frequency),d=-t.evaluate(a.visProp.angle),p=t.evaluate(a.visProp.width),t.evaluate(a.visProp.reverse)&&(m=s,g=o,d=-d),e=Math.cos(d),r=Math.sin(d),i=(g.X()-m.X())/v,n=(g.Y()-m.Y())/v,e*=p/Math.abs(r),r*=p/Math.abs(r),this.dataX=[],this.dataY=[];f<v;)l=m.X()+i*f,c=m.Y()+n*f,r*=u=Math.min(e,v-f)/Math.abs(e),e*=u,this.dataX.push(l),this.dataY.push(c),this.dataX.push(l+i*e+n*r),this.dataY.push(c-i*r+n*e),this.dataX.push(NaN),this.dataY.push(NaN),f+=h},a},e.registerElement("comb",e.createComb),{createComb:e.createComb}})),define("element/slopetriangle",["jxg","utils/type","base/constants","base/polygon"],(function(e,t,r,i){"use strict";var n=function(){i.Polygon.prototype.remove.call(this),this.board.removeObject(this.toppoint),this.board.removeObject(this.glider),this.board.removeObject(this.baseline),this.board.removeObject(this.basepoint),this.board.removeObject(this.label),this._isPrivateTangent&&this.board.removeObject(this.tangent)},o=function(){return this.tangent.getSlope()};return e.createSlopeTriangle=function(i,s,a){var l,c,u,h,d,p,f,v,m,g=!1;if(1===s.length&&s[0].type===r.OBJECT_TYPE_TANGENT)c=s[0],u=c.glider;else if(1===s.length&&s[0].type===r.OBJECT_TYPE_GLIDER)u=s[0],m=t.copyAttributes(a,i.options,"slopetriangle","tangent"),c=i.create("tangent",[u],m),g=!0;else{if(2!==s.length||s[0].elementClass!==r.OBJECT_CLASS_LINE||!t.isPoint(s[1]))throw new Error("JSXGraph: Can't create slope triangle with parent types '"+typeof s[0]+"'.");c=s[0],u=s[1]}return m=t.copyAttributes(a,i.options,"slopetriangle","basepoint"),f=i.create("point",[function(){return[u.X()+1,u.Y()]}],m),m=t.copyAttributes(a,i.options,"slopetriangle","baseline"),p=i.create("line",[u,f],m),m=t.copyAttributes(a,i.options,"slopetriangle","glider"),h=i.create("glider",[u.X()+1,u.Y(),p],m),m=t.copyAttributes(a,i.options,"slopetriangle","toppoint"),d=i.create("point",[function(){return[h.X(),h.Y()+(h.X()-u.X())*c.getSlope()]}],m),(m=t.copyAttributes(a,i.options,"slopetriangle")).borders=t.copyAttributes(m.borders,i.options,"slopetriangle","borders"),(l=i.create("polygon",[u,h,d],m)).Value=o,l.tangent=c,l._isPrivateTangent=g,l.borders[2].setArrow(!1,!1),m=t.copyAttributes(a,i.options,"slopetriangle","label"),(v=i.create("text",[function(){return h.X()+.1},function(){return.5*(h.Y()+d.Y())},function(){return""}],m))._setText((function(){return t.toFixed(l.Value(),t.evaluate(v.visProp.digits))})),v.fullUpdate(),l.glider=h,l.basepoint=f,l.baseline=p,l.toppoint=d,l.label=v,l.subs={glider:h,basePoint:f,baseLine:p,topPoint:d,label:v},l.inherits.push(h,f,p,d,v),l.methodMap=e.deepCopy(l.methodMap,{tangent:"tangent",glider:"glider",basepoint:"basepoint",baseline:"baseline",toppoint:"toppoint",label:"label",Value:"Value",V:"Value"}),l.remove=n,l},e.registerElement("slopetriangle",e.createSlopeTriangle),{createSlopeTriangle:e.createSlopeTriangle}})),define("element/checkbox",["jxg","utils/env","utils/type"],(function(e,t,r){"use strict";var i=function(){this._value=this.rendNodeCheckbox.checked,this.board.update()};return e.createCheckbox=function(n,o,s){var a,l,c=r.copyAttributes(s,n.options,"checkbox");return l=[o[0],o[1],'<span style="display:inline"><input type="checkbox" /><label for=""></label></span>'],(a=n.create("text",l,c)).type=r.OBJECT_TYPE_CHECKBOX,a.rendNodeCheckbox=a.rendNode.childNodes[0].childNodes[0],a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[1],a.rendNodeTag=a.rendNodeCheckbox,a.rendNodeTag.disabled=!!c.disabled,a.rendNodeLabel.innerHTML=o[2],a.rendNodeCheckbox.id=a.rendNode.id+"_checkbox",a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeLabel.setAttribute("for",a.rendNodeCheckbox.id),a.visPropOld.fontsize="0px",n.renderer.updateTextStyle(a,!1),a.rendNodeCheckbox.checked=c.checked,a._value=c.checked,a.Value=function(){return this._value},a.update=function(){return this.needsUpdate&&(e.Text.prototype.update.call(this),this._value=this.rendNodeCheckbox.checked),this},t.addEvent(a.rendNodeCheckbox,"change",i,a),a},e.registerElement("checkbox",e.createCheckbox),{createCheckbox:e.createCheckbox}})),define("element/input",["jxg","utils/env","utils/type"],(function(e,t,r){"use strict";var i=function(e){this._value=this.rendNodeInput.value,this.board.update()};return e.createInput=function(n,o,s){var a,l,c=r.copyAttributes(s,n.options,"input");return l=[o[0],o[1],'<span style="display:inline; white-space:nowrap; padding:0px;"><span></span><input type="text" maxlength="'+c.maxlength+'" style="width:100%"/></span>'],(a=n.create("text",l,c)).type=r.OBJECT_TYPE_INPUT,a.rendNodeLabel=a.rendNode.childNodes[0].childNodes[0],a.rendNodeInput=a.rendNode.childNodes[0].childNodes[1],a.rendNodeLabel.innerHTML=o[3],a.rendNodeInput.value=o[2],a.rendNodeTag=a.rendNodeInput,a.rendNodeTag.disabled=!!c.disabled,a.rendNodeLabel.id=a.rendNode.id+"_label",a.rendNodeInput.id=a.rendNode.id+"_input",a._value=o[2],a.update=function(){return this.needsUpdate&&(e.Text.prototype.update.call(this),this._value=this.rendNodeInput.value),this},a.Value=function(){return this._value},a.set=function(e){return this._value=e,this.rendNodeInput.value=e,this},t.addEvent(a.rendNodeInput,"input",i,a),t.addEvent(a.rendNodeInput,"mousedown",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),t.addEvent(a.rendNodeInput,"touchstart",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),t.addEvent(a.rendNodeInput,"pointerdown",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),a.visPropOld.fontsize="0px",n.renderer.updateTextStyle(a,!1),a},e.registerElement("input",e.createInput),{createInput:e.createInput}})),define("element/button",["jxg","utils/env","utils/type"],(function(e,t,r){"use strict";var i=function(){this._handler&&this._handler(),this.board.update()};return e.createButton=function(n,o,s){var a,l,c=r.copyAttributes(s,n.options,"button");return l=[o[0],o[1],'<button type="button" style="width:100%;"></button>'],(a=n.create("text",l,c)).type=r.OBJECT_TYPE_BUTTON,a.rendNodeButton=a.rendNode.childNodes[0],a.rendNodeButton.id=a.rendNode.id+"_button",a.rendNodeButton.innerHTML=o[2],a.rendNodeTag=a.rendNodeButton,a.rendNodeTag.disabled=!!c.disabled,a.visPropOld.fontsize="0px",n.renderer.updateTextStyle(a,!1),o[3]&&(r.isString(o[3])?(a._jc=new e.JessieCode,a._jc.use(n),a._handler=function(){a._jc.parse(o[3])}):a._handler=o[3]),t.addEvent(a.rendNodeButton,"click",i,a),t.addEvent(a.rendNodeButton,"mousedown",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),t.addEvent(a.rendNodeButton,"touchstart",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),t.addEvent(a.rendNodeButton,"pointerdown",(function(e){r.exists(e.stopPropagation)&&e.stopPropagation()}),a),a},e.registerElement("button",e.createButton),{createButton:e.createButton}})),define("base/foreignobject",["jxg","base/constants","base/coords","base/element","math/math","utils/type","base/coordselement"],(function(e,t,r,i,n,o,s){"use strict";return e.ForeignObject=function(r,i,n,s,a){this.constructor(r,n,t.OBJECT_TYPE_FOREIGNOBJECT,t.OBJECT_CLASS_OTHER),this.element=this.board.select(n.anchor),this.coordsConstructor(i),this._useUserSize=!1,this.size=[1,1],o.exists(a)&&a.length>0&&(this._useUserSize=!0,this.W=o.createFunction(a[0],this.board,""),this.H=o.createFunction(a[1],this.board,""),this.usrSize=[this.W(),this.H()]),this.content=s,this.elType="foreignobject",this.id=this.board.setId(this,"Im"),this.board.renderer.drawForeignObject(this),this.board.finalizeAdding(this),this.methodMap=e.deepCopy(this.methodMap,{addTransformation:"addTransform",trans:"addTransform"})},e.ForeignObject.prototype=new i,o.copyPrototypeMethods(e.ForeignObject,s,"coordsConstructor"),e.extend(e.ForeignObject.prototype,{hasPoint:function(e,i){var s,a,l,c,u,h,d,p,f,v=this.transformations.length;return o.isObject(o.evaluate(this.visProp.precision))?(c=this.board._inputDevice,u=o.evaluate(this.visProp.precision[c])):u=this.board.options.precision.hasPoint,0===v?(s=e-this.coords.scrCoords[1],a=this.coords.scrCoords[2]-i,s>=-(l=u)&&s-this.size[0]<=l&&a>=-l&&a-this.size[1]<=l):(d=[(h=(h=new r(t.COORDS_BY_SCREEN,[e,i],this.board)).usrCoords)[0]-this.span[0][0],h[1]-this.span[0][1],h[2]-this.span[0][2]],0<=(p=(f=n.innerProduct)(d,this.span[1]))&&p<=f(this.span[1],this.span[1])&&0<=(p=f(d,this.span[2]))&&p<=f(this.span[2],this.span[2]))},update:function(e){return this.needsUpdate?(this.updateCoords(e),this.updateSize(),this):this},updateRenderer:function(){return this.updateRendererGeneric("updateForeignObject")},updateSize:function(){var e=[0,0];return this._useUserSize?(this.usrSize=[this.W(),this.H()],this.size=[Math.abs(this.usrSize[0]*this.board.unitX),Math.abs(this.usrSize[1]*this.board.unitY)]):this.rendNode.hasChildNodes()&&(e=this.rendNode.childNodes[0].getBoundingClientRect(),this.size=[e.width,e.height]),this},updateSpan:function(){var e,t,r=this.transformations.length,i=[];if(0===r)this.span=[[this.Z(),this.X(),this.Y()],[this.Z(),this.W(),0],[this.Z(),0,this.H()]];else{for(i[0]=[this.Z(),this.X(),this.Y()],i[1]=[this.Z(),this.X()+this.W(),this.Y()],i[2]=[this.Z(),this.X(),this.Y()+this.H()],e=0;e<r;e++)for(t=0;t<3;t++)i[t]=n.matVecMult(this.transformations[e].matrix,i[t]);for(t=0;t<3;t++)i[t][1]/=i[t][0],i[t][2]/=i[t][0],i[t][0]/=i[t][0];for(t=1;t<3;t++)i[t][0]-=i[0][0],i[t][1]-=i[0][1],i[t][2]-=i[0][2];this.span=i}return this},addTransform:function(e){var t;if(o.isArray(e))for(t=0;t<e.length;t++)this.transformations.push(e[t]);else this.transformations.push(e);return this},getParents:function(){var e=[this.url,[this.Z(),this.X(),this.Y()],this.usrSize];return 0!==this.parents.length&&(e=this.parents),e},setSize:function(e,t){return this.W=o.createFunction(e,this.board,""),this.H=o.createFunction(t,this.board,""),this._useUserSize=!0,this},W:function(){},H:function(){}}),e.createForeignObject=function(t,r,i){var n,a,l=r[0],c=r[1],u=[];if(r.length>=2&&(u=r[2]),n=o.copyAttributes(i,t.options,"foreignobject"),!(a=s.create(e.ForeignObject,t,c,n,l,u)))throw new Error("JSXGraph: Can't create foreignObject with parent types '"+typeof r[0]+"' and '"+typeof r[1]+"'.\nPossible parent types: [string, [x, y], [w, h]], [string, [x, y]], [element,transformation]");return a},e.registerElement("foreignobject",e.createForeignObject),e.registerElement("fo",e.createForeignObject),{ForeignObject:e.ForeignObject,createForeignobject:e.createForeignObject}})),define("../build/core.deps.js",["jxg","utils/env","base/constants","utils/type","utils/xml","utils/event","utils/expect","math/math","math/probfuncs","math/ia","math/extrapolate","math/qdt","math/numerics","math/nlp","math/plot","math/metapost","math/statistics","math/symbolic","math/geometry","math/clip","math/poly","math/complex","renderer/abstract","reader/file","parser/geonext","base/board","options","jsxgraph","base/element","base/coords","base/coordselement","base/point","base/line","base/group","base/circle","element/conic","base/polygon","base/curve","element/arc","element/sector","base/composition","element/composition","element/locus","base/text","base/image","element/slider","element/measure","base/chart","base/transformation","base/turtle","utils/color","base/ticks","utils/zip","utils/base64","utils/uuid","utils/encoding","server/server","parser/datasource","parser/jessiecode","parser/ca","utils/dump","renderer/svg","renderer/vml","renderer/canvas","renderer/no","element/comb","element/slopetriangle","element/checkbox","element/input","element/button","base/foreignobject"],(function(e,t){"use strict";return t.isBrowser?window.JXG=e:t.isNode()?module.exports=e:t.isWebWorker()&&(self.JXG=e),e})),require("../build/core.deps.js")},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"===typeof(__WEBPACK_AMD_DEFINE_FACTORY__=e)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},908:function(e,t,r){var i=r(8136)(r(7009),"DataView");e.exports=i},9676:function(e,t,r){var i=r(5403),n=r(2747),o=r(6037),s=r(4154),a=r(7728);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},8384:function(e,t,r){var i=r(3894),n=r(8699),o=r(4957),s=r(7184),a=r(7109);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},5797:function(e,t,r){var i=r(8136)(r(7009),"Map");e.exports=i},8059:function(e,t,r){var i=r(4086),n=r(9255),o=r(9186),s=r(3423),a=r(3739);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=n,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},8319:function(e,t,r){var i=r(8136)(r(7009),"Promise");e.exports=i},3924:function(e,t,r){var i=r(8136)(r(7009),"Set");e.exports=i},692:function(e,t,r){var i=r(8059),n=r(5774),o=r(1596);function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new i;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=n,s.prototype.has=o,e.exports=s},2854:function(e,t,r){var i=r(8384),n=r(511),o=r(835),s=r(707),a=r(8832),l=r(5077);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},7197:function(e,t,r){var i=r(7009).Symbol;e.exports=i},6219:function(e,t,r){var i=r(7009).Uint8Array;e.exports=i},7091:function(e,t,r){var i=r(8136)(r(7009),"WeakMap");e.exports=i},3665:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},4903:function(e){e.exports=function(e,t){for(var r=-1,i=null==e?0:e.length,n=0,o=[];++r<i;){var s=e[r];t(s,r,e)&&(o[n++]=s)}return o}},7538:function(e,t,r){var i=r(6478),n=r(4963),o=r(3629),s=r(5174),a=r(6800),l=r(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),u=!r&&n(e),h=!r&&!u&&s(e),d=!r&&!u&&!h&&l(e),p=r||u||h||d,f=p?i(e.length,String):[],v=f.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,v))||f.push(m);return f}},8950:function(e){e.exports=function(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}},1705:function(e){e.exports=function(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}},7897:function(e){e.exports=function(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}},7112:function(e,t,r){var i=r(9231);e.exports=function(e,t){for(var r=e.length;r--;)if(i(e[r][0],t))return r;return-1}},7927:function(e,t,r){var i=r(5358),n=r(7056)(i);e.exports=n},5182:function(e,t,r){var i=r(1705),n=r(3529);e.exports=function e(t,r,o,s,a){var l=-1,c=t.length;for(o||(o=n),a||(a=[]);++l<c;){var u=t[l];r>0&&o(u)?r>1?e(u,r-1,o,s,a):i(a,u):s||(a[a.length]=u)}return a}},5099:function(e,t,r){var i=r(372)();e.exports=i},5358:function(e,t,r){var i=r(5099),n=r(2742);e.exports=function(e,t){return e&&i(e,t,n)}},8667:function(e,t,r){var i=r(3082),n=r(9793);e.exports=function(e,t){for(var r=0,o=(t=i(t,e)).length;null!=e&&r<o;)e=e[n(t[r++])];return r&&r==o?e:void 0}},1986:function(e,t,r){var i=r(1705),n=r(3629);e.exports=function(e,t,r){var o=t(e);return n(e)?o:i(o,r(e))}},9066:function(e,t,r){var i=r(7197),n=r(1587),o=r(3581),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?n(e):o(e)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,r){var i=r(9066),n=r(3141);e.exports=function(e){return n(e)&&"[object Arguments]"==i(e)}},1848:function(e,t,r){var i=r(3355),n=r(3141);e.exports=function e(t,r,o,s,a){return t===r||(null==t||null==r||!n(t)&&!n(r)?t!==t&&r!==r:i(t,r,o,s,e,a))}},3355:function(e,t,r){var i=r(2854),n=r(5305),o=r(2206),s=r(8078),a=r(8383),l=r(3629),c=r(5174),u=r(9102),h="[object Arguments]",d="[object Array]",p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,m,g){var b=l(e),y=l(t),_=b?d:a(e),C=y?d:a(t),x=(_=_==h?p:_)==p,w=(C=C==h?p:C)==p,P=_==C;if(P&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(P&&!x)return g||(g=new i),b||u(e)?n(e,t,r,v,m,g):o(e,t,_,r,v,m,g);if(!(1&r)){var S=x&&f.call(e,"__wrapped__"),E=w&&f.call(t,"__wrapped__");if(S||E){var O=S?e.value():e,T=E?t.value():t;return g||(g=new i),m(O,T,r,v,g)}}return!!P&&(g||(g=new i),s(e,t,r,v,m,g))}},8856:function(e,t,r){var i=r(2854),n=r(1848);e.exports=function(e,t,r,o){var s=r.length,a=s,l=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=r[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=r[s])[0],h=e[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var p=new i;if(o)var f=o(h,d,u,e,t,p);if(!(void 0===f?n(d,h,3,o,p):f))return!1}}return!0}},6703:function(e,t,r){var i=r(4786),n=r(257),o=r(8092),s=r(7907),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||n(e))&&(i(e)?d:a).test(s(e))}},8150:function(e,t,r){var i=r(9066),n=r(4635),o=r(3141),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&n(e.length)&&!!s[i(e)]}},6025:function(e,t,r){var i=r(7080),n=r(4322),o=r(2100),s=r(3629),a=r(38);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?n(e[0],e[1]):i(e):a(e)}},3654:function(e,t,r){var i=r(2936),n=r(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return n(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},3849:function(e,t,r){var i=r(7927),n=r(1473);e.exports=function(e,t){var r=-1,o=n(e)?Array(e.length):[];return i(e,(function(e,i,n){o[++r]=t(e,i,n)})),o}},7080:function(e,t,r){var i=r(8856),n=r(9091),o=r(284);e.exports=function(e){var t=n(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(r){return r===e||i(r,e,t)}}},4322:function(e,t,r){var i=r(1848),n=r(6181),o=r(5658),s=r(5823),a=r(5072),l=r(284),c=r(9793);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(r){var s=n(r,e);return void 0===s&&s===t?o(r,e):i(t,s,3)}}},3226:function(e,t,r){var i=r(8950),n=r(8667),o=r(6025),s=r(3849),a=r(9179),l=r(6194),c=r(4480),u=r(2100),h=r(3629);e.exports=function(e,t,r){t=t.length?i(t,(function(e){return h(e)?function(t){return n(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=i(t,l(o));var p=s(e,(function(e,r,n){return{criteria:i(t,(function(t){return t(e)})),index:++d,value:e}}));return a(p,(function(e,t){return c(e,t,r)}))}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,r){var i=r(8667);e.exports=function(e){return function(t){return i(t,e)}}},8794:function(e,t,r){var i=r(2100),n=r(4262),o=r(9156);e.exports=function(e,t){return o(n(e,t,i),e+"")}},7532:function(e,t,r){var i=r(1547),n=r(8528),o=r(2100),s=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=s},9179:function(e){e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},6478:function(e){e.exports=function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}},2446:function(e,t,r){var i=r(7197),n=r(8950),o=r(3629),s=r(152),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return n(t,e)+"";if(s(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,r){var i=r(3629),n=r(5823),o=r(170),s=r(3518);e.exports=function(e,t){return i(e)?e:n(e,t)?[e]:o(s(e))}},8558:function(e,t,r){var i=r(152);e.exports=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,o=e===e,s=i(e),a=void 0!==t,l=null===t,c=t===t,u=i(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!u&&e<t||u&&r&&o&&!n&&!s||l&&r&&o||!a&&o||!c)return-1}return 0}},4480:function(e,t,r){var i=r(8558);e.exports=function(e,t,r){for(var n=-1,o=e.criteria,s=t.criteria,a=o.length,l=r.length;++n<a;){var c=i(o[n],s[n]);if(c)return n>=l?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}},5525:function(e,t,r){var i=r(7009)["__core-js_shared__"];e.exports=i},7056:function(e,t,r){var i=r(1473);e.exports=function(e,t){return function(r,n){if(null==r)return r;if(!i(r))return e(r,n);for(var o=r.length,s=t?o:-1,a=Object(r);(t?s--:++s<o)&&!1!==n(a[s],s,a););return r}}},372:function(e){e.exports=function(e){return function(t,r,i){for(var n=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++n];if(!1===r(o[l],l,o))break}return t}}},8528:function(e,t,r){var i=r(8136),n=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=n},5305:function(e,t,r){var i=r(692),n=r(7897),o=r(75);e.exports=function(e,t,r,s,a,l){var c=1&r,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(e),p=l.get(t);if(d&&p)return d==t&&p==e;var f=-1,v=!0,m=2&r?new i:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var g=e[f],b=t[f];if(s)var y=c?s(b,g,f,t,e,l):s(g,b,f,e,t,l);if(void 0!==y){if(y)continue;v=!1;break}if(m){if(!n(t,(function(e,t){if(!o(m,t)&&(g===e||a(g,e,r,s,l)))return m.push(t)}))){v=!1;break}}else if(g!==b&&!a(g,b,r,s,l)){v=!1;break}}return l.delete(e),l.delete(t),v}},2206:function(e,t,r){var i=r(7197),n=r(6219),o=r(9231),s=r(5305),a=r(234),l=r(2230),c=i?i.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,i,c,h,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new n(e),new n(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var f=1&i;if(p||(p=l),e.size!=t.size&&!f)return!1;var v=d.get(e);if(v)return v==t;i|=2,d.set(e,t);var m=s(p(e),p(t),i,c,h,d);return d.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},8078:function(e,t,r){var i=r(8248),n=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,o,s,a){var l=1&r,c=i(e),u=c.length;if(u!=i(t).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in t:n.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var v=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var g=e[d=c[h]],b=t[d];if(o)var y=l?o(b,g,d,t,e,a):o(g,b,d,e,t,a);if(!(void 0===y?g===b||s(g,b,r,o,a):y)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var _=e.constructor,C=t.constructor;_==C||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof C&&C instanceof C||(v=!1)}return a.delete(e),a.delete(t),v}},1032:function(e,t,r){var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=i},8248:function(e,t,r){var i=r(1986),n=r(5918),o=r(2742);e.exports=function(e){return i(e,o,n)}},2799:function(e,t,r){var i=r(5964);e.exports=function(e,t){var r=e.__data__;return i(t)?r["string"==typeof t?"string":"hash"]:r.map}},9091:function(e,t,r){var i=r(5072),n=r(2742);e.exports=function(e){for(var t=n(e),r=t.length;r--;){var o=t[r],s=e[o];t[r]=[o,s,i(s)]}return t}},8136:function(e,t,r){var i=r(6703),n=r(40);e.exports=function(e,t){var r=n(e,t);return i(r)?r:void 0}},1587:function(e,t,r){var i=r(7197),n=Object.prototype,o=n.hasOwnProperty,s=n.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),r=e[a];try{e[a]=void 0;var i=!0}catch(l){}var n=s.call(e);return i&&(t?e[a]=r:delete e[a]),n}},5918:function(e,t,r){var i=r(4903),n=r(8174),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),(function(t){return o.call(e,t)})))}:n;e.exports=a},8383:function(e,t,r){var i=r(908),n=r(5797),o=r(8319),s=r(3924),a=r(7091),l=r(9066),c=r(7907),u="[object Map]",h="[object Promise]",d="[object Set]",p="[object WeakMap]",f="[object DataView]",v=c(i),m=c(n),g=c(o),b=c(s),y=c(a),_=l;(i&&_(new i(new ArrayBuffer(1)))!=f||n&&_(new n)!=u||o&&_(o.resolve())!=h||s&&_(new s)!=d||a&&_(new a)!=p)&&(_=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,i=r?c(r):"";if(i)switch(i){case v:return f;case m:return u;case g:return h;case b:return d;case y:return p}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,r){var i=r(3082),n=r(4963),o=r(3629),s=r(6800),a=r(4635),l=r(9793);e.exports=function(e,t,r){for(var c=-1,u=(t=i(t,e)).length,h=!1;++c<u;){var d=l(t[c]);if(!(h=null!=e&&r(e,d)))break;e=e[d]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&s(d,u)&&(o(e)||n(e))}},5403:function(e,t,r){var i=r(9620);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,r){var i=r(9620),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},4154:function(e,t,r){var i=r(9620),n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:n.call(t,e)}},7728:function(e,t,r){var i=r(9620);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},3529:function(e,t,r){var i=r(7197),n=r(4963),o=r(3629),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||n(e)||!!(s&&e&&e[s])}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var i=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<r}},3195:function(e,t,r){var i=r(9231),n=r(1473),o=r(6800),s=r(8092);e.exports=function(e,t,r){if(!s(r))return!1;var a=typeof t;return!!("number"==a?n(r)&&o(t,r.length):"string"==a&&t in r)&&i(r[t],e)}},5823:function(e,t,r){var i=r(3629),n=r(152),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!n(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,r){var i=r(5525),n=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!n&&n in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},5072:function(e,t,r){var i=r(8092);e.exports=function(e){return e===e&&!i(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,r){var i=r(7112),n=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=i(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},4957:function(e,t,r){var i=r(7112);e.exports=function(e){var t=this.__data__,r=i(t,e);return r<0?void 0:t[r][1]}},7184:function(e,t,r){var i=r(7112);e.exports=function(e){return i(this.__data__,e)>-1}},7109:function(e,t,r){var i=r(7112);e.exports=function(e,t){var r=this.__data__,n=i(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}},4086:function(e,t,r){var i=r(9676),n=r(8384),o=r(5797);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||n),string:new i}}},9255:function(e,t,r){var i=r(2799);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,r){var i=r(2799);e.exports=function(e){return i(this,e).get(e)}},3423:function(e,t,r){var i=r(2799);e.exports=function(e){return i(this,e).has(e)}},3739:function(e,t,r){var i=r(2799);e.exports=function(e,t){var r=i(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}},234:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,i){r[++t]=[i,e]})),r}},284:function(e){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},4634:function(e,t,r){var i=r(9151);e.exports=function(e){var t=i(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},9620:function(e,t,r){var i=r(8136)(Object,"create");e.exports=i},8836:function(e,t,r){var i=r(2709)(Object.keys,Object);e.exports=i},9494:function(e,t,r){e=r.nmd(e);var i=r(1032),n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,s=o&&o.exports===n&&i.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},4262:function(e,t,r){var i=r(3665),n=Math.max;e.exports=function(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=n(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=r(l),i(e,this,c)}}},7009:function(e,t,r){var i=r(1032),n="object"==typeof self&&self&&self.Object===Object&&self,o=i||n||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},9156:function(e,t,r){var i=r(7532),n=r(3197)(i);e.exports=n},3197:function(e){var t=Date.now;e.exports=function(e){var r=0,i=0;return function(){var n=t(),o=16-(n-i);if(i=n,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},511:function(e,t,r){var i=r(8384);e.exports=function(){this.__data__=new i,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,r){var i=r(8384),n=r(5797),o=r(8059);e.exports=function(e,t){var r=this.__data__;if(r instanceof i){var s=r.__data__;if(!n||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new o(s)}return r.set(e,t),this.size=r.size,this}},170:function(e,t,r){var i=r(4634),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,(function(e,r,i,n){t.push(i?n.replace(o,"$1"):r||e)})),t}));e.exports=s},9793:function(e,t,r){var i=r(152);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},1547:function(e){e.exports=function(e){return function(){return e}}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,r){var i=r(8667);e.exports=function(e,t,r){var n=null==e?void 0:i(e,t);return void 0===n?r:n}},5658:function(e,t,r){var i=r(529),n=r(6417);e.exports=function(e,t){return null!=e&&n(e,t,i)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,r){var i=r(4906),n=r(3141),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return n(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,r){var i=r(4786),n=r(4635);e.exports=function(e){return null!=e&&n(e.length)&&!i(e)}},5174:function(e,t,r){e=r.nmd(e);var i=r(7009),n=r(9488),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;e.exports=l},4786:function(e,t,r){var i=r(9066),n=r(8092);e.exports=function(e){if(!n(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,r){var i=r(9066),n=r(3141);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==i(e)}},9102:function(e,t,r){var i=r(8150),n=r(6194),o=r(9494),s=o&&o.isTypedArray,a=s?n(s):i;e.exports=a},2742:function(e,t,r){var i=r(7538),n=r(3654),o=r(1473);e.exports=function(e){return o(e)?i(e):n(e)}},9151:function(e,t,r){var i=r(8059);function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var i=arguments,n=t?t.apply(this,i):i[0],o=r.cache;if(o.has(n))return o.get(n);var s=e.apply(this,i);return r.cache=o.set(n,s)||o,s};return r.cache=new(n.Cache||i),r}n.Cache=i,e.exports=n},38:function(e,t,r){var i=r(9586),n=r(4084),o=r(5823),s=r(9793);e.exports=function(e){return o(e)?i(s(e)):n(e)}},4286:function(e,t,r){var i=r(5182),n=r(3226),o=r(8794),s=r(3195),a=o((function(e,t){if(null==e)return[];var r=t.length;return r>1&&s(e,t[0],t[1])?t=[]:r>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),n(e,i(t,1),[])}));e.exports=a},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,r){var i=r(2446);e.exports=function(e){return null==e?"":i(e)}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(n){return!1}}()?Object.assign:function(e,o){for(var s,a,l=n(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))r.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var h=0;h<a.length;h++)i.call(s,a[h])&&(l[a[h]]=s[a[h]])}}return l}},4463:function(e,t,r){"use strict";var i=r(2791),n=r(1725),o=r(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},v={};function m(e,t,r,i,n,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,r,i){var n=g.hasOwnProperty(t)?g[t]:null;(null!==n?0===n.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,i){if(null===t||"undefined"===typeof t||function(e,t,r,i){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,i))return!0;if(i)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,n,i)&&(r=null),i||null===n?function(e){return!!p.call(v,e)||!p.call(f,e)&&(d.test(e)?v[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=null===r?3!==n.type&&"":r:(t=n.attributeName,i=n.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(n=n.type)||4===n&&!0===r?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,w=60106,P=60107,S=60108,E=60114,O=60109,T=60110,k=60112,N=60113,M=60120,A=60115,R=60116,L=60121,I=60128,D=60129,j=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var Y=Symbol.for;x=Y("react.element"),w=Y("react.portal"),P=Y("react.fragment"),S=Y("react.strict_mode"),E=Y("react.profiler"),O=Y("react.provider"),T=Y("react.context"),k=Y("react.forward_ref"),N=Y("react.suspense"),M=Y("react.suspense_list"),A=Y("react.memo"),R=Y("react.lazy"),L=Y("react.block"),Y("react.scope"),I=Y("react.opaque.id"),D=Y("react.debug_trace_mode"),j=Y("react.offscreen"),B=Y("react.legacy_hidden")}var z,F="function"===typeof Symbol&&Symbol.iterator;function X(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}function Z(e){if(void 0===z)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var U=!1;function G(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&"string"===typeof l.stack){for(var n=l.stack.split("\n"),o=i.stack.split("\n"),s=n.length-1,a=o.length-1;1<=s&&0<=a&&n[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(n[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||n[s]!==o[a])return"\n"+n[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Z(e):""}function J(e){switch(e.tag){case 5:return Z(e.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 22:return e=G(e.type._render,!1);case 1:return e=G(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case P:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return H(e.type);case L:return H(e._render);case R:t=e._payload,e=e._init;try{return H(e(t))}catch(r){}}return null}function V(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function re(e,t){te(e,t);var r=V(t.value),i=t.type;if(null!=r)"number"===i?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ne(e,t.type,r):t.hasOwnProperty("defaultValue")&&ne(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ne(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oe(e,t){return e=n({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(i&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return n({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function ce(e,t){var r=V(t.value),i=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=i&&(e.defaultValue=""+i)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function be(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function Ce(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function xe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),n=Ce(r,t[r],i);"float"===r&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}Object.keys(ye).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var we=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pe(e,t){if(t){if(we[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Te=null,ke=null;function Ne(e){if(e=rn(e)){if("function"!==typeof Oe)throw Error(s(280));var t=e.stateNode;t&&(t=on(t),Oe(e.stateNode,e.type,t))}}function Me(e){Te?ke?ke.push(e):ke=[e]:Te=e}function Ae(){if(Te){var e=Te,t=ke;if(ke=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Le(e,t,r,i,n){return e(t,r,i,n)}function Ie(){}var De=Re,je=!1,Be=!1;function Ye(){null===Te&&null===ke||(Ie(),Ae())}function ze(e,t){var r=e.stateNode;if(null===r)return null;var i=on(r);if(null===i)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Fe=!1;if(h)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch(me){Fe=!1}function Ze(e,t,r,i,n,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Ue=!1,Ge=null,Je=!1,He=null,Ve={onError:function(e){Ue=!0,Ge=e}};function qe(e,t,r,i,n,o,s,a,l){Ue=!1,Ge=null,Ze.apply(Ve,arguments)}function We(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(We(e)!==e)throw Error(s(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(i=n.return)){r=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return Ke(n),e;if(o===i)return Ke(n),t;o=o.sibling}throw Error(s(188))}if(r.return!==i.return)r=n,i=o;else{for(var a=!1,l=n.child;l;){if(l===r){a=!0,r=n,i=o;break}if(l===i){a=!0,i=n,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,i=n;break}if(l===i){a=!0,i=o,r=n;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==i)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,it,nt,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,ht=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,r,i,n){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:n,targetContainers:[i]}}function vt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,r,i,n,o){return null===e||e.nativeEvent!==o?(e=ft(t,r,i,n,o),null!==t&&(null!==(t=rn(t))&&rt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function gt(e){var t=tn(e.target);if(null!==t){var r=We(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=$e(r)))return e.blockedOn=t,void nt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){it(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=rn(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function yt(e,t,r){bt(e)&&r.delete(t)}function _t(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=rn(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&bt(at)&&(at=null),null!==lt&&bt(lt)&&(lt=null),null!==ct&&bt(ct)&&(ct=null),ut.forEach(yt),ht.forEach(yt)}function Ct(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function xt(e){function t(t){return Ct(t,e)}if(0<st.length){Ct(st[0],e);for(var r=1;r<st.length;r++){var i=st[r];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==at&&Ct(at,e),null!==lt&&Ct(lt,e),null!==ct&&Ct(ct,e),ut.forEach(t),ht.forEach(t),r=0;r<dt.length;r++)(i=dt[r]).blockedOn===e&&(i.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)gt(r),null===r.blockedOn&&dt.shift()}function wt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pt={animationend:wt("Animation","AnimationEnd"),animationiteration:wt("Animation","AnimationIteration"),animationstart:wt("Animation","AnimationStart"),transitionend:wt("Transition","TransitionEnd")},St={},Et={};function Ot(e){if(St[e])return St[e];if(!Pt[e])return e;var t,r=Pt[e];for(t in r)if(r.hasOwnProperty(t)&&t in Et)return St[e]=r[t];return e}h&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete Pt.animationend.animation,delete Pt.animationiteration.animation,delete Pt.animationstart.animation),"TransitionEvent"in window||delete Pt.transitionend.transition);var Tt=Ot("animationend"),kt=Ot("animationiteration"),Nt=Ot("animationstart"),Mt=Ot("transitionend"),At=new Map,Rt=new Map,Lt=["abort","abort",Tt,"animationEnd",kt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Mt,"transitionEnd","waiting","waiting"];function It(e,t){for(var r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];n="on"+(n[0].toUpperCase()+n.slice(1)),Rt.set(i,t),At.set(i,n),c(n,[i])}}(0,o.unstable_now)();var Dt=8;function jt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Bt(e,t){var r=e.pendingLanes;if(0===r)return Dt=0;var i=0,n=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)i=o,n=Dt=15;else if(0!==(o=134217727&r)){var l=o&~s;0!==l?(i=jt(l),n=Dt):0!==(a&=o)&&(i=jt(a),n=Dt)}else 0!==(o=r&~s)?(i=jt(o),n=Dt):0!==a&&(i=jt(a),n=Dt);if(0===i)return 0;if(i=r&((0>(i=31-Ut(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&s)){if(jt(t),n<=Dt)return t;Dt=n}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)n=1<<(r=31-Ut(t)),i|=e[r],t&=~n;return i}function Yt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function zt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ft(24&~t))?zt(10,t):e;case 10:return 0===(e=Ft(192&~t))?zt(8,t):e;case 8:return 0===(e=Ft(3584&~t))&&(0===(e=Ft(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ft(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ft(e){return e&-e}function Xt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zt(e,t,r){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Ut(t)]=r}var Ut=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Gt(e)/Jt|0)|0},Gt=Math.log,Jt=Math.LN2;var Ht=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,qt=!0;function Wt(e,t,r,i){je||Ie();var n=Kt,o=je;je=!0;try{Le(n,e,t,r,i)}finally{(je=o)||Ye()}}function $t(e,t,r,i){Vt(Ht,Kt.bind(null,e,t,r,i))}function Kt(e,t,r,i){var n;if(qt)if((n=0===(4&t))&&0<st.length&&-1<pt.indexOf(e))e=ft(null,e,t,r,i),st.push(e);else{var o=Qt(e,t,r,i);if(null===o)n&&vt(e,i);else{if(n){if(-1<pt.indexOf(e))return e=ft(o,e,t,r,i),void st.push(e);if(function(e,t,r,i,n){switch(t){case"focusin":return at=mt(at,e,t,r,i,n),!0;case"dragenter":return lt=mt(lt,e,t,r,i,n),!0;case"mouseover":return ct=mt(ct,e,t,r,i,n),!0;case"pointerover":var o=n.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,r,i,n)),!0;case"gotpointercapture":return o=n.pointerId,ht.set(o,mt(ht.get(o)||null,e,t,r,i,n)),!0}return!1}(o,e,t,r,i))return;vt(e,i)}Li(e,t,i,null,r)}}}function Qt(e,t,r,i){var n=Ee(i);if(null!==(n=tn(n))){var o=We(n);if(null===o)n=null;else{var s=o.tag;if(13===s){if(null!==(n=$e(o)))return n;n=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Li(e,t,i,n,r),null}var er=null,tr=null,rr=null;function ir(){if(rr)return rr;var e,t,r=tr,i=r.length,n="value"in er?er.value:er.textContent,o=n.length;for(e=0;e<i&&r[e]===n[e];e++);var s=i-e;for(t=1;t<=s&&r[i-t]===n[o-t];t++);return rr=n.slice(e,1<t?1-t:void 0)}function nr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function sr(){return!1}function ar(e){function t(t,r,i,n,o){for(var s in this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=n,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(n):n[s]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?or:sr,this.isPropagationStopped=sr,this}return n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var lr,cr,ur,hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=ar(hr),pr=n({},hr,{view:0,detail:0}),fr=ar(pr),vr=n({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&"mousemove"===e.type?(lr=e.screenX-ur.screenX,cr=e.screenY-ur.screenY):cr=lr=0,ur=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),mr=ar(vr),gr=ar(n({},vr,{dataTransfer:0})),br=ar(n({},pr,{relatedTarget:0})),yr=ar(n({},hr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=n({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cr=ar(_r),xr=ar(n({},hr,{data:0})),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Er(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Or(){return Er}var Tr=n({},pr,{key:function(e){if(e.key){var t=wr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return"keypress"===e.type?nr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kr=ar(Tr),Nr=ar(n({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mr=ar(n({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),Ar=ar(n({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=n({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lr=ar(Rr),Ir=[9,13,27,32],Dr=h&&"CompositionEvent"in window,jr=null;h&&"documentMode"in document&&(jr=document.documentMode);var Br=h&&"TextEvent"in window&&!jr,Yr=h&&(!Dr||jr&&8<jr&&11>=jr),zr=String.fromCharCode(32),Fr=!1;function Xr(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var Gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gr[e.type]:"textarea"===t}function Hr(e,t,r,i){Me(i),0<(t=Di(t,"onChange")).length&&(r=new dr("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Vr=null,qr=null;function Wr(e){Ti(e,0)}function $r(e){if($(nn(e)))return e}function Kr(e,t){if("change"===e)return t}var Qr=!1;if(h){var ei;if(h){var ti="oninput"in document;if(!ti){var ri=document.createElement("div");ri.setAttribute("oninput","return;"),ti="function"===typeof ri.oninput}ei=ti}else ei=!1;Qr=ei&&(!document.documentMode||9<document.documentMode)}function ii(){Vr&&(Vr.detachEvent("onpropertychange",ni),qr=Vr=null)}function ni(e){if("value"===e.propertyName&&$r(qr)){var t=[];if(Hr(t,qr,e,Ee(e)),e=Wr,je)e(t);else{je=!0;try{Re(e,t)}finally{je=!1,Ye()}}}}function oi(e,t,r){"focusin"===e?(ii(),qr=r,(Vr=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ii()}function si(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(qr)}function ai(e,t){if("click"===e)return $r(t)}function li(e,t){if("input"===e||"change"===e)return $r(t)}var ci="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ui=Object.prototype.hasOwnProperty;function hi(e,t){if(ci(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++)if(!ui.call(t,r[i])||!ci(e[r[i]],t[r[i]]))return!1;return!0}function di(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pi(e,t){var r,i=di(e);for(e=0;i;){if(3===i.nodeType){if(r=e+i.textContent.length,e<=t&&r>=t)return{node:i,offset:t-e};e=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=di(i)}}function fi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(i){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function mi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gi=h&&"documentMode"in document&&11>=document.documentMode,bi=null,yi=null,_i=null,Ci=!1;function xi(e,t,r){var i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Ci||null==bi||bi!==K(i)||("selectionStart"in(i=bi)&&mi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},_i&&hi(_i,i)||(_i=i,0<(i=Di(yi,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=bi)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Lt,2);for(var wi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Pi=0;Pi<wi.length;Pi++)Rt.set(wi[Pi],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ei=new Set("cancel close invalid load scroll toggle".split(" ").concat(Si));function Oi(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,i,n,o,a,l,c){if(qe.apply(this,arguments),Ue){if(!Ue)throw Error(s(198));var u=Ge;Ue=!1,Ge=null,Je||(Je=!0,He=u)}}(i,t,void 0,e),e.currentTarget=null}function Ti(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&n.isPropagationStopped())break e;Oi(n,a,c),o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&n.isPropagationStopped())break e;Oi(n,a,c),o=l}}}if(Je)throw e=He,Je=!1,He=null,e}function ki(e,t){var r=sn(t),i=e+"__bubble";r.has(i)||(Ri(t,e,2,!1),r.add(i))}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Mi(e){e[Ni]||(e[Ni]=!0,a.forEach((function(t){Ei.has(t)||Ai(t,!1,e,null),Ai(t,!0,e,null)})))}function Ai(e,t,r,i){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==i&&!t&&Ei.has(e)){if("scroll"!==e)return;n|=2,o=i}var s=sn(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(n|=4),Ri(o,e,n,t),s.add(a))}function Ri(e,t,r,i){var n=Rt.get(t);switch(void 0===n?2:n){case 0:n=Wt;break;case 1:n=$t;break;default:n=Kt}r=n.bind(null,t,r,e),n=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),i?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Li(e,t,r,i,n){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;s=s.return}for(;null!==a;){if(null===(s=tn(a)))return;if(5===(l=s.tag)||6===l){i=o=s;continue e}a=a.parentNode}}i=i.return}!function(e,t,r){if(Be)return e(t,r);Be=!0;try{De(e,t,r)}finally{Be=!1,Ye()}}((function(){var i=o,n=Ee(r),s=[];e:{var a=At.get(e);if(void 0!==a){var l=dr,c=e;switch(e){case"keypress":if(0===nr(r))break e;case"keydown":case"keyup":l=kr;break;case"focusin":c="focus",l=br;break;case"focusout":c="blur",l=br;break;case"beforeblur":case"afterblur":l=br;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mr;break;case Tt:case kt:case Nt:l=yr;break;case Mt:l=Ar;break;case"scroll":l=fr;break;case"wheel":l=Lr;break;case"copy":case"cut":case"paste":l=Cr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nr}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=i;null!==f;){var v=(p=f).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==d&&(null!=(v=ze(f,d))&&u.push(Ii(f,v,p)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,r,n),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=r.relatedTarget||r.fromElement)||!tn(c)&&!c[Qi])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=r.relatedTarget||r.toElement)?tn(c):null)&&(c!==(h=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=mr,v="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nr,v="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:nn(l),p=null==c?a:nn(c),(a=new u(v,f+"leave",l,r,n)).target=h,a.relatedTarget=p,v=null,tn(n)===i&&((u=new u(d,f+"enter",c,r,n)).target=p,u.relatedTarget=h,v=u),h=v,l&&c)e:{for(d=c,f=0,p=u=l;p;p=ji(p))f++;for(p=0,v=d;v;v=ji(v))p++;for(;0<f-p;)u=ji(u),f--;for(;0<p-f;)d=ji(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=ji(u),d=ji(d)}u=null}else u=null;null!==l&&Bi(s,a,l,u,!1),null!==c&&null!==h&&Bi(s,h,c,u,!0)}if("select"===(l=(a=i?nn(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Kr;else if(Jr(a))if(Qr)m=li;else{m=si;var g=oi}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ai);switch(m&&(m=m(e,i))?Hr(s,m,r,n):(g&&g(e,a,i),"focusout"===e&&(g=a._wrapperState)&&g.controlled&&"number"===a.type&&ne(a,"number",a.value)),g=i?nn(i):window,e){case"focusin":(Jr(g)||"true"===g.contentEditable)&&(bi=g,yi=i,_i=null);break;case"focusout":_i=yi=bi=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,xi(s,r,n);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":xi(s,r,n)}var b;if(Dr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Ur?Xr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(Yr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==y?"onCompositionEnd"===y&&Ur&&(b=ir()):(tr="value"in(er=n)?er.value:er.textContent,Ur=!0)),0<(g=Di(i,y)).length&&(y=new xr(y,e,null,r,n),s.push({event:y,listeners:g}),b?y.data=b:null!==(b=Zr(r))&&(y.data=b))),(b=Br?function(e,t){switch(e){case"compositionend":return Zr(t);case"keypress":return 32!==t.which?null:(Fr=!0,zr);case"textInput":return(e=t.data)===zr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Dr&&Xr(e,t)?(e=ir(),rr=tr=er=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(i=Di(i,"onBeforeInput")).length&&(n=new xr("onBeforeInput","beforeinput",null,r,n),s.push({event:n,listeners:i}),n.data=b))}Ti(s,t)}))}function Ii(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Di(e,t){for(var r=t+"Capture",i=[];null!==e;){var n=e,o=n.stateNode;5===n.tag&&null!==o&&(n=o,null!=(o=ze(e,r))&&i.unshift(Ii(e,o,n)),null!=(o=ze(e,t))&&i.push(Ii(e,o,n))),e=e.return}return i}function ji(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Bi(e,t,r,i,n){for(var o=t._reactName,s=[];null!==r&&r!==i;){var a=r,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,n?null!=(l=ze(r,o))&&s.unshift(Ii(r,l,a)):n||null!=(l=ze(r,o))&&s.push(Ii(r,l,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}function Yi(){}var zi=null,Fi=null;function Xi(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ui="function"===typeof setTimeout?setTimeout:void 0,Gi="function"===typeof clearTimeout?clearTimeout:void 0;function Ji(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Hi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Vi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var qi=0;var Wi=Math.random().toString(36).slice(2),$i="__reactFiber$"+Wi,Ki="__reactProps$"+Wi,Qi="__reactContainer$"+Wi,en="__reactEvents$"+Wi;function tn(e){var t=e[$i];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Qi]||r[$i]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Vi(e);null!==e;){if(r=e[$i])return r;e=Vi(e)}return t}r=(e=r).parentNode}return null}function rn(e){return!(e=e[$i]||e[Qi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function nn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function on(e){return e[Ki]||null}function sn(e){var t=e[en];return void 0===t&&(t=e[en]=new Set),t}var an=[],ln=-1;function cn(e){return{current:e}}function un(e){0>ln||(e.current=an[ln],an[ln]=null,ln--)}function hn(e,t){ln++,an[ln]=e.current,e.current=t}var dn={},pn=cn(dn),fn=cn(!1),vn=dn;function mn(e,t){var r=e.type.contextTypes;if(!r)return dn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n,o={};for(n in r)o[n]=t[n];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gn(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bn(){un(fn),un(pn)}function yn(e,t,r){if(pn.current!==dn)throw Error(s(168));hn(pn,t),hn(fn,r)}function _n(e,t,r){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return r;for(var o in i=i.getChildContext())if(!(o in e))throw Error(s(108,H(t)||"Unknown",o));return n({},r,i)}function Cn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dn,vn=pn.current,hn(pn,e),hn(fn,fn.current),!0}function xn(e,t,r){var i=e.stateNode;if(!i)throw Error(s(169));r?(e=_n(e,t,vn),i.__reactInternalMemoizedMergedChildContext=e,un(fn),un(pn),hn(pn,e)):un(fn),hn(fn,r)}var wn=null,Pn=null,Sn=o.unstable_runWithPriority,En=o.unstable_scheduleCallback,On=o.unstable_cancelCallback,Tn=o.unstable_shouldYield,kn=o.unstable_requestPaint,Nn=o.unstable_now,Mn=o.unstable_getCurrentPriorityLevel,An=o.unstable_ImmediatePriority,Rn=o.unstable_UserBlockingPriority,Ln=o.unstable_NormalPriority,In=o.unstable_LowPriority,Dn=o.unstable_IdlePriority,jn={},Bn=void 0!==kn?kn:function(){},Yn=null,zn=null,Fn=!1,Xn=Nn(),Zn=1e4>Xn?Nn:function(){return Nn()-Xn};function Un(){switch(Mn()){case An:return 99;case Rn:return 98;case Ln:return 97;case In:return 96;case Dn:return 95;default:throw Error(s(332))}}function Gn(e){switch(e){case 99:return An;case 98:return Rn;case 97:return Ln;case 96:return In;case 95:return Dn;default:throw Error(s(332))}}function Jn(e,t){return e=Gn(e),Sn(e,t)}function Hn(e,t,r){return e=Gn(e),En(e,t,r)}function Vn(){if(null!==zn){var e=zn;zn=null,On(e)}qn()}function qn(){if(!Fn&&null!==Yn){Fn=!0;var e=0;try{var t=Yn;Jn(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Yn=null}catch(r){throw null!==Yn&&(Yn=Yn.slice(e+1)),En(An,Vn),r}finally{Fn=!1}}}var Wn=C.ReactCurrentBatchConfig;function $n(e,t){if(e&&e.defaultProps){for(var r in t=n({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Kn=cn(null),Qn=null,eo=null,to=null;function ro(){to=eo=Qn=null}function io(e){var t=Kn.current;un(Kn),e.type._context._currentValue=t}function no(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function oo(e,t){Qn=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(js=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Qn)throw Error(s(308));eo=t,Qn.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function po(e,t){var r=e.updateQueue,i=e.alternate;if(null!==i&&r===(i=i.updateQueue)){var n=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?n=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?n=o=t:o=o.next=t}else n=o=t;return r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fo(e,t,r,i){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=u:d.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(d=o.baseState,a=0,h=u=c=null;;){l=s.lane;var p=s.eventTime;if((i&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,v=s;switch(l=t,p=r,v.tag){case 1:if("function"===typeof(f=v.payload)){d=f.call(p,d,l);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=v.payload)?f.call(p,d,l):f)||void 0===l)break e;d=n({},d,l);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=p,c=d):h=h.next=p,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Fa|=a,e.lanes=a,e.memoizedState=d}}function vo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(null!==n){if(i.callback=null,i=r,"function"!==typeof n)throw Error(s(191,n));n.call(i)}}}var mo=(new i.Component).refs;function go(e,t,r,i){r=null===(r=r(i,t=e.memoizedState))||void 0===r?t:n({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var bo={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=dl(),n=pl(e),o=uo(i,n);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),ho(e,o),fl(e,n,i)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=dl(),n=pl(e),o=uo(i,n);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),ho(e,o),fl(e,n,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dl(),i=pl(e),n=uo(r,i);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),ho(e,n),fl(e,i,r)}};function yo(e,t,r,i,n,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!hi(r,i)||!hi(n,o))}function _o(e,t,r){var i=!1,n=dn,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(n=gn(t)?vn:pn.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?mn(e,n):dn),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function Co(e,t,r,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs=mo,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?n.context=so(o):(o=gn(t)?vn:pn.current,n.context=mn(e,o)),fo(e,r,n,i),n.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,r),n.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(t=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&bo.enqueueReplaceState(n,n.state,null),fo(e,r,n,i),n.state=e.memoizedState),"function"===typeof n.componentDidMount&&(e.flags|=4)}var wo=Array.isArray;function Po(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var i=r.stateNode}if(!i)throw Error(s(147,e));var n=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===n?t.ref:(t=function(e){var t=i.refs;t===mo&&(t=i.refs={}),null===e?delete t[n]:t[n]=e},t._stringRef=n,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,r){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,i){if(!e)return null;for(;null!==i;)t(r,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Jl(e,t)).index=0,e.sibling=null,e}function o(t,r,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<r?(t.flags=2,r):i:(t.flags=2,r):r}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,r,i){return null===t||6!==t.tag?((t=Wl(r,e.mode,i)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,i){return null!==t&&t.elementType===r.type?((i=n(t,r.props)).ref=Po(e,t,r),i.return=e,i):((i=Hl(r.type,r.key,r.props,null,e.mode,i)).ref=Po(e,t,r),i.return=e,i)}function u(e,t,r,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$l(r,e.mode,i)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function h(e,t,r,i,o){return null===t||7!==t.tag?((t=Vl(r,e.mode,i,o)).return=e,t):((t=n(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Wl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(r=Hl(t.type,t.key,t.props,null,e.mode,r)).ref=Po(e,null,t),r.return=e,r;case w:return(t=$l(t,e.mode,r)).return=e,t}if(wo(t)||X(t))return(t=Vl(t,e.mode,r,null)).return=e,t;So(e,t)}return null}function p(e,t,r,i){var n=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==n?null:l(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return r.key===n?r.type===P?h(e,t,r.props.children,i,n):c(e,t,r,i):null;case w:return r.key===n?u(e,t,r,i):null}if(wo(r)||X(r))return null!==n?null:h(e,t,r,i,null);So(e,r)}return null}function f(e,t,r,i,n){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(r)||null,""+i,n);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return e=e.get(null===i.key?r:i.key)||null,i.type===P?h(t,e,i.props.children,n,i.key):c(t,e,i,n);case w:return u(t,e=e.get(null===i.key?r:i.key)||null,i,n)}if(wo(i)||X(i))return h(t,e=e.get(r)||null,i,n,null);So(t,i)}return null}function v(n,s,a,l){for(var c=null,u=null,h=s,v=s=0,m=null;null!==h&&v<a.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=p(n,h,a[v],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(n,h),s=o(g,s,v),null===u?c=g:u.sibling=g,u=g,h=m}if(v===a.length)return r(n,h),c;if(null===h){for(;v<a.length;v++)null!==(h=d(n,a[v],l))&&(s=o(h,s,v),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(n,h);v<a.length;v++)null!==(m=f(h,n,v,a[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),s=o(m,s,v),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(n,e)})),c}function m(n,a,l,c){var u=X(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,v=a,m=a=0,g=null,b=l.next();null!==v&&!b.done;m++,b=l.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=p(n,v,b.value,c);if(null===y){null===v&&(v=g);break}e&&v&&null===y.alternate&&t(n,v),a=o(y,a,m),null===h?u=y:h.sibling=y,h=y,v=g}if(b.done)return r(n,v),u;if(null===v){for(;!b.done;m++,b=l.next())null!==(b=d(n,b.value,c))&&(a=o(b,a,m),null===h?u=b:h.sibling=b,h=b);return u}for(v=i(n,v);!b.done;m++,b=l.next())null!==(b=f(v,n,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b);return e&&v.forEach((function(e){return t(n,e)})),u}return function(e,i,o,l){var c="object"===typeof o&&null!==o&&o.type===P&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case x:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===P){r(e,c.sibling),(i=n(c,o.props.children)).return=e,e=i;break e}}else if(c.elementType===o.type){r(e,c.sibling),(i=n(c,o.props)).ref=Po(e,c,o),i.return=e,e=i;break e}r(e,c);break}t(e,c),c=c.sibling}o.type===P?((i=Vl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Hl(o.type,o.key,o.props,null,e.mode,l)).ref=Po(e,i,o),l.return=e,e=l)}return a(e);case w:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){r(e,i.sibling),(i=n(i,o.children||[])).return=e,e=i;break e}r(e,i);break}t(e,i),i=i.sibling}(i=$l(o,e.mode,l)).return=e,e=i}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(r(e,i.sibling),(i=n(i,o)).return=e,e=i):(r(e,i),(i=Wl(o,e.mode,l)).return=e,e=i),a(e);if(wo(o))return v(e,i,o,l);if(X(o))return m(e,i,o,l);if(u&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,H(e.type)||"Component"))}return r(e,i)}}var Oo=Eo(!0),To=Eo(!1),ko={},No=cn(ko),Mo=cn(ko),Ao=cn(ko);function Ro(e){if(e===ko)throw Error(s(174));return e}function Lo(e,t){switch(hn(Ao,t),hn(Mo,e),hn(No,ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}un(No),hn(No,t)}function Io(){un(No),un(Mo),un(Ao)}function Do(e){Ro(Ao.current);var t=Ro(No.current),r=fe(t,e.type);t!==r&&(hn(Mo,e),hn(No,r))}function jo(e){Mo.current===e&&(un(No),un(Mo))}var Bo=cn(0);function Yo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=null,Fo=null,Xo=!1;function Zo(e,t){var r=Ul(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Uo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Go(e){if(Xo){var t=Fo;if(t){var r=t;if(!Uo(e,t)){if(!(t=Hi(r.nextSibling))||!Uo(e,t))return e.flags=-1025&e.flags|2,Xo=!1,void(zo=e);Zo(zo,r)}zo=e,Fo=Hi(t.firstChild)}else e.flags=-1025&e.flags|2,Xo=!1,zo=e}}function Jo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zo=e}function Ho(e){if(e!==zo)return!1;if(!Xo)return Jo(e),Xo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zi(t,e.memoizedProps))for(t=Fo;t;)Zo(e,t),t=Hi(t.nextSibling);if(Jo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Fo=Hi(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Fo=null}}else Fo=zo?Hi(e.stateNode.nextSibling):null;return!0}function Vo(){Fo=zo=null,Xo=!1}var qo=[];function Wo(){for(var e=0;e<qo.length;e++)qo[e]._workInProgressVersionPrimary=null;qo.length=0}var $o=C.ReactCurrentDispatcher,Ko=C.ReactCurrentBatchConfig,Qo=0,es=null,ts=null,rs=null,is=!1,ns=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ci(e[r],t[r]))return!1;return!0}function as(e,t,r,i,n,o){if(Qo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Rs:Ls,e=r(i,n),ns){o=0;do{if(ns=!1,!(25>o))throw Error(s(301));o+=1,rs=ts=null,t.updateQueue=null,$o.current=Is,e=r(i,n)}while(ns)}if($o.current=As,t=null!==ts&&null!==ts.next,Qo=0,rs=ts=es=null,is=!1,t)throw Error(s(300));return e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===rs?es.memoizedState=rs=e:rs=rs.next=e,rs}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===rs?es.memoizedState:rs.next;if(null!==t)rs=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===rs?es.memoizedState=rs=e:rs=rs.next=e}return rs}function us(e,t){return"function"===typeof t?t(e):t}function hs(e){var t=cs(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var i=ts,n=i.baseQueue,o=r.pending;if(null!==o){if(null!==n){var a=n.next;n.next=o.next,o.next=a}i.baseQueue=n=o,r.pending=null}if(null!==n){n=n.next,i=i.baseState;var l=a=o=null,c=n;do{var u=c.lane;if((Qo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),i=c.eagerReducer===e?c.eagerState:e(i,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=i):l=l.next=h,es.lanes|=u,Fa|=u}c=c.next}while(null!==c&&c!==n);null===l?o=i:l.next=a,ci(i,t.memoizedState)||(js=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,r.lastRenderedState=i}return[t.memoizedState,r.dispatch]}function ds(e){var t=cs(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,o=t.memoizedState;if(null!==n){r.pending=null;var a=n=n.next;do{o=e(o,a.action),a=a.next}while(a!==n);ci(o,t.memoizedState)||(js=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,i]}function ps(e,t,r){var i=t._getVersion;i=i(t._source);var n=t._workInProgressVersionPrimary;if(null!==n?e=n===i:(e=e.mutableReadLanes,(e=(Qo&e)===e)&&(t._workInProgressVersionPrimary=i,qo.push(t))),e)return r(t._source);throw qo.push(t),Error(s(350))}function fs(e,t,r,i){var n=Ra;if(null===n)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=$o.current,c=l.useState((function(){return ps(n,t,r)})),u=c[1],h=c[0];c=rs;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,v=d.source;d=d.subscribe;var m=es;return e.memoizedState={refs:p,source:t,subscribe:i},l.useEffect((function(){p.getSnapshot=r,p.setSnapshot=u;var e=o(t._source);if(!ci(a,e)){e=r(t._source),ci(h,e)||(u(e),e=pl(m),n.mutableReadLanes|=e&n.pendingLanes),e=n.mutableReadLanes,n.entangledLanes|=e;for(var i=n.entanglements,s=e;0<s;){var l=31-Ut(s),c=1<<l;i[l]|=e,s&=~c}}}),[r,t,i]),l.useEffect((function(){return i(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var i=pl(m);n.mutableReadLanes|=i&n.pendingLanes}catch(o){r((function(){throw o}))}}))}),[t,i]),ci(f,r)&&ci(v,t)&&ci(d,i)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=u=Ms.bind(null,es,e),c.queue=e,c.baseQueue=null,h=ps(n,t,r),c.memoizedState=c.baseState=h),h}function vs(e,t,r){return fs(cs(),e,t,r)}function ms(e){var t=ls();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=Ms.bind(null,es,e),[t.memoizedState,e]}function gs(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e),e}function bs(e){return e={current:e},ls().memoizedState=e}function ys(){return cs().memoizedState}function _s(e,t,r,i){var n=ls();es.flags|=e,n.memoizedState=gs(1|t,r,void 0,void 0===i?null:i)}function Cs(e,t,r,i){var n=cs();i=void 0===i?null:i;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==i&&ss(i,s.deps))return void gs(t,r,o,i)}es.flags|=e,n.memoizedState=gs(1|t,r,o,i)}function xs(e,t){return _s(516,4,e,t)}function ws(e,t){return Cs(516,4,e,t)}function Ps(e,t){return Cs(4,2,e,t)}function Ss(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Cs(4,2,Ss.bind(null,t,e),r)}function Os(){}function Ts(e,t){var r=cs();t=void 0===t?null:t;var i=r.memoizedState;return null!==i&&null!==t&&ss(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function ks(e,t){var r=cs();t=void 0===t?null:t;var i=r.memoizedState;return null!==i&&null!==t&&ss(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Ns(e,t){var r=Un();Jn(98>r?98:r,(function(){e(!0)})),Jn(97<r?97:r,(function(){var r=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=r}}))}function Ms(e,t,r){var i=dl(),n=pl(e),o={lane:n,action:r,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)ns=is=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,r);if(o.eagerReducer=s,o.eagerState=l,ci(l,a))return}catch(c){}fl(e,n,i)}}var As={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},Rs={readContext:so,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:xs,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,_s(4,2,Ss.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _s(4,2,e,t)},useMemo:function(e,t){var r=ls();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=ls();return t=void 0!==r?r(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ms.bind(null,es,e),[i.memoizedState,e]},useRef:bs,useState:ms,useDebugValue:Os,useDeferredValue:function(e){var t=ms(e),r=t[0],i=t[1];return xs((function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=ms(!1),t=e[0];return bs(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var i=ls();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},fs(i,e,t,r)},useOpaqueIdentifier:function(){if(Xo){var e=!1,t=function(e){return{$$typeof:I,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(qi++).toString(36))),Error(s(355))})),r=ms(t)[1];return 0===(2&es.mode)&&(es.flags|=516,gs(5,(function(){r("r:"+(qi++).toString(36))}),void 0,null)),t}return ms(t="r:"+(qi++).toString(36)),t},unstable_isNewReconciler:!1},Ls={readContext:so,useCallback:Ts,useContext:so,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:Ps,useMemo:ks,useReducer:hs,useRef:ys,useState:function(){return hs(us)},useDebugValue:Os,useDeferredValue:function(e){var t=hs(us),r=t[0],i=t[1];return ws((function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=hs(us)[0];return[ys().current,e]},useMutableSource:vs,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Is={readContext:so,useCallback:Ts,useContext:so,useEffect:ws,useImperativeHandle:Es,useLayoutEffect:Ps,useMemo:ks,useReducer:ds,useRef:ys,useState:function(){return ds(us)},useDebugValue:Os,useDeferredValue:function(e){var t=ds(us),r=t[0],i=t[1];return ws((function(){var t=Ko.transition;Ko.transition=1;try{i(e)}finally{Ko.transition=t}}),[e]),r},useTransition:function(){var e=ds(us)[0];return[ys().current,e]},useMutableSource:vs,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},Ds=C.ReactCurrentOwner,js=!1;function Bs(e,t,r,i){t.child=null===e?To(t,null,r,i):Oo(t,e.child,r,i)}function Ys(e,t,r,i,n){r=r.render;var o=t.ref;return oo(t,n),i=as(e,t,r,i,o,n),null===e||js?(t.flags|=1,Bs(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,oa(e,t,n))}function zs(e,t,r,i,n,o){if(null===e){var s=r.type;return"function"!==typeof s||Gl(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hl(r.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fs(e,t,s,i,n,o))}return s=e.child,0===(n&o)&&(n=s.memoizedProps,(r=null!==(r=r.compare)?r:hi)(n,i)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=Jl(s,i)).ref=t.ref,e.return=t,t.child=e)}function Fs(e,t,r,i,n,o){if(null!==e&&hi(e.memoizedProps,i)&&e.ref===t.ref){if(js=!1,0===(o&n))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(js=!0)}return Us(e,t,r,i,o)}function Xs(e,t,r){var i=t.pendingProps,n=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xl(t,r);else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xl(t,e),null;t.memoizedState={baseLanes:0},xl(t,null!==o?o.baseLanes:r)}else null!==o?(i=o.baseLanes|r,t.memoizedState=null):i=r,xl(t,i);return Bs(e,t,n,r),t.child}function Zs(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Us(e,t,r,i,n){var o=gn(r)?vn:pn.current;return o=mn(t,o),oo(t,n),r=as(e,t,r,i,o,n),null===e||js?(t.flags|=1,Bs(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~n,oa(e,t,n))}function Gs(e,t,r,i,n){if(gn(r)){var o=!0;Cn(t)}else o=!1;if(oo(t,n),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,r,i),xo(t,r,i,n),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=r.contextType;"object"===typeof c&&null!==c?c=so(c):c=mn(t,c=gn(r)?vn:pn.current);var u=r.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&Co(t,s,i,c),ao=!1;var d=t.memoizedState;s.state=d,fo(t,i,s,n),l=t.memoizedState,a!==i||d!==l||fn.current||ao?("function"===typeof u&&(go(t,r,u,i),l=t.memoizedState),(a=ao||yo(t,r,a,i,d,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4),i=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:$n(t.type,a),s.props=c,h=t.pendingProps,d=s.context,"object"===typeof(l=r.contextType)&&null!==l?l=so(l):l=mn(t,l=gn(r)?vn:pn.current);var p=r.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Co(t,s,i,l),ao=!1,d=t.memoizedState,s.state=d,fo(t,i,s,n);var f=t.memoizedState;a!==h||d!==f||fn.current||ao?("function"===typeof p&&(go(t,r,p,i),f=t.memoizedState),(c=ao||yo(t,r,c,i,d,f,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=f),s.props=i,s.state=f,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),i=!1)}return Js(e,t,r,i,o,n)}function Js(e,t,r,i,n,o){Zs(e,t);var s=0!==(64&t.flags);if(!i&&!s)return n&&xn(t,r,!1),oa(e,t,o);i=t.stateNode,Ds.current=t;var a=s&&"function"!==typeof r.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,a,o)):Bs(e,t,a,o),t.memoizedState=i.state,n&&xn(t,r,!0),t.child}function Hs(e){var t=e.stateNode;t.pendingContext?yn(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yn(0,t.context,!1),Lo(e,t.containerInfo)}var Vs,qs,Ws,$s={dehydrated:null,retryLane:0};function Ks(e,t,r){var i,n=t.pendingProps,o=Bo.current,s=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&o)),i?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===n.fallback||!0===n.unstable_avoidThisFallback||(o|=1),hn(Bo,1&o),null===e?(void 0!==n.fallback&&Go(t),e=n.children,o=n.fallback,s?(e=Qs(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=$s,e):"number"===typeof n.unstable_expectedLoadTime?(e=Qs(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=$s,t.lanes=33554432,e):((r=ql({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,s?(n=ta(e,t,n.children,n.fallback,r),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},s.childLanes=e.childLanes&~r,t.memoizedState=$s,n):(r=ea(e,t,n.children,r),t.memoizedState=null,r))}function Qs(e,t,r,i){var n=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&n)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=ql(t,n,0,null),r=Vl(r,n,i,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function ea(e,t,r,i){var n=e.child;return e=n.sibling,r=Jl(n,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=i),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function ta(e,t,r,i,n){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:r};return 0===(2&o)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=a,null!==(s=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Jl(s,a),null!==e?i=Jl(e,i):(i=Vl(i,o,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,i}function ra(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),no(e.return,t)}function ia(e,t,r,i,n,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n,s.lastEffect=o)}function na(e,t,r){var i=t.pendingProps,n=i.revealOrder,o=i.tail;if(Bs(e,t,i.children,r),0!==(2&(i=Bo.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ra(e,r);else if(19===e.tag)ra(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(hn(Bo,i),0===(2&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===Yo(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),ia(t,!1,n,r,o,t.lastEffect);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Yo(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}ia(t,!0,r,null,o,t.lastEffect);break;case"together":ia(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Jl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Jl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function sa(e,t){if(!Xo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;null!==r;)null!==r.alternate&&(i=r),r=r.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function aa(e,t,r){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gn(t.type)&&bn(),null;case 3:return Io(),un(fn),un(pn),Wo(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Ho(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:jo(t);var o=Ro(Ao.current);if(r=t.type,null!==e&&null!=t.stateNode)qs(e,t,r,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ro(No.current),Ho(t)){i=t.stateNode,r=t.type;var a=t.memoizedProps;switch(i[$i]=t,i[Ki]=a,r){case"dialog":ki("cancel",i),ki("close",i);break;case"iframe":case"object":case"embed":ki("load",i);break;case"video":case"audio":for(e=0;e<Si.length;e++)ki(Si[e],i);break;case"source":ki("error",i);break;case"img":case"image":case"link":ki("error",i),ki("load",i);break;case"details":ki("toggle",i);break;case"input":ee(i,a),ki("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},ki("invalid",i);break;case"textarea":le(i,a),ki("invalid",i)}for(var c in Pe(r,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?i.textContent!==o&&(e=["children",o]):"number"===typeof o&&i.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&ki("scroll",i));switch(r){case"input":W(i),ie(i,a,!0);break;case"textarea":W(i),ue(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Yi)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=pe(r)),e===he?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=c.createElement(r,{is:i.is}):(e=c.createElement(r),"select"===r&&(c=e,i.multiple?c.multiple=!0:i.size&&(c.size=i.size))):e=c.createElementNS(e,r),e[$i]=t,e[Ki]=i,Vs(e,t),t.stateNode=e,c=Se(r,i),r){case"dialog":ki("cancel",e),ki("close",e),o=i;break;case"iframe":case"object":case"embed":ki("load",e),o=i;break;case"video":case"audio":for(o=0;o<Si.length;o++)ki(Si[o],e);o=i;break;case"source":ki("error",e),o=i;break;case"img":case"image":case"link":ki("error",e),ki("load",e),o=i;break;case"details":ki("toggle",e),o=i;break;case"input":ee(e,i),o=Q(e,i),ki("invalid",e);break;case"option":o=oe(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=n({},i,{value:void 0}),ki("invalid",e);break;case"textarea":le(e,i),o=ae(e,i),ki("invalid",e);break;default:o=i}Pe(r,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?xe(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"===typeof h?("textarea"!==r||""!==h)&&be(e,h):"number"===typeof h&&be(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&ki("scroll",e):null!=h&&_(e,a,h,c))}switch(r){case"input":W(e),ie(e,i,!1);break;case"textarea":W(e),ue(e);break;case"option":null!=i.value&&e.setAttribute("value",""+V(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?se(e,!!i.multiple,a,!1):null!=i.defaultValue&&se(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Yi)}Xi(r,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ws(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));r=Ro(Ao.current),Ro(No.current),Ho(t)?(i=t.stateNode,r=t.memoizedProps,i[$i]=t,i.nodeValue!==r&&(t.flags|=4)):((i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[$i]=t,t.stateNode=i)}return null;case 13:return un(Bo),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(i=null!==i,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ho(t):r=null!==e.memoizedState,i&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Ba&&(Ba=3):(0!==Ba&&3!==Ba||(Ba=4),null===Ra||0===(134217727&Fa)&&0===(134217727&Xa)||bl(Ra,Ia))),(i||r)&&(t.flags|=4),null);case 4:return Io(),null===e&&Mi(t.stateNode.containerInfo),null;case 10:return io(t),null;case 19:if(un(Bo),null===(i=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=i.rendering))if(a)sa(i,!1);else{if(0!==Ba||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Yo(e))){for(t.flags|=64,sa(i,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,r=t.child;null!==r;)e=i,(a=r).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return hn(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==i.tail&&Zn()>Ja&&(t.flags|=64,a=!0,sa(i,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Yo(c))){if(t.flags|=64,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),sa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate&&!Xo)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Zn()-i.renderingStartTime>Ja&&1073741824!==r&&(t.flags|=64,a=!0,sa(i,!1),t.lanes=33554432);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=i.last)?r.sibling=c:t.child=c,i.last=c)}return null!==i.tail?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Zn(),r.sibling=null,t=Bo.current,hn(Bo,a?1&t|2:1&t),r):null;case 23:case 24:return wl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function la(e){switch(e.tag){case 1:gn(e.type)&&bn();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Io(),un(fn),un(pn),Wo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return un(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return un(Bo),null;case 4:return Io(),null;case 10:return io(e),null;case 23:case 24:return wl(),null;default:return null}}function ca(e,t){try{var r="",i=t;do{r+=J(i),i=i.return}while(i);var n=r}catch(o){n="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:n}}function ua(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Vs=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},qs=function(e,t,r,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Ro(No.current);var s,a=null;switch(r){case"input":o=Q(e,o),i=Q(e,i),a=[];break;case"option":o=oe(e,o),i=oe(e,i),a=[];break;case"select":o=n({},o,{value:void 0}),i=n({},i,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),i=ae(e,i),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(e.onclick=Yi)}for(h in Pe(r,i),r=null,o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in i){var u=i[h];if(c=null!=o?o[h]:void 0,i.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(a||(a=[]),a.push(h,r)),r=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&ki("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===I?u.toString():(a=a||[]).push(h,u))}r&&(a=a||[]).push("style",r);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Ws=function(e,t,r,i){r!==i&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function da(e,t,r){(r=uo(-1,r)).tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){Wa||(Wa=!0,$a=i),ua(0,t)},r}function pa(e,t,r){(r=uo(-1,r)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var n=t.value;r.payload=function(){return ua(0,t),i(n)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof i&&(null===Ka?Ka=new Set([this]):Ka.add(this),ua(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var fa="function"===typeof WeakSet?WeakSet:Set;function va(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){zl(e,r)}else t.current=null}function ma(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:$n(t.type,r),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ji(t.stateNode.containerInfo))}throw Error(s(163))}function ga(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var n=e;i=n.next,0!==(4&(n=n.tag))&&0!==(1&n)&&(jl(r,e),Dl(r,e)),e=i}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(i=r.elementType===r.type?t.memoizedProps:$n(r.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&vo(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}vo(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Xi(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&xt(r)))))}throw Error(s(163))}function ba(e,t){for(var r=e;;){if(5===r.tag){var i=r.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=r.stateNode;var n=r.memoizedProps.style;n=void 0!==n&&null!==n&&n.hasOwnProperty("display")?n.display:null,i.style.display=Ce("display",n)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ya(e,t){if(Pn&&"function"===typeof Pn.onCommitFiberUnmount)try{Pn.onCommitFiberUnmount(wn,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,n=i.destroy;if(i=i.tag,void 0!==n)if(0!==(4&i))jl(t,r);else{i=t;try{n()}catch(o){zl(i,o)}}r=r.next}while(r!==e)}break;case 1:if(va(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zl(t,o)}break;case 5:va(t);break;case 4:Sa(e,t)}}function _a(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ca(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:{for(var t=e.return;null!==t;){if(Ca(t))break e;t=t.return}throw Error(s(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(s(161))}16&r.flags&&(be(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||Ca(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}i?wa(e,r,t):Pa(e,r,t)}function wa(e,t,r){var i=e.tag,n=5===i||6===i;if(n)e=n?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Yi));else if(4!==i&&null!==(e=e.child))for(wa(e,t,r),e=e.sibling;null!==e;)wa(e,t,r),e=e.sibling}function Pa(e,t,r){var i=e.tag,n=5===i||6===i;if(n)e=n?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==i&&null!==(e=e.child))for(Pa(e,t,r),e=e.sibling;null!==e;)Pa(e,t,r),e=e.sibling}function Sa(e,t){for(var r,i,n=t,o=!1;;){if(!o){o=n.return;e:for(;;){if(null===o)throw Error(s(160));switch(r=o.stateNode,o.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}o=o.return}o=!0}if(5===n.tag||6===n.tag){e:for(var a=e,l=n,c=l;;)if(ya(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(a=r,l=n.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):r.removeChild(n.stateNode)}else if(4===n.tag){if(null!==n.child){r=n.stateNode.containerInfo,i=!0,n.child.return=n,n=n.child;continue}}else if(ya(e,n),null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;4===(n=n.return).tag&&(o=!1)}n.sibling.return=n.return,n=n.sibling}}function Ea(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){i=t.memoizedProps;var n=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Ki]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(r,i),Se(e,n),t=Se(e,i),n=0;n<o.length;n+=2){var a=o[n],l=o[n+1];"style"===a?xe(r,l):"dangerouslySetInnerHTML"===a?ge(r,l):"children"===a?be(r,l):_(r,a,l,t)}switch(e){case"input":re(r,i);break;case"textarea":ce(r,i);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!i.multiple,null!=(o=i.value)?se(r,!!i.multiple,o,!1):e!==!!i.multiple&&(null!=i.defaultValue?se(r,!!i.multiple,i.defaultValue,!0):se(r,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,xt(r.containerInfo)));case 13:return null!==t.memoizedState&&(Ga=Zn(),ba(t.child,!0)),void Oa(t);case 19:return void Oa(t);case 23:case 24:return void ba(t,null!==t.memoizedState)}throw Error(s(163))}function Oa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new fa),t.forEach((function(t){var i=Xl.bind(null,e,t);r.has(t)||(r.add(t),t.then(i,i))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var ka=Math.ceil,Na=C.ReactCurrentDispatcher,Ma=C.ReactCurrentOwner,Aa=0,Ra=null,La=null,Ia=0,Da=0,ja=cn(0),Ba=0,Ya=null,za=0,Fa=0,Xa=0,Za=0,Ua=null,Ga=0,Ja=1/0;function Ha(){Ja=Zn()+500}var Va,qa=null,Wa=!1,$a=null,Ka=null,Qa=!1,el=null,tl=90,rl=[],il=[],nl=null,ol=0,sl=null,al=-1,ll=0,cl=0,ul=null,hl=!1;function dl(){return 0!==(48&Aa)?Zn():-1!==al?al:al=Zn()}function pl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Un()?1:2;if(0===ll&&(ll=za),0!==Wn.transition){0!==cl&&(cl=null!==Ua?Ua.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Un(),0!==(4&Aa)&&98===e?e=zt(12,ll):e=zt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function fl(e,t,r){if(50<ol)throw ol=0,sl=null,Error(s(185));if(null===(e=vl(e,t)))return null;Zt(e,t,r),e===Ra&&(Xa|=t,4===Ba&&bl(e,Ia));var i=Un();1===t?0!==(8&Aa)&&0===(48&Aa)?yl(e):(ml(e,r),0===Aa&&(Ha(),Vn())):(0===(4&Aa)||98!==i&&99!==i||(null===nl?nl=new Set([e]):nl.add(e)),ml(e,r)),Ua=e}function vl(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function ml(e,t){for(var r=e.callbackNode,i=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Ut(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&i)||0!==(c&n)){u=t,jt(c);var h=Dt;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(i=Bt(e,e===Ra?Ia:0),t=Dt,0===i)null!==r&&(r!==jn&&On(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==jn&&On(r)}15===t?(r=yl.bind(null,e),null===Yn?(Yn=[r],zn=En(An,qn)):Yn.push(r),r=jn):14===t?r=Hn(99,yl.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),r=Hn(r,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function gl(e){if(al=-1,cl=ll=0,0!==(48&Aa))throw Error(s(327));var t=e.callbackNode;if(Il()&&e.callbackNode!==t)return null;var r=Bt(e,e===Ra?Ia:0);if(0===r)return null;var i=r,n=Aa;Aa|=16;var o=El();for(Ra===e&&Ia===i||(Ha(),Pl(e,i));;)try{kl();break}catch(l){Sl(e,l)}if(ro(),Na.current=o,Aa=n,null!==La?i=0:(Ra=null,Ia=0,i=Ba),0!==(za&Xa))Pl(e,0);else if(0!==i){if(2===i&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Ji(e.containerInfo)),0!==(r=Yt(e))&&(i=Ol(e,r))),1===i)throw t=Ya,Pl(e,0),bl(e,r),ml(e,Zn()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,i){case 0:case 1:throw Error(s(345));case 2:case 5:Al(e);break;case 3:if(bl(e,r),(62914560&r)===r&&10<(i=Ga+500-Zn())){if(0!==Bt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){dl(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Ui(Al.bind(null,e),i);break}Al(e);break;case 4:if(bl(e,r),(4186112&r)===r)break;for(i=e.eventTimes,n=-1;0<r;){var a=31-Ut(r);o=1<<a,(a=i[a])>n&&(n=a),r&=~o}if(r=n,10<(r=(120>(r=Zn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)){e.timeoutHandle=Ui(Al.bind(null,e),r);break}Al(e);break;default:throw Error(s(329))}}return ml(e,Zn()),e.callbackNode===t?gl.bind(null,e):null}function bl(e,t){for(t&=~Za,t&=~Xa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ut(t),i=1<<r;e[r]=-1,t&=~i}}function yl(e){if(0!==(48&Aa))throw Error(s(327));if(Il(),e===Ra&&0!==(e.expiredLanes&Ia)){var t=Ia,r=Ol(e,t);0!==(za&Xa)&&(r=Ol(e,t=Bt(e,t)))}else r=Ol(e,t=Bt(e,0));if(0!==e.tag&&2===r&&(Aa|=64,e.hydrate&&(e.hydrate=!1,Ji(e.containerInfo)),0!==(t=Yt(e))&&(r=Ol(e,t))),1===r)throw r=Ya,Pl(e,0),bl(e,t),ml(e,Zn()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Al(e),ml(e,Zn()),null}function _l(e,t){var r=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=r)&&(Ha(),Vn())}}function Cl(e,t){var r=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=r)&&(Ha(),Vn())}}function xl(e,t){hn(ja,Da),Da|=t,za|=t}function wl(){Da=ja.current,un(ja)}function Pl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Gi(r)),null!==La)for(r=La.return;null!==r;){var i=r;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&bn();break;case 3:Io(),un(fn),un(pn),Wo();break;case 5:jo(i);break;case 4:Io();break;case 13:case 19:un(Bo);break;case 10:io(i);break;case 23:case 24:wl()}r=r.return}Ra=e,La=Jl(e.current,null),Ia=Da=za=t,Ba=0,Ya=null,Za=Xa=Fa=0}function Sl(e,t){for(;;){var r=La;try{if(ro(),$o.current=As,is){for(var i=es.memoizedState;null!==i;){var n=i.queue;null!==n&&(n.pending=null),i=i.next}is=!1}if(Qo=0,rs=ts=es=null,ns=!1,Ma.current=null,null===r||null===r.return){Ba=1,Ya=t,La=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Ia,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Bo.current),d=s;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var v=d.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var m=d.updateQueue;if(null===m){var g=new Set;g.add(c),d.updateQueue=g}else m.add(c);if(0===(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=uo(-1,1);b.tag=2,ho(a,b)}a.lanes|=1;break e}l=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ha,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var _=Fl.bind(null,o,c,a);c.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((H(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ba&&(Ba=2),l=ca(l,a),d=s;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,po(d,da(0,o,t));break e;case 1:o=l;var C=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof C.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ka||!Ka.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,po(d,pa(d,o,t));break e}}d=d.return}while(null!==d)}Ml(r)}catch(w){t=w,La===r&&null!==r&&(La=r=r.return);continue}break}}function El(){var e=Na.current;return Na.current=As,null===e?As:e}function Ol(e,t){var r=Aa;Aa|=16;var i=El();for(Ra===e&&Ia===t||Pl(e,t);;)try{Tl();break}catch(n){Sl(e,n)}if(ro(),Aa=r,Na.current=i,null!==La)throw Error(s(261));return Ra=null,Ia=0,Ba}function Tl(){for(;null!==La;)Nl(La)}function kl(){for(;null!==La&&!Tn();)Nl(La)}function Nl(e){var t=Va(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?Ml(e):La=t,Ma.current=null}function Ml(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=aa(r,t,Da)))return void(La=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Da)||0===(4&r.mode)){for(var i=0,n=r.child;null!==n;)i|=n.lanes|n.childLanes,n=n.sibling;r.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=la(t)))return r.flags&=2047,void(La=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(La=t);La=t=e}while(null!==t);0===Ba&&(Ba=5)}function Al(e){var t=Un();return Jn(99,Rl.bind(null,e,t)),null}function Rl(e,t){do{Il()}while(null!==el);if(0!==(48&Aa))throw Error(s(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null;var i=r.lanes|r.childLanes,n=i,o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Ut(o),u=1<<c;n[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==nl&&0===(24&i)&&nl.has(e)&&nl.delete(e),e===Ra&&(La=Ra=null,Ia=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){if(n=Aa,Aa|=32,Ma.current=null,zi=qt,mi(a=vi())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(E){l=null;break e}var h=0,d=-1,p=-1,f=0,v=0,m=a,g=null;t:for(;;){for(var b;m!==l||0!==o&&3!==m.nodeType||(d=h+o),m!==c||0!==u&&3!==m.nodeType||(p=h+u),3===m.nodeType&&(h+=m.nodeValue.length),null!==(b=m.firstChild);)g=m,m=b;for(;;){if(m===a)break t;if(g===l&&++f===o&&(d=h),g===c&&++v===u&&(p=h),null!==(b=m.nextSibling))break;g=(m=g).parentNode}m=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;Fi={focusedElem:a,selectionRange:l},qt=!1,ul=null,hl=!1,qa=i;do{try{Ll()}catch(E){if(null===qa)throw Error(s(330));zl(qa,E),qa=qa.nextEffect}}while(null!==qa);ul=null,qa=i;do{try{for(a=e;null!==qa;){var y=qa.flags;if(16&y&&be(qa.stateNode,""),128&y){var _=qa.alternate;if(null!==_){var C=_.ref;null!==C&&("function"===typeof C?C(null):C.current=null)}}switch(1038&y){case 2:xa(qa),qa.flags&=-3;break;case 6:xa(qa),qa.flags&=-3,Ea(qa.alternate,qa);break;case 1024:qa.flags&=-1025;break;case 1028:qa.flags&=-1025,Ea(qa.alternate,qa);break;case 4:Ea(qa.alternate,qa);break;case 8:Sa(a,l=qa);var x=l.alternate;_a(l),null!==x&&_a(x)}qa=qa.nextEffect}}catch(E){if(null===qa)throw Error(s(330));zl(qa,E),qa=qa.nextEffect}}while(null!==qa);if(C=Fi,_=vi(),y=C.focusedElem,a=C.selectionRange,_!==y&&y&&y.ownerDocument&&fi(y.ownerDocument.documentElement,y)){null!==a&&mi(y)&&(_=a.start,void 0===(C=a.end)&&(C=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(C,y.value.length)):(C=(_=y.ownerDocument||document)&&_.defaultView||window).getSelection&&(C=C.getSelection(),l=y.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!C.extend&&x>a&&(l=a,a=x,x=l),l=pi(y,x),o=pi(y,a),l&&o&&(1!==C.rangeCount||C.anchorNode!==l.node||C.anchorOffset!==l.offset||C.focusNode!==o.node||C.focusOffset!==o.offset)&&((_=_.createRange()).setStart(l.node,l.offset),C.removeAllRanges(),x>a?(C.addRange(_),C.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),C.addRange(_))))),_=[];for(C=y;C=C.parentNode;)1===C.nodeType&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<_.length;y++)(C=_[y]).element.scrollLeft=C.left,C.element.scrollTop=C.top}qt=!!zi,Fi=zi=null,e.current=r,qa=i;do{try{for(y=e;null!==qa;){var w=qa.flags;if(36&w&&ga(y,qa.alternate,qa),128&w){_=void 0;var P=qa.ref;if(null!==P){var S=qa.stateNode;qa.tag,_=S,"function"===typeof P?P(_):P.current=_}}qa=qa.nextEffect}}catch(E){if(null===qa)throw Error(s(330));zl(qa,E),qa=qa.nextEffect}}while(null!==qa);qa=null,Bn(),Aa=n}else e.current=r;if(Qa)Qa=!1,el=e,tl=t;else for(qa=i;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,8&qa.flags&&((w=qa).sibling=null,w.stateNode=null),qa=t;if(0===(i=e.pendingLanes)&&(Ka=null),1===i?e===sl?ol++:(ol=0,sl=e):ol=0,r=r.stateNode,Pn&&"function"===typeof Pn.onCommitFiberRoot)try{Pn.onCommitFiberRoot(wn,r,void 0,64===(64&r.current.flags))}catch(E){}if(ml(e,Zn()),Wa)throw Wa=!1,e=$a,$a=null,e;return 0!==(8&Aa)||Vn(),null}function Ll(){for(;null!==qa;){var e=qa.alternate;hl||null===ul||(0!==(8&qa.flags)?et(qa,ul)&&(hl=!0):13===qa.tag&&Ta(e,qa)&&et(qa,ul)&&(hl=!0));var t=qa.flags;0!==(256&t)&&ma(e,qa),0===(512&t)||Qa||(Qa=!0,Hn(97,(function(){return Il(),null}))),qa=qa.nextEffect}}function Il(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Jn(e,Bl)}return!1}function Dl(e,t){rl.push(t,e),Qa||(Qa=!0,Hn(97,(function(){return Il(),null})))}function jl(e,t){il.push(t,e),Qa||(Qa=!0,Hn(97,(function(){return Il(),null})))}function Bl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Aa))throw Error(s(331));var t=Aa;Aa|=32;var r=il;il=[];for(var i=0;i<r.length;i+=2){var n=r[i],o=r[i+1],a=n.destroy;if(n.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));zl(o,c)}}for(r=rl,rl=[],i=0;i<r.length;i+=2){n=r[i],o=r[i+1];try{var l=n.create;n.destroy=l()}catch(c){if(null===o)throw Error(s(330));zl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Aa=t,Vn(),!0}function Yl(e,t,r){ho(e,t=da(0,t=ca(r,t),1)),t=dl(),null!==(e=vl(e,1))&&(Zt(e,1,t),ml(e,t))}function zl(e,t){if(3===e.tag)Yl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Yl(r,e,t);break}if(1===r.tag){var i=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ka||!Ka.has(i))){var n=pa(r,e=ca(t,e),1);if(ho(r,n),n=dl(),null!==(r=vl(r,1)))Zt(r,1,n),ml(r,n);else if("function"===typeof i.componentDidCatch&&(null===Ka||!Ka.has(i)))try{i.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function Fl(e,t,r){var i=e.pingCache;null!==i&&i.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&r,Ra===e&&(Ia&r)===r&&(4===Ba||3===Ba&&(62914560&Ia)===Ia&&500>Zn()-Ga?Pl(e,0):Za|=r),ml(e,t)}function Xl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Un()?1:2:(0===ll&&(ll=za),0===(t=Ft(62914560&~ll))&&(t=4194304))),r=dl(),null!==(e=vl(e,t))&&(Zt(e,t,r),ml(e,r))}function Zl(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ul(e,t,r,i){return new Zl(e,t,r,i)}function Gl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Jl(e,t){var r=e.alternate;return null===r?((r=Ul(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hl(e,t,r,i,n,o){var a=2;if(i=e,"function"===typeof e)Gl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case P:return Vl(r.children,n,o,t);case D:a=8,n|=16;break;case S:a=8,n|=1;break;case E:return(e=Ul(12,r,t,8|n)).elementType=E,e.type=E,e.lanes=o,e;case N:return(e=Ul(13,r,t,n)).type=N,e.elementType=N,e.lanes=o,e;case M:return(e=Ul(19,r,t,n)).elementType=M,e.lanes=o,e;case j:return ql(r,n,o,t);case B:return(e=Ul(24,r,t,n)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case T:a=9;break e;case k:a=11;break e;case A:a=14;break e;case R:a=16,i=null;break e;case L:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ul(a,r,t,n)).elementType=e,t.type=i,t.lanes=o,t}function Vl(e,t,r,i){return(e=Ul(7,e,i,t)).lanes=r,e}function ql(e,t,r,i){return(e=Ul(23,e,i,t)).elementType=j,e.lanes=r,e}function Wl(e,t,r){return(e=Ul(6,e,null,t)).lanes=r,e}function $l(e,t,r){return(t=Ul(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Xt(0),this.expirationTimes=Xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.mutableSourceEagerHydrationData=null}function Ql(e,t,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:r}}function ec(e,t,r,i){var n=t.current,o=dl(),a=pl(n);e:if(r){t:{if(We(r=r._reactInternals)!==r||1!==r.tag)throw Error(s(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===r.tag){var c=r.type;if(gn(c)){r=_n(r,c,l);break e}}r=l}else r=dn;return null===t.context?t.context=r:t.pendingContext=r,(t=uo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),ho(n,t),fl(n,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ic(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function nc(e,t,r){var i=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Kl(e,t,null!=r&&!0===r.hydrate),t=Ul(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,lo(t),e[Qi]=r.current,Mi(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var n=(t=i[e])._getVersion;n=n(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,n]:r.mutableSourceEagerHydrationData.push(t,n)}this._internalRoot=r}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,r,i,n){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof n){var a=n;n=function(){var e=tc(s);a.call(e)}}ec(t,s,e,n)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new nc(e,0,t?{hydrate:!0}:void 0)}(r,i),s=o._internalRoot,"function"===typeof n){var l=n;n=function(){var e=tc(s);l.call(e)}}Cl((function(){ec(t,s,e,n)}))}return tc(s)}function ac(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return Ql(e,t,null,r)}Va=function(e,t,r){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fn.current)js=!0;else{if(0===(r&i)){switch(js=!1,t.tag){case 3:Hs(t),Vo();break;case 5:Do(t);break;case 1:gn(t.type)&&Cn(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var n=t.type._context;hn(Kn,n._currentValue),n._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Ks(e,t,r):(hn(Bo,1&Bo.current),null!==(t=oa(e,t,r))?t.sibling:null);hn(Bo,1&Bo.current);break;case 19:if(i=0!==(r&t.childLanes),0!==(64&e.flags)){if(i)return na(e,t,r);t.flags|=64}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),hn(Bo,Bo.current),i)break;return null;case 23:case 24:return t.lanes=0,Xs(e,t,r)}return oa(e,t,r)}js=0!==(16384&e.flags)}else js=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=mn(t,pn.current),oo(t,r),n=as(null,t,i,e,n,r),t.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(i)){var o=!0;Cn(t)}else o=!1;t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,lo(t);var a=i.getDerivedStateFromProps;"function"===typeof a&&go(t,i,a,e),n.updater=bo,t.stateNode=n,n._reactInternals=t,xo(t,i,e,r),t=Js(null,t,i,!0,o,r)}else t.tag=0,Bs(null,t,n,r),t=t.child;return t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(o=n._init)(n._payload),t.type=n,o=t.tag=function(e){if("function"===typeof e)return Gl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===A)return 14}return 2}(n),e=$n(n,e),o){case 0:t=Us(null,t,n,e,r);break e;case 1:t=Gs(null,t,n,e,r);break e;case 11:t=Ys(null,t,n,e,r);break e;case 14:t=zs(null,t,n,$n(n.type,e),i,r);break e}throw Error(s(306,n,""))}return t;case 0:return i=t.type,n=t.pendingProps,Us(e,t,i,n=t.elementType===i?n:$n(i,n),r);case 1:return i=t.type,n=t.pendingProps,Gs(e,t,i,n=t.elementType===i?n:$n(i,n),r);case 3:if(Hs(t),i=t.updateQueue,null===e||null===i)throw Error(s(282));if(i=t.pendingProps,n=null!==(n=t.memoizedState)?n.element:null,co(e,t),fo(t,i,null,r),(i=t.memoizedState.element)===n)Vo(),t=oa(e,t,r);else{if((o=(n=t.stateNode).hydrate)&&(Fo=Hi(t.stateNode.containerInfo.firstChild),zo=t,o=Xo=!0),o){if(null!=(e=n.mutableSourceEagerHydrationData))for(n=0;n<e.length;n+=2)(o=e[n])._workInProgressVersionPrimary=e[n+1],qo.push(o);for(r=To(t,null,i,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Bs(e,t,i,r),Vo();t=t.child}return t;case 5:return Do(t),null===e&&Go(t),i=t.type,n=t.pendingProps,o=null!==e?e.memoizedProps:null,a=n.children,Zi(i,n)?a=null:null!==o&&Zi(i,o)&&(t.flags|=16),Zs(e,t),Bs(e,t,a,r),t.child;case 6:return null===e&&Go(t),null;case 13:return Ks(e,t,r);case 4:return Lo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Oo(t,null,i,r):Bs(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,Ys(e,t,i,n=t.elementType===i?n:$n(i,n),r);case 7:return Bs(e,t,t.pendingProps,r),t.child;case 8:case 12:return Bs(e,t,t.pendingProps.children,r),t.child;case 10:e:{i=t.type._context,n=t.pendingProps,a=t.memoizedProps,o=n.value;var l=t.type._context;if(hn(Kn,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ci(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(a.children===n.children&&!fn.current){t=oa(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,r&-r)).tag=2,ho(l,u)),l.lanes|=r,null!==(u=l.alternate)&&(u.lanes|=r),no(l.return,r),c.lanes|=r;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Bs(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=(o=t.pendingProps).children,oo(t,r),i=i(n=so(n,o.unstable_observedBits)),t.flags|=1,Bs(e,t,i,r),t.child;case 14:return o=$n(n=t.type,t.pendingProps),zs(e,t,n,o=$n(n.type,o),i,r);case 15:return Fs(e,t,t.type,t.pendingProps,i,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:$n(i,n),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gn(i)?(e=!0,Cn(t)):e=!1,oo(t,r),_o(t,i,n),xo(t,i,n,r),Js(null,t,i,!0,e,r);case 19:return na(e,t,r);case 23:case 24:return Xs(e,t,r)}throw Error(s(156,t.tag))},nc.prototype.render=function(e){ec(e,this._internalRoot,null,null)},nc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[Qi]=null}))},tt=function(e){13===e.tag&&(fl(e,4,dl()),ic(e,4))},rt=function(e){13===e.tag&&(fl(e,67108864,dl()),ic(e,67108864))},it=function(e){if(13===e.tag){var t=dl(),r=pl(e);fl(e,r,t),ic(e,r)}},nt=function(e,t){return t()},Oe=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=on(i);if(!n)throw Error(s(90));$(i),re(i,n)}}}break;case"textarea":ce(e,r);break;case"select":null!=(t=r.value)&&se(e,!!r.multiple,t,!1)}},Re=_l,Le=function(e,t,r,i,n){var o=Aa;Aa|=4;try{return Jn(98,e.bind(null,t,r,i,n))}finally{0===(Aa=o)&&(Ha(),Vn())}},Ie=function(){0===(49&Aa)&&(function(){if(null!==nl){var e=nl;nl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,Zn())}))}Vn()}(),Il())},De=function(e,t){var r=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=r)&&(Ha(),Vn())}};var lc={Events:[rn,nn,on,Me,Ae,Il,{current:!1}]},cc={findFiberByHostInstance:tn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{wn=hc.inject(uc),Pn=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Aa;if(0!==(48&r))return e(t);Aa|=1;try{if(e)return Jn(99,e.bind(null,t))}finally{Aa=r,Vn()}},t.hydrate=function(e,t,r){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,r)},t.render=function(e,t,r){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(Cl((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qi]=null}))})),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!oc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,r,!1,i)},t.version="17.0.2"},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},1372:function(e,t){"use strict";var r=60103,i=60106,n=60107,o=60108,s=60114,a=60109,l=60110,c=60112,u=60113,h=60120,d=60115,p=60116,f=60121,v=60122,m=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;r=y("react.element"),i=y("react.portal"),n=y("react.fragment"),o=y("react.strict_mode"),s=y("react.profiler"),a=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),u=y("react.suspense"),h=y("react.suspense_list"),d=y("react.memo"),p=y("react.lazy"),f=y("react.block"),v=y("react.server.block"),m=y("react.fundamental"),g=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case n:case s:case o:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case d:case a:return e;default:return t}}case i:return t}}}},7441:function(e,t,r){"use strict";r(1372)},722:function(e,t,r){var i;"undefined"!=typeof self&&self,e.exports=(i=r(2791),function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t){e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=t.Time=void 0;var i=o(r(5)),n=o(r(6));function o(e){return e&&e.__esModule?e:{default:e}}t.Time=i.default,t.Validate=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(r(7));t.useInterval=i.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTime=t.useStopwatch=t.useTimer=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};t.default=function(e){if((0,n.useEffect)((function(){console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")}),[]),e.expiryTimestamp){var t=(0,o.default)(e);return i({},t,{startTimer:t.start,stopTimer:t.pause,resetTimer:function(){}})}var r=(0,s.default)(e);return i({},r,{startTimer:r.start,stopTimer:r.pause,resetTimer:r.reset})};var n=r(0),o=l(r(4)),s=l(r(8)),a=l(r(9));function l(e){return e&&e.__esModule?e:{default:e}}t.useTimer=o.default,t.useStopwatch=s.default,t.useTime=a.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.expiryTimestamp,r=e.onExpire,u=e.autoStart,h=void 0===u||u,d=(0,o.useState)(t),p=n(d,2),f=p[0],v=p[1],m=(0,o.useState)(s.Time.getSecondsFromExpiry(f)),g=n(m,2),b=g[0],y=g[1],_=(0,o.useState)(h),C=n(_,2),x=C[0],w=C[1],P=(0,o.useState)(h),S=n(P,2),E=S[0],O=S[1],T=(0,o.useState)(c(f)),k=n(T,2),N=k[0],M=k[1];function A(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];M(c(e)),O(t),w(t),v(e),y(s.Time.getSecondsFromExpiry(e))}function R(){var e=new Date;e.setMilliseconds(e.getMilliseconds()+1e3*b),A(e)}return(0,a.useInterval)((function(){N!==l&&M(l);var e=s.Time.getSecondsFromExpiry(f);y(e),e<=0&&(s.Validate.onExpire(r)&&r(),w(!1),M(null))}),x?N:null),i({},s.Time.getTimeFromSeconds(b),{start:function(){E?(y(s.Time.getSecondsFromExpiry(f)),w(!0)):R()},pause:function(){w(!1)},resume:R,restart:A,isRunning:x})};var o=r(0),s=r(1),a=r(2),l=1e3;function c(e){if(!s.Validate.expiryTimestamp(e))return null;var t=s.Time.getSecondsFromExpiry(e),r=Math.floor(1e3*(t-Math.floor(t)));return r>0?r:l}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"getTimeFromSeconds",value:function(e){var t=Math.ceil(e),r=Math.floor(t/86400),i=Math.floor(t%86400/3600),n=Math.floor(t%3600/60);return{seconds:Math.floor(t%60),minutes:n,hours:i,days:r}}},{key:"getSecondsFromExpiry",value:function(e,t){var r=e-(new Date).getTime();if(r>0){var i=r/1e3;return t?Math.round(i):i}return 0}},{key:"getSecondsFromPrevTime",value:function(e,t){var r=(new Date).getTime()-e;if(r>0){var i=r/1e3;return t?Math.round(i):i}return 0}},{key:"getSecondsFromTimeNow",value:function(){var e=new Date;return e.getTime()/1e3-60*e.getTimezoneOffset()}},{key:"getFormattedTimeFromSeconds",value:function(t,r){var i=e.getTimeFromSeconds(t),n=i.seconds,o=i.minutes,s=i.hours,a="",l=s;return"12-hour"===r&&(a=s>=12?"pm":"am",l=s%12),{seconds:n,minutes:o,hours:l,ampm:a}}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"expiryTimestamp",value:function(e){var t=new Date(e).getTime()>0;return t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}},{key:"onExpire",value:function(e){var t=e&&"function"==typeof e;return e&&!t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}]),e}();t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,i.useRef)();(0,i.useEffect)((function(){r.current=e})),(0,i.useEffect)((function(){if(!t)return function(){};var e=setInterval((function(){r.current&&r.current()}),t);return function(){return clearInterval(e)}}),[t])};var i=r(0)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.autoStart,r=e.offsetTimestamp,l=(0,o.useState)(s.Time.getSecondsFromExpiry(r,!0)||0),c=n(l,2),u=c[0],h=c[1],d=(0,o.useState)(new Date),p=n(d,2),f=p[0],v=p[1],m=(0,o.useState)(u+s.Time.getSecondsFromPrevTime(f||0,!0)),g=n(m,2),b=g[0],y=g[1],_=(0,o.useState)(t),C=n(_,2),x=C[0],w=C[1];return(0,a.useInterval)((function(){y(u+s.Time.getSecondsFromPrevTime(f,!0))}),x?1e3:null),i({},s.Time.getTimeFromSeconds(b),{start:function(){var e=new Date;v(e),w(!0),y(u+s.Time.getSecondsFromPrevTime(e,!0))},pause:function(){h(b),w(!1)},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=s.Time.getSecondsFromExpiry(e,!0)||0,i=new Date;v(i),h(r),w(t),y(r+s.Time.getSecondsFromPrevTime(i,!0))},isRunning:x})};var o=r(0),s=r(1),a=r(2)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=e.format,r=(0,o.useState)(s.Time.getSecondsFromTimeNow()),l=n(r,2),c=l[0],u=l[1];return(0,a.useInterval)((function(){u(s.Time.getSecondsFromTimeNow())}),1e3),i({},s.Time.getFormattedTimeFromSeconds(c,t))};var o=r(0),s=r(1),a=r(2)}]))},6374:function(e,t,r){"use strict";r(1725);var i=r(2791),n=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;n=o("react.element"),t.Fragment=o("react.fragment")}var s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var i,o={},c=null,u=null;for(i in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:n,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,r){"use strict";var i=r(1725),n=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;n=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||f}function g(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=b.prototype=new g;y.constructor=b,i(y,m.prototype),y.isPureReactComponent=!0;var _={current:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:_.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case o:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,Array.isArray(s)?(r="",null!=e&&(r=e.replace(S,"$&/")+"/"),O(s,t,r,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(S,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=i+E(a=e[c],c);l+=O(a,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=O(a=a.value,t,r,u=i+E(a,c++),s);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function T(e,t,r){if(null==e)return e;var i=[],n=0;return O(e,i,"","",(function(e){return t.call(r,e,n++)})),i}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function M(){var e=N.current;if(null===e)throw Error(p(321));return e}var A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:T,forEach:function(e,t,r){T(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error(p(143));return e}},t.Component=m,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(p(267,e));var o=i({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!x.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:n,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return M().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,r){return M().useReducer(e,t,r)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},6813:function(e,t){"use strict";var r,i,n,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(i){throw setTimeout(e,0),i}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(h,0))},i=function(e,t){u=setTimeout(e,t)},n=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,C=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();y=e+b;try{m(!0,e)?C.postMessage(null):(v=!1,m=null)}catch(r){throw C.postMessage(null),r}}else v=!1},r=function(e){m=e,v||(v=!0,C.postMessage(null))},i=function(e,r){g=d((function(){e(t.unstable_now())}),r)},n=function(){p(g),g=-1}}function x(e,t){var r=e.length;e.push(t);e:for(;;){var i=r-1>>>1,n=e[i];if(!(void 0!==n&&0<S(n,t)))break e;e[i]=t,e[r]=n,r=i}}function w(e){return void 0===(e=e[0])?null:e}function P(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var i=0,n=e.length;i<n;){var o=2*(i+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>S(s,r))void 0!==l&&0>S(l,s)?(e[i]=l,e[a]=r,i=a):(e[i]=s,e[o]=r,i=o);else{if(!(void 0!==l&&0>S(l,r)))break e;e[i]=l,e[a]=r,i=a}}}return t}return null}function S(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var E=[],O=[],T=1,k=null,N=3,M=!1,A=!1,R=!1;function L(e){for(var t=w(O);null!==t;){if(null===t.callback)P(O);else{if(!(t.startTime<=e))break;P(O),t.sortIndex=t.expirationTime,x(E,t)}t=w(O)}}function I(e){if(R=!1,L(e),!A)if(null!==w(E))A=!0,r(D);else{var t=w(O);null!==t&&i(I,t.startTime-e)}}function D(e,r){A=!1,R&&(R=!1,n()),M=!0;var o=N;try{for(L(r),k=w(E);null!==k&&(!(k.expirationTime>r)||e&&!t.unstable_shouldYield());){var s=k.callback;if("function"===typeof s){k.callback=null,N=k.priorityLevel;var a=s(k.expirationTime<=r);r=t.unstable_now(),"function"===typeof a?k.callback=a:k===w(E)&&P(E),L(r)}else P(E);k=w(E)}if(null!==k)var l=!0;else{var c=w(O);null!==c&&i(I,c.startTime-r),l=!1}return l}finally{k=null,N=o,M=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||M||(A=!0,r(D))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return w(E)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var r=N;N=t;try{return e()}finally{N=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=N;N=e;try{return t()}finally{N=r}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:T++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,x(O,e),null===w(E)&&e===w(O)&&(R?n():R=!0,i(I,s-a))):(e.sortIndex=l,x(E,e),A||M||(A=!0,r(D))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var r=N;N=t;try{return e.apply(this,arguments)}finally{N=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},7223:function(e,t,r){"use strict";e.exports=r.p+"static/media/cat_agrees.ee778a862c2c69c276c9.gif"},1156:function(e,t,r){"use strict";e.exports=r.p+"static/media/cat_games.9f130762431f066df2fe.gif"},9594:function(e,t,r){"use strict";e.exports=r.p+"static/media/cat_settings.5a78706a82fd9d7ee249.png"},4737:function(e,t,r){"use strict";e.exports=r.p+"static/media/cat_sleeps.0d5371c8b4cf14cb11a4.gif"},5244:function(e,t,r){"use strict";e.exports=r.p+"static/media/cat_won.a7f79c22a4ef1a31c244.png"},907:function(e,t,r){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}r.d(t,{Z:function(){return i}})},4942:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return i}})},7462:function(e,t,r){"use strict";function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},i.apply(this,arguments)}r.d(t,{Z:function(){return i}})},3366:function(e,t,r){"use strict";function i(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}r.d(t,{Z:function(){return i}})},885:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(181);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var i,n,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(i=r.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(l){a=!0,n=l}finally{try{s||null==r.return||r.return()}finally{if(a)throw n}}return o}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(907);var n=r(181);function o(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,n.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var i=r(907);function n(e,t){if(e){if("string"===typeof e)return(0,i.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,i.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var n=Object.create(null);__webpack_require__.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},__webpack_require__.d(n,o),n}}(),__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,r){return __webpack_require__.f[r](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+".6545e632.chunk.js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="simple_math:";__webpack_require__.l=function(r,i,n,o){if(e[r])e[r].push(i);else{var s,a;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+n){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+n),s.src=r),e[r]=[i];var h=function(t,i){s.onerror=s.onload=null,clearTimeout(d);var n=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(i)})),t)return t(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.p="/simple_math/",function(){var e={179:0};__webpack_require__.f.j=function(t,r){var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var n=new Promise((function(r,n){i=e[t]=[r,n]}));r.push(i[2]=n);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(function(r){if(__webpack_require__.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var n=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",s.name="ChunkLoadError",s.type=n,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,n,o=r[0],s=r[1],a=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)__webpack_require__.o(s,i)&&(__webpack_require__.m[i]=s[i]);if(a)a(__webpack_require__)}for(t&&t(r);l<o.length;l++)n=o[l],__webpack_require__.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunksimple_math=self.webpackChunksimple_math||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FILE:function(){return Ml},HTML:function(){return Ll},TEXT:function(){return Rl},URL:function(){return Al}});var t=__webpack_require__(2791),r=__webpack_require__.t(t,2),i=__webpack_require__(7462),n=__webpack_require__(8023),o=__webpack_require__(9598),s="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",a=__webpack_require__(184);var l=function(e){var r=e.children,l=e.theme,c=(0,o.Z)(),u=t.useMemo((function(){var e=null===c?l:function(e,t){return"function"===typeof t?t(e):(0,i.Z)({},e,t)}(c,l);return null!=e&&(e[s]=null!==c),e}),[l,c]);return(0,a.jsx)(n.Z.Provider,{value:u,children:r})},c=__webpack_require__(1688),u=__webpack_require__(3459);function h(e){var t=(0,u.Z)();return(0,a.jsx)(c.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var d,p=function(e){var t=e.children,r=e.theme;return(0,a.jsx)(l,{theme:r,children:(0,a.jsx)(h,{children:t})})},f=__webpack_require__(7107),v=__webpack_require__(4164),m=__webpack_require__(885);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(d||(d={}));var g=function(e){return e};var b="beforeunload",y="popstate";function _(e){e.preventDefault(),e.returnValue=""}function C(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function x(){return Math.random().toString(36).substr(2,8)}function w(e){var t=e.pathname,r=void 0===t?"/":t,i=e.search,n=void 0===i?"":i,o=e.hash,s=void 0===o?"":o;return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(r+="#"===s.charAt(0)?s:"#"+s),r}function P(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var S=(0,t.createContext)(null);var E=(0,t.createContext)(null);var O=(0,t.createContext)({outlet:null,matches:[]});function T(e,t){if(!e)throw new Error(t)}function k(e,t,r){void 0===r&&(r="/");var i=j(("string"===typeof t?P(t):t).pathname||"/",r);if(null==i)return null;var n=N(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var r=e.length===t.length&&e.slice(0,-1).every((function(e,r){return e===t[r]}));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(n);for(var o=null,s=0;null==o&&s<n.length;++s)o=L(n[s],i);return o}function N(e,t,r,i){return void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===i&&(i=""),e.forEach((function(e,n){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||T(!1),o.relativePath=o.relativePath.slice(i.length));var s=B([i,o.relativePath]),a=r.concat(o);e.children&&e.children.length>0&&(!0===e.index&&T(!1),N(e.children,t,a,s)),(null!=e.path||e.index)&&t.push({path:s,score:R(s,e.index),routesMeta:a})})),t}var M=/^:\w+$/,A=function(e){return"*"===e};function R(e,t){var r=e.split("/"),i=r.length;return r.some(A)&&(i+=-2),t&&(i+=2),r.filter((function(e){return!A(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),i)}function L(e,t){for(var r=e.routesMeta,i={},n="/",o=[],s=0;s<r.length;++s){var a=r[s],l=s===r.length-1,c="/"===n?t:t.slice(n.length)||"/",u=I({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);var h=a.route;o.push({params:i,pathname:B([n,u.pathname]),pathnameBase:Y(B([n,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(n=B([n,u.pathnameBase]))}return o}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);var i=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return i.push(t),"([^\\/]+)"}));e.endsWith("*")?(i.push("*"),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(n,t?void 0:"i"),i]}(e.path,e.caseSensitive,e.end),i=(0,m.Z)(r,2),n=i[0],o=i[1],s=t.match(n);if(!s)return null;var a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((function(e,t,r){if("*"===t){var i=c[r]||"";l=a.slice(0,a.length-i.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return e}}(c[r]||""),e}),{}),pathname:a,pathnameBase:l,pattern:e}}function D(e,t,r){var i,n="string"===typeof e?P(e):e,o=""===e||""===n.pathname?"/":n.pathname;if(null==o)i=r;else{var s=t.length-1;if(o.startsWith("..")){for(var a=o.split("/");".."===a[0];)a.shift(),s-=1;n.pathname=a.join("/")}i=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var r="string"===typeof e?P(e):e,i=r.pathname,n=r.search,o=void 0===n?"":n,s=r.hash,a=void 0===s?"":s,l=i?i.startsWith("/")?i:function(e,t){var r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(i,t):t;return{pathname:l,search:z(o),hash:F(a)}}(n,i);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var r=e.charAt(t.length);return r&&"/"!==r?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},Y=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},z=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function X(e){Z()||T(!1);var r=(0,t.useContext)(S),i=r.basename,n=r.navigator,o=J(e),s=o.hash,a=o.pathname,l=o.search,c=a;if("/"!==i){var u=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?P(e).pathname:e.pathname}(e),h=null!=u&&u.endsWith("/");c="/"===a?i+(h?"/":""):B([i,a])}return n.createHref({pathname:c,search:l,hash:s})}function Z(){return null!=(0,t.useContext)(E)}function U(){return Z()||T(!1),(0,t.useContext)(E).location}function G(){Z()||T(!1);var e=(0,t.useContext)(S),r=e.basename,i=e.navigator,n=(0,t.useContext)(O).matches,o=U().pathname,s=JSON.stringify(n.map((function(e){return e.pathnameBase}))),a=(0,t.useRef)(!1);return(0,t.useEffect)((function(){a.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),a.current)if("number"!==typeof e){var n=D(e,JSON.parse(s),o);"/"!==r&&(n.pathname=B([r,n.pathname])),(t.replace?i.replace:i.push)(n,t.state)}else i.go(e)}),[r,i,s,o])}function J(e){var r=(0,t.useContext)(O).matches,i=U().pathname,n=JSON.stringify(r.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return D(e,JSON.parse(n),i)}),[e,n,i])}function H(e,r){return void 0===r&&(r=[]),null==e?null:e.reduceRight((function(i,n,o){return(0,t.createElement)(O.Provider,{children:void 0!==n.route.element?n.route.element:i,value:{outlet:i,matches:r.concat(e.slice(0,o+1))}})}),null)}function V(e){T(!1)}function q(e){var r=e.basename,i=void 0===r?"/":r,n=e.children,o=void 0===n?null:n,s=e.location,a=e.navigationType,l=void 0===a?d.Pop:a,c=e.navigator,u=e.static,h=void 0!==u&&u;Z()&&T(!1);var p=Y(i),f=(0,t.useMemo)((function(){return{basename:p,navigator:c,static:h}}),[p,c,h]);"string"===typeof s&&(s=P(s));var v=s,m=v.pathname,g=void 0===m?"/":m,b=v.search,y=void 0===b?"":b,_=v.hash,C=void 0===_?"":_,x=v.state,w=void 0===x?null:x,O=v.key,k=void 0===O?"default":O,N=(0,t.useMemo)((function(){var e=j(g,p);return null==e?null:{pathname:e,search:y,hash:C,state:w,key:k}}),[p,g,y,C,w,k]);return null==N?null:(0,t.createElement)(S.Provider,{value:f},(0,t.createElement)(E.Provider,{children:o,value:{location:N,navigationType:l}}))}function W(e){var r=e.children,i=e.location;return function(e,r){Z()||T(!1);var i,n=(0,t.useContext)(O).matches,o=n[n.length-1],s=o?o.params:{},a=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,U());if(r){var c,u="string"===typeof r?P(r):r;"/"===a||(null==(c=u.pathname)?void 0:c.startsWith(a))||T(!1),i=u}else i=l;var h=i.pathname||"/",d=k(e,{pathname:"/"===a?h:h.slice(a.length)||"/"});return H(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:B([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:B([a,e.pathnameBase])})})),n)}($(r),i)}function $(e){var r=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==V&&T(!1);var i={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(i.children=$(e.props.children)),r.push(i)}else r.push.apply(r,$(e.props.children))})),r}function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},K.apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}var ee=["onClick","reloadDocument","replace","state","target","to"],te=["aria-current","caseSensitive","className","end","style","to","children"];function re(e){var r=e.basename,n=e.children,o=e.window,s=(0,t.useRef)();null==s.current&&(s.current=function(e){void 0===e&&(e={});var t=e.window,r=void 0===t?document.defaultView:t,n=r.history;function o(){var e=r.location,t=e.pathname,i=e.search,o=e.hash,s=n.state||{};return[s.idx,g({pathname:t,search:i,hash:o,state:s.usr||null,key:s.key||"default"})]}var s=null;r.addEventListener(y,(function(){if(s)p.call(s),s=null;else{var e=d.Pop,t=o(),r=t[0],i=t[1];if(p.length){if(null!=r){var n=c-r;n&&(s={action:e,location:i,retry:function(){O(-1*n)}},O(n))}}else E(e)}}));var a=d.Pop,l=o(),c=l[0],u=l[1],h=C(),p=C();function f(e){return"string"===typeof e?e:w(e)}function v(e,t){return void 0===t&&(t=null),g((0,i.Z)({pathname:u.pathname,hash:"",search:""},"string"===typeof e?P(e):e,{state:t,key:x()}))}function m(e,t){return[{usr:e.state,key:e.key,idx:t},f(e)]}function S(e,t,r){return!p.length||(p.call({action:e,location:t,retry:r}),!1)}function E(e){a=e;var t=o();c=t[0],u=t[1],h.call({action:a,location:u})}function O(e){n.go(e)}null==c&&(c=0,n.replaceState((0,i.Z)({},n.state,{idx:c}),""));var T={get action(){return a},get location(){return u},createHref:f,push:function e(t,i){var o=d.Push,s=v(t,i);if(S(o,s,(function(){e(t,i)}))){var a=m(s,c+1),l=a[0],u=a[1];try{n.pushState(l,"",u)}catch(h){r.location.assign(u)}E(o)}},replace:function e(t,r){var i=d.Replace,o=v(t,r);if(S(i,o,(function(){e(t,r)}))){var s=m(o,c),a=s[0],l=s[1];n.replaceState(a,"",l),E(i)}},go:O,back:function(){O(-1)},forward:function(){O(1)},listen:function(e){return h.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&r.addEventListener(b,_),function(){t(),p.length||r.removeEventListener(b,_)}}};return T}({window:o}));var a=s.current,l=(0,t.useState)({action:a.action,location:a.location}),c=(0,m.Z)(l,2),u=c[0],h=c[1];return(0,t.useLayoutEffect)((function(){return a.listen(h)}),[a]),(0,t.createElement)(q,{basename:r,children:n,location:u.location,navigationType:u.action,navigator:a})}var ie=(0,t.forwardRef)((function(e,r){var i=e.onClick,n=e.reloadDocument,o=e.replace,s=void 0!==o&&o,a=e.state,l=e.target,c=e.to,u=Q(e,ee),h=X(c),d=function(e,r){var i=void 0===r?{}:r,n=i.target,o=i.replace,s=i.state,a=G(),l=U(),c=J(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!n||"_self"===n)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var r=!!o||w(l)===w(c);a(e,{replace:r,state:s})}}),[l,a,c,o,s,n,e])}(c,{replace:s,state:a,target:l});return(0,t.createElement)("a",K({},u,{href:h,onClick:function(e){i&&i(e),e.defaultPrevented||n||d(e)},ref:r,target:l}))}));var ne=(0,t.forwardRef)((function(e,r){var i=e["aria-current"],n=void 0===i?"page":i,o=e.caseSensitive,s=void 0!==o&&o,a=e.className,l=void 0===a?"":a,c=e.end,u=void 0!==c&&c,h=e.style,d=e.to,p=e.children,f=Q(e,te),v=U(),m=J(d),g=v.pathname,b=m.pathname;s||(g=g.toLowerCase(),b=b.toLowerCase());var y,_=g===b||!u&&g.startsWith(b)&&"/"===g.charAt(b.length),C=_?n:void 0;y="function"===typeof l?l({isActive:_}):[l,_?"active":null].filter(Boolean).join(" ");var x="function"===typeof h?h({isActive:_}):h;return(0,t.createElement)(ie,K({},f,{"aria-current":C,className:y,ref:r,style:x,to:d}),"function"===typeof p?p({isActive:_}):p)}));var oe=__webpack_require__(3366),se=__webpack_require__(8182),ae=__webpack_require__(767),le=__webpack_require__(1046),ce=__webpack_require__(7630);function ue(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function he(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ue(e.value)&&""!==e.value||t&&ue(e.defaultValue)&&""!==e.defaultValue)}var de=__webpack_require__(4036),pe=__webpack_require__(9103);var fe=t.createContext(),ve=__webpack_require__(5159),me=__webpack_require__(208);function ge(e){return(0,ve.Z)("MuiFormControl",e)}(0,me.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var be=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ye=(0,ce.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return(0,i.Z)({},t.root,t["margin".concat((0,de.Z)(r.margin))],r.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),_e=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiFormControl"}),o=n.children,s=n.className,l=n.color,c=void 0===l?"primary":l,u=n.component,h=void 0===u?"div":u,d=n.disabled,p=void 0!==d&&d,f=n.error,v=void 0!==f&&f,g=n.focused,b=n.fullWidth,y=void 0!==b&&b,_=n.hiddenLabel,C=void 0!==_&&_,x=n.margin,w=void 0===x?"none":x,P=n.required,S=void 0!==P&&P,E=n.size,O=void 0===E?"medium":E,T=n.variant,k=void 0===T?"outlined":T,N=(0,oe.Z)(n,be),M=(0,i.Z)({},n,{color:c,component:h,disabled:p,error:v,fullWidth:y,hiddenLabel:C,margin:w,required:S,size:O,variant:k}),A=function(e){var t=e.classes,r=e.margin,i=e.fullWidth,n={root:["root","none"!==r&&"margin".concat((0,de.Z)(r)),i&&"fullWidth"]};return(0,ae.Z)(n,ge,t)}(M),R=t.useState((function(){var e=!1;return o&&t.Children.forEach(o,(function(t){if((0,pe.Z)(t,["Input","Select"])){var r=(0,pe.Z)(t,["Select"])?t.props.input:t;r&&r.props.startAdornment&&(e=!0)}})),e})),L=(0,m.Z)(R,2),I=L[0],D=L[1],j=t.useState((function(){var e=!1;return o&&t.Children.forEach(o,(function(t){(0,pe.Z)(t,["Input","Select"])&&he(t.props,!0)&&(e=!0)})),e})),B=(0,m.Z)(j,2),Y=B[0],z=B[1],F=t.useState(!1),X=(0,m.Z)(F,2),Z=X[0],U=X[1];p&&Z&&U(!1);var G=void 0===g||p?Z:g,J=t.useCallback((function(){z(!0)}),[]),H={adornedStart:I,setAdornedStart:D,color:c,disabled:p,error:v,filled:Y,focused:G,fullWidth:y,hiddenLabel:C,size:O,onBlur:function(){U(!1)},onEmpty:t.useCallback((function(){z(!1)}),[]),onFilled:J,onFocus:function(){U(!0)},registerEffect:undefined,required:S,variant:k};return(0,a.jsx)(fe.Provider,{value:H,children:(0,a.jsx)(ye,(0,i.Z)({as:h,ownerState:M,className:(0,se.Z)(A.root,s),ref:r},N,{children:o}))})})),Ce=__webpack_require__(2982),xe=__webpack_require__(2466),we=__webpack_require__(6001),Pe=["sx"];function Se(e){var t,r=e.sx,n=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(r){we.Gc[r]?t.systemProps[r]=e[r]:t.otherProps[r]=e[r]})),t}((0,oe.Z)(e,Pe)),o=n.systemProps,s=n.otherProps;return t=Array.isArray(r)?[o].concat((0,Ce.Z)(r)):"function"===typeof r?function(){var e=r.apply(void 0,arguments);return(0,xe.P)(e)?(0,i.Z)({},o,e):o}:(0,i.Z)({},o,r),(0,i.Z)({},s,{sx:t})}function Ee(e){return(0,ve.Z)("MuiTypography",e)}(0,me.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var Oe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Te=(0,ce.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t["align".concat((0,de.Z)(r.align))],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({margin:0},r.variant&&t.typography[r.variant],"inherit"!==r.align&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})})),ke={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Ne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Me=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiTypography"}),n=function(e){return Ne[e]||e}(r.color),o=Se((0,i.Z)({},r,{color:n})),s=o.align,l=void 0===s?"inherit":s,c=o.className,u=o.component,h=o.gutterBottom,d=void 0!==h&&h,p=o.noWrap,f=void 0!==p&&p,v=o.paragraph,m=void 0!==v&&v,g=o.variant,b=void 0===g?"body1":g,y=o.variantMapping,_=void 0===y?ke:y,C=(0,oe.Z)(o,Oe),x=(0,i.Z)({},o,{align:l,color:n,className:c,component:u,gutterBottom:d,noWrap:f,paragraph:m,variant:b,variantMapping:_}),w=u||(m?"p":_[b]||ke[b])||"span",P=function(e){var t=e.align,r=e.gutterBottom,i=e.noWrap,n=e.paragraph,o=e.variant,s=e.classes,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,de.Z)(t)),r&&"gutterBottom",i&&"noWrap",n&&"paragraph"]};return(0,ae.Z)(a,Ee,s)}(x);return(0,a.jsx)(Te,(0,i.Z)({as:w,ref:t,ownerState:x,className:(0,se.Z)(P.root,c)},C))}));function Ae(e){return(0,ve.Z)("MuiFormGroup",e)}(0,me.Z)("MuiFormGroup",["root","row","error"]);function Re(){return t.useContext(fe)}function Le(e){var t=e.props,r=e.states,i=e.muiFormControl;return r.reduce((function(e,r){return e[r]=t[r],i&&"undefined"===typeof t[r]&&(e[r]=i[r]),e}),{})}var Ie=["className","row"],De=(0,ce.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.row&&t.row]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),je=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiFormGroup"}),n=r.className,o=r.row,s=void 0!==o&&o,l=(0,oe.Z)(r,Ie),c=Le({props:r,muiFormControl:Re(),states:["error"]}),u=(0,i.Z)({},r,{row:s,error:c.error}),h=function(e){var t=e.classes,r={root:["root",e.row&&"row",e.error&&"error"]};return(0,ae.Z)(r,Ae,t)}(u);return(0,a.jsx)(De,(0,i.Z)({className:(0,se.Z)(h.root,n),ownerState:u,ref:t},l))})),Be=__webpack_require__(2071),Ye=__webpack_require__(8744);var ze=t.createContext(void 0),Fe=__webpack_require__(5836),Xe=["actions","children","defaultValue","name","onChange","value"],Ze=t.forwardRef((function(e,r){var n=e.actions,o=e.children,s=e.defaultValue,l=e.name,c=e.onChange,u=e.value,h=(0,oe.Z)(e,Xe),d=t.useRef(null),p=(0,Ye.Z)({controlled:u,default:s,name:"RadioGroup"}),f=(0,m.Z)(p,2),v=f[0],g=f[1];t.useImperativeHandle(n,(function(){return{focus:function(){var e=d.current.querySelector("input:not(:disabled):checked");e||(e=d.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var b=(0,Be.Z)(r,d),y=(0,Fe.Z)(l);return(0,a.jsx)(ze.Provider,{value:{name:y,onChange:function(e){g(e.target.value),c&&c(e,e.target.value)},value:v},children:(0,a.jsx)(je,(0,i.Z)({role:"radiogroup",ref:b},h,{children:o}))})})),Ue=__webpack_require__(4942);function Ge(e){return(0,ve.Z)("MuiFormControlLabel",e)}var Je=(0,me.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),He=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Ve=(0,ce.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[(0,Ue.Z)({},"& .".concat(Je.label),t.label),t.root,t["labelPlacement".concat((0,de.Z)(r.labelPlacement))]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)((0,Ue.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(Je.disabled),{cursor:"default"}),"start"===r.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===r.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===r.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,Ue.Z)({},"& .".concat(Je.label),(0,Ue.Z)({},"&.".concat(Je.disabled),{color:t.palette.text.disabled})))})),qe=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiFormControlLabel"}),o=n.className,s=n.componentsProps,l=void 0===s?{}:s,c=n.control,u=n.disabled,h=n.disableTypography,d=n.label,p=n.labelPlacement,f=void 0===p?"end":p,v=(0,oe.Z)(n,He),m=Re(),g=u;"undefined"===typeof g&&"undefined"!==typeof c.props.disabled&&(g=c.props.disabled),"undefined"===typeof g&&m&&(g=m.disabled);var b={disabled:g};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof c.props[e]&&"undefined"!==typeof n[e]&&(b[e]=n[e])}));var y=Le({props:n,muiFormControl:m,states:["error"]}),_=(0,i.Z)({},n,{disabled:g,labelPlacement:f,error:y.error}),C=function(e){var t=e.classes,r=e.disabled,i=e.labelPlacement,n=e.error,o={root:["root",r&&"disabled","labelPlacement".concat((0,de.Z)(i)),n&&"error"],label:["label",r&&"disabled"]};return(0,ae.Z)(o,Ge,t)}(_),x=d;return null==x||x.type===Me||h||(x=(0,a.jsx)(Me,(0,i.Z)({component:"span",className:C.label},l.typography,{children:x}))),(0,a.jsxs)(Ve,(0,i.Z)({className:(0,se.Z)(C.root,o),ownerState:_,ref:r},v,{children:[t.cloneElement(c,b),x]}))})),We=__webpack_require__(2065),$e=__webpack_require__(9683),Ke=__webpack_require__(3031);function Qe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,et(e,t)}var rt=t.createContext(null);function it(e,r){var i=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){i[e.key]=function(e){return r&&(0,t.isValidElement)(e)?r(e):e}(e)})),i}function nt(e,t,r){return null!=r[t]?r[t]:e.props[t]}function ot(e,r,i){var n=it(e.children),o=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var i,n=Object.create(null),o=[];for(var s in e)s in t?o.length&&(n[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(n[l])for(i=0;i<n[l].length;i++){var c=n[l][i];a[n[l][i]]=r(c)}a[l]=r(l)}for(i=0;i<o.length;i++)a[o[i]]=r(o[i]);return a}(r,n);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in r,c=s in n,u=r[s],h=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:i.bind(null,a),in:u.props.in,exit:nt(a,"exit",e),enter:nt(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:i.bind(null,a),in:!0,exit:nt(a,"exit",e),enter:nt(a,"enter",e)})}})),o}var st=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},at=function(e){function r(t,r){var i,n=(i=e.call(this,t,r)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},i}tt(r,e);var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,r){var i,n,o=r.children,s=r.handleExited;return{children:r.firstRender?(i=e,n=s,it(i.children,(function(e){return(0,t.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:nt(e,"appear",i),enter:nt(e,"enter",i),exit:nt(e,"exit",i)})}))):ot(e,o,s),firstRender:!1}},n.handleExited=function(e,t){var r=it(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=(0,i.Z)({},t.children);return delete r[e.key],{children:r}})))},n.render=function(){var e=this.props,r=e.component,i=e.childFactory,n=(0,oe.Z)(e,["component","childFactory"]),o=this.state.contextValue,s=st(this.state.children).map(i);return delete n.appear,delete n.enter,delete n.exit,null===r?t.createElement(rt.Provider,{value:o},s):t.createElement(rt.Provider,{value:o},t.createElement(r,n,s))},r}(t.Component);at.propTypes={},at.defaultProps={component:"div",childFactory:function(e){return e}};var lt=at,ct=(__webpack_require__(76),__webpack_require__(2110),__webpack_require__(5438)),ut=__webpack_require__(1346),ht=r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect,dt=(0,c.w)((function(e,r){var i=e.styles,n=(0,ut.O)([i],void 0,(0,t.useContext)(c.T)),o=(0,t.useRef)();return ht((function(){var e=r.key+"-global",t=new r.sheet.constructor({key:e,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),i=!1,s=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return r.sheet.tags.length&&(t.before=r.sheet.tags[0]),null!==s&&(i=!0,s.setAttribute("data-emotion",e),t.hydrate([s])),o.current=[t,i],function(){t.flush()}}),[r]),ht((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&(0,ct.My)(r,n.next,!0),t.tags.length){var i=t.tags[t.tags.length-1].nextElementSibling;t.before=i,t.flush()}r.insert("",n,t,!1)}}),[r,n.name]),null}));function pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,ut.O)(t)}var ft=function(){var e=pt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var vt=function(e){var r=e.className,i=e.classes,n=e.pulsate,o=void 0!==n&&n,s=e.rippleX,l=e.rippleY,c=e.rippleSize,u=e.in,h=e.onExited,d=e.timeout,p=t.useState(!1),f=(0,m.Z)(p,2),v=f[0],g=f[1],b=(0,se.Z)(r,i.ripple,i.rippleVisible,o&&i.ripplePulsate),y={width:c,height:c,top:-c/2+l,left:-c/2+s},_=(0,se.Z)(i.child,v&&i.childLeaving,o&&i.childPulsate);return u||v||g(!0),t.useEffect((function(){if(!u&&null!=h){var e=setTimeout(h,d);return function(){clearTimeout(e)}}}),[h,u,d]),(0,a.jsx)("span",{className:b,style:y,children:(0,a.jsx)("span",{className:_})})};var mt,gt,bt,yt,_t,Ct,xt,wt,Pt=(0,me.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),St=["center","classes","className"],Et=ft(_t||(_t=mt||(mt=Qe(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ot=ft(Ct||(Ct=gt||(gt=Qe(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Tt=ft(xt||(xt=bt||(bt=Qe(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),kt=(0,ce.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Nt=(0,ce.ZP)(vt,{name:"MuiTouchRipple",slot:"Ripple"})(wt||(wt=yt||(yt=Qe(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Pt.rippleVisible,Et,550,(function(e){return e.theme.transitions.easing.easeInOut}),Pt.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Pt.child,Pt.childLeaving,Ot,550,(function(e){return e.theme.transitions.easing.easeInOut}),Pt.childPulsate,Tt,(function(e){return e.theme.transitions.easing.easeInOut})),Mt=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiTouchRipple"}),o=n.center,s=void 0!==o&&o,l=n.classes,c=void 0===l?{}:l,u=n.className,h=(0,oe.Z)(n,St),d=t.useState([]),p=(0,m.Z)(d,2),f=p[0],v=p[1],g=t.useRef(0),b=t.useRef(null);t.useEffect((function(){b.current&&(b.current(),b.current=null)}),[f]);var y=t.useRef(!1),_=t.useRef(null),C=t.useRef(null),x=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(_.current)}}),[]);var w=t.useCallback((function(e){var t=e.pulsate,r=e.rippleX,i=e.rippleY,n=e.rippleSize,o=e.cb;v((function(e){return[].concat((0,Ce.Z)(e),[(0,a.jsx)(Nt,{classes:{ripple:(0,se.Z)(c.ripple,Pt.ripple),rippleVisible:(0,se.Z)(c.rippleVisible,Pt.rippleVisible),ripplePulsate:(0,se.Z)(c.ripplePulsate,Pt.ripplePulsate),child:(0,se.Z)(c.child,Pt.child),childLeaving:(0,se.Z)(c.childLeaving,Pt.childLeaving),childPulsate:(0,se.Z)(c.childPulsate,Pt.childPulsate)},timeout:550,pulsate:t,rippleX:r,rippleY:i,rippleSize:n},g.current)])})),g.current+=1,b.current=o}),[c]),P=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=t.pulsate,n=void 0!==i&&i,o=t.center,a=void 0===o?s||t.pulsate:o,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var u,h,d,p=c?null:x.current,f=p?p.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(a||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(f.width/2),h=Math.round(f.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,g=v.clientY;u=Math.round(m-f.left),h=Math.round(g-f.top)}if(a)(d=Math.sqrt((2*Math.pow(f.width,2)+Math.pow(f.height,2))/3))%2===0&&(d+=1);else{var b=2*Math.max(Math.abs((p?p.clientWidth:0)-u),u)+2,P=2*Math.max(Math.abs((p?p.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(b,2)+Math.pow(P,2))}e.touches?null===C.current&&(C.current=function(){w({pulsate:n,rippleX:u,rippleY:h,rippleSize:d,cb:r})},_.current=setTimeout((function(){C.current&&(C.current(),C.current=null)}),80)):w({pulsate:n,rippleX:u,rippleY:h,rippleSize:d,cb:r})}}),[s,w]),S=t.useCallback((function(){P({},{pulsate:!0})}),[P]),E=t.useCallback((function(e,t){if(clearTimeout(_.current),"touchend"===e.type&&C.current)return C.current(),C.current=null,void(_.current=setTimeout((function(){E(e,t)})));C.current=null,v((function(e){return e.length>0?e.slice(1):e})),b.current=t}),[]);return t.useImperativeHandle(r,(function(){return{pulsate:S,start:P,stop:E}}),[S,P,E]),(0,a.jsx)(kt,(0,i.Z)({className:(0,se.Z)(c.root,Pt.root,u),ref:x},h,{children:(0,a.jsx)(lt,{component:null,exit:!0,children:f})}))})),At=Mt;function Rt(e){return(0,ve.Z)("MuiButtonBase",e)}var Lt,It=(0,me.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Dt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],jt=(0,ce.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Lt={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,Ue.Z)(Lt,"&.".concat(It.disabled),{pointerEvents:"none",cursor:"default"}),(0,Ue.Z)(Lt,"@media print",{colorAdjust:"exact"}),Lt)),Bt=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiButtonBase"}),o=n.action,s=n.centerRipple,l=void 0!==s&&s,c=n.children,u=n.className,h=n.component,d=void 0===h?"button":h,p=n.disabled,f=void 0!==p&&p,v=n.disableRipple,g=void 0!==v&&v,b=n.disableTouchRipple,y=void 0!==b&&b,_=n.focusRipple,C=void 0!==_&&_,x=n.LinkComponent,w=void 0===x?"a":x,P=n.onBlur,S=n.onClick,E=n.onContextMenu,O=n.onDragLeave,T=n.onFocus,k=n.onFocusVisible,N=n.onKeyDown,M=n.onKeyUp,A=n.onMouseDown,R=n.onMouseLeave,L=n.onMouseUp,I=n.onTouchEnd,D=n.onTouchMove,j=n.onTouchStart,B=n.tabIndex,Y=void 0===B?0:B,z=n.TouchRippleProps,F=n.touchRippleRef,X=n.type,Z=(0,oe.Z)(n,Dt),U=t.useRef(null),G=t.useRef(null),J=(0,Be.Z)(G,F),H=(0,Ke.Z)(),V=H.isFocusVisibleRef,q=H.onFocus,W=H.onBlur,$=H.ref,K=t.useState(!1),Q=(0,m.Z)(K,2),ee=Q[0],te=Q[1];f&&ee&&te(!1),t.useImperativeHandle(o,(function(){return{focusVisible:function(){te(!0),U.current.focus()}}}),[]);var re=t.useState(!1),ie=(0,m.Z)(re,2),ne=ie[0],ce=ie[1];t.useEffect((function(){ce(!0)}),[]);var ue=ne&&!g&&!f;function he(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,$e.Z)((function(i){return t&&t(i),!r&&G.current&&G.current[e](i),!0}))}t.useEffect((function(){ee&&C&&!g&&ne&&G.current.pulsate()}),[g,C,ee,ne]);var de=he("start",A),pe=he("stop",E),fe=he("stop",O),ve=he("stop",L),me=he("stop",(function(e){ee&&e.preventDefault(),R&&R(e)})),ge=he("start",j),be=he("stop",I),ye=he("stop",D),_e=he("stop",(function(e){W(e),!1===V.current&&te(!1),P&&P(e)}),!1),Ce=(0,$e.Z)((function(e){U.current||(U.current=e.currentTarget),q(e),!0===V.current&&(te(!0),k&&k(e)),T&&T(e)})),xe=function(){var e=U.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},we=t.useRef(!1),Pe=(0,$e.Z)((function(e){C&&!we.current&&ee&&G.current&&" "===e.key&&(we.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&xe()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&xe()&&"Enter"===e.key&&!f&&(e.preventDefault(),S&&S(e))})),Se=(0,$e.Z)((function(e){C&&" "===e.key&&G.current&&ee&&!e.defaultPrevented&&(we.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),M&&M(e),S&&e.target===e.currentTarget&&xe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),Ee=d;"button"===Ee&&(Z.href||Z.to)&&(Ee=w);var Oe={};"button"===Ee?(Oe.type=void 0===X?"button":X,Oe.disabled=f):(Z.href||Z.to||(Oe.role="button"),f&&(Oe["aria-disabled"]=f));var Te=(0,Be.Z)($,U),ke=(0,Be.Z)(r,Te);var Ne=(0,i.Z)({},n,{centerRipple:l,component:d,disabled:f,disableRipple:g,disableTouchRipple:y,focusRipple:C,tabIndex:Y,focusVisible:ee}),Me=function(e){var t=e.disabled,r=e.focusVisible,i=e.focusVisibleClassName,n=e.classes,o={root:["root",t&&"disabled",r&&"focusVisible"]},s=(0,ae.Z)(o,Rt,n);return r&&i&&(s.root+=" ".concat(i)),s}(Ne);return(0,a.jsxs)(jt,(0,i.Z)({as:Ee,className:(0,se.Z)(Me.root,u),ownerState:Ne,onBlur:_e,onClick:S,onContextMenu:pe,onFocus:Ce,onKeyDown:Pe,onKeyUp:Se,onMouseDown:de,onMouseLeave:me,onMouseUp:ve,onDragLeave:fe,onTouchEnd:be,onTouchMove:ye,onTouchStart:ge,ref:ke,tabIndex:f?-1:Y,type:X},Oe,Z,{children:[c,ue?(0,a.jsx)(At,(0,i.Z)({ref:J,center:l},z)):null]}))})),Yt=Bt;function zt(e){return(0,ve.Z)("PrivateSwitchBase",e)}(0,me.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Ft=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Xt=(0,ce.ZP)(Yt)((function(e){var t=e.ownerState;return(0,i.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),Zt=(0,ce.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ut=t.forwardRef((function(e,t){var r=e.autoFocus,n=e.checked,o=e.checkedIcon,s=e.className,l=e.defaultChecked,c=e.disabled,u=e.disableFocusRipple,h=void 0!==u&&u,d=e.edge,p=void 0!==d&&d,f=e.icon,v=e.id,g=e.inputProps,b=e.inputRef,y=e.name,_=e.onBlur,C=e.onChange,x=e.onFocus,w=e.readOnly,P=e.required,S=e.tabIndex,E=e.type,O=e.value,T=(0,oe.Z)(e,Ft),k=(0,Ye.Z)({controlled:n,default:Boolean(l),name:"SwitchBase",state:"checked"}),N=(0,m.Z)(k,2),M=N[0],A=N[1],R=Re(),L=c;R&&"undefined"===typeof L&&(L=R.disabled);var I="checkbox"===E||"radio"===E,D=(0,i.Z)({},e,{checked:M,disabled:L,disableFocusRipple:h,edge:p}),j=function(e){var t=e.classes,r=e.checked,i=e.disabled,n=e.edge,o={root:["root",r&&"checked",i&&"disabled",n&&"edge".concat((0,de.Z)(n))],input:["input"]};return(0,ae.Z)(o,zt,t)}(D);return(0,a.jsxs)(Xt,(0,i.Z)({component:"span",className:(0,se.Z)(j.root,s),centerRipple:!0,focusRipple:!h,disabled:L,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),R&&R.onFocus&&R.onFocus(e)},onBlur:function(e){_&&_(e),R&&R.onBlur&&R.onBlur(e)},ownerState:D,ref:t},T,{children:[(0,a.jsx)(Zt,(0,i.Z)({autoFocus:r,checked:n,defaultChecked:l,className:j.input,disabled:L,id:I&&v,name:y,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;A(t),C&&C(e,t)}},readOnly:w,ref:b,required:P,ownerState:D,tabIndex:S,type:E},"checkbox"===E&&void 0===O?{}:{value:O},g)),M?o:f]}))})),Gt=Ut,Jt=__webpack_require__(9201),Ht=(0,Jt.Z)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Vt=(0,Jt.Z)((0,a.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),qt=(0,ce.ZP)("span")({position:"relative",display:"flex"}),Wt=(0,ce.ZP)(Ht)({transform:"scale(1)"}),$t=(0,ce.ZP)(Vt)((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},r.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));var Kt=function(e){var t=e.checked,r=void 0!==t&&t,n=e.classes,o=void 0===n?{}:n,s=e.fontSize,l=(0,i.Z)({},e,{checked:r});return(0,a.jsxs)(qt,{className:o.root,ownerState:l,children:[(0,a.jsx)(Wt,{fontSize:s,className:o.background,ownerState:l}),(0,a.jsx)($t,{fontSize:s,className:o.dot,ownerState:l})]})},Qt=__webpack_require__(1260);function er(e){return(0,ve.Z)("MuiRadio",e)}var tr=(0,me.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),rr=["checked","checkedIcon","color","icon","name","onChange","size"],ir=(0,ce.ZP)(Gt,{shouldForwardProp:function(e){return(0,ce.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["color".concat((0,de.Z)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({color:t.palette.text.secondary,"&:hover":{backgroundColor:(0,We.Fq)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(0,Ue.Z)({},"&.".concat(tr.checked),{color:t.palette[r.color].main}),(0,Ue.Z)({},"&.".concat(tr.disabled),{color:t.palette.action.disabled}))}));var nr=(0,a.jsx)(Kt,{checked:!0}),or=(0,a.jsx)(Kt,{}),sr=t.forwardRef((function(e,r){var n,o,s,l,c=(0,le.Z)({props:e,name:"MuiRadio"}),u=c.checked,h=c.checkedIcon,d=void 0===h?nr:h,p=c.color,f=void 0===p?"primary":p,v=c.icon,m=void 0===v?or:v,g=c.name,b=c.onChange,y=c.size,_=void 0===y?"medium":y,C=(0,oe.Z)(c,rr),x=(0,i.Z)({},c,{color:f,size:_}),w=function(e){var t=e.classes,r=e.color,n={root:["root","color".concat((0,de.Z)(r))]};return(0,i.Z)({},t,(0,ae.Z)(n,er,t))}(x),P=t.useContext(ze),S=u,E=(0,Qt.Z)(b,P&&P.onChange),O=g;return P&&("undefined"===typeof S&&(s=P.value,S="object"===typeof(l=c.value)&&null!==l?s===l:String(s)===String(l)),"undefined"===typeof O&&(O=P.name)),(0,a.jsx)(ir,(0,i.Z)({type:"radio",icon:t.cloneElement(m,{fontSize:null!=(n=or.props.fontSize)?n:_}),checkedIcon:t.cloneElement(d,{fontSize:null!=(o=nr.props.fontSize)?o:_}),ownerState:x,classes:w,name:O,checked:S,onChange:E,ref:r},C))})),ar=__webpack_require__(1712),lr=__webpack_require__.n(ar),cr="Board_container__SALhz",ur="Board_board__6IyPj",hr=__webpack_require__(594),dr=__webpack_require__(104),pr=["className","component"];var fr=__webpack_require__(7829),vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.defaultTheme,n=e.defaultClassName,o=void 0===n?"MuiBox-root":n,s=e.generateClassName,l=e.styleFunctionSx,c=void 0===l?dr.Z:l,h=(0,hr.ZP)("div")(c),d=t.forwardRef((function(e,t){var n=(0,u.Z)(r),l=Se(e),c=l.className,d=l.component,p=void 0===d?"div":d,f=(0,oe.Z)(l,pr);return(0,a.jsx)(h,(0,i.Z)({as:p,ref:t,className:(0,se.Z)(c,s?s(o):o),theme:n},f))}));return d}({defaultTheme:(0,f.Z)(),defaultClassName:"MuiBox-root",generateClassName:fr.Z.generate}),mr=vr,gr=function(e,t){var r=180*e/Math.PI;return"".concat(t," = ").concat(r.toFixed(0),"&deg;")},br={attractToGrid:!0,attractorDistance:10,attractorunit:"screen",color:"green"},yr={attractToGrid:!0,attractorDistance:10,attractorunit:"screen",color:"blue"},_r={straightFirst:!1,straightLast:!1,strokeColor:"green"},Cr={straightFirst:!1,strokeColor:"black",strokeWidth:1},xr={showCopyright:!1,axis:!0,grid:!0,defaultAxes:{x:{name:"X",withLabel:!0,label:{position:"rt",offset:[-10,-15]}},y:{withLabel:!0,name:"Y",label:{position:"rt",offset:[-20,-10]}}},keepaspectratio:!0,boundingbox:[-5,5,5,-5]},wr=function(e){var r=e.drawing;return(0,t.useEffect)((function(){var e=lr().JSXGraph.initBoard("JSXGraph",xr);switch(r){case"Inscribed circle":!function(e){e.suspendUpdate();var t=e.create("point",[-1,3],br),r=e.create("point",[3,-2],br),i=e.create("point",[-4,-2],br),n=e.create("line",[t,r],_r),o=e.create("line",[r,i],_r),s=e.create("line",[i,t],_r);e.create("polygon",[t,r,i],{color:"green"});var a=e.create("bisector",[t,r,i],Cr),l=e.create("bisector",[r,i,t],Cr);e.create("bisector",[i,t,r],Cr);var c=e.create("intersection",[a,l,0]),u=e.create("perpendicularpoint",[c,n],yr);e.create("perpendicularpoint",[c,o],yr),e.create("perpendicularpoint",[c,s],yr),e.create("circle",[c,u],{strokeColor:"red",center:{visible:!0,color:"red"}}),e.unsuspendUpdate()}(e);break;case"Circumscribed circle":!function(e){e.suspendUpdate();var t=e.create("point",[-1,3],br),r=e.create("point",[3,-1],br),i=e.create("point",[-3,-3],br),n=e.create("line",[t,r],_r),o=e.create("line",[r,i],_r),s=e.create("line",[i,t],_r);e.create("polygon",[t,r,i],{color:"green"});var a=e.create("midpoint",[t,r],yr),l=e.create("midpoint",[r,i],yr),c=e.create("midpoint",[i,t],yr);e.create("circle",[t,r,i],{strokeColor:"red",center:{visible:!0,color:"red"}}),e.create("perpendicular",[n,a],Cr),e.create("perpendicular",[o,l],Cr),e.create("perpendicular",[s,c],Cr),e.unsuspendUpdate()}(e);break;case"Triangle":!function(e){e.suspendUpdate();var t=e.create("point",[-1,3],br),r=e.create("point",[3,-2],br),i=e.create("point",[-4,-2],br);e.create("line",[t,r],_r),e.create("line",[r,i],_r),e.create("line",[i,t],_r);var n=e.create("angle",[i,t,r],{color:"green"}),o=e.create("angle",[t,r,i],{color:"green"}),s=e.create("angle",[r,i,t],{color:"green"});e.create("text",[3,4,function(){return gr(n.Value(),"&alpha;")}],{fontSize:16}),e.create("text",[3,3.5,function(){return gr(o.Value(),"&beta;")}],{fontSize:16}),e.create("text",[3,3,function(){return gr(s.Value(),"&gamma;")}],{fontSize:16}),e.unsuspendUpdate()}(e)}}),[r]),(0,a.jsx)(mr,{className:cr,children:(0,a.jsx)("div",{id:"JSXGraph",className:ur})})},Pr="GeometryPage_container__usMKV",Sr="GeometryPage_\u0441ontrol__OYUkm",Er="GeometryPage_\u0441ontrolTitle__5QE23",Or=["Triangle","Inscribed circle","Circumscribed circle"],Tr=function(){var e=(0,t.useState)(Or[0]),r=(0,m.Z)(e,2),i=r[0],n=r[1],o=function(e){n(e.target.value)};return(0,a.jsxs)("div",{className:Pr,children:[(0,a.jsx)(wr,{drawing:i}),(0,a.jsxs)(_e,{className:Sr,children:[(0,a.jsx)(Me,{className:Er,children:"Select drawing"}),(0,a.jsx)(Ze,{defaultValue:Or[0],children:Or.map((function(e){return(0,a.jsx)(qe,{value:e,control:(0,a.jsx)(sr,{}),label:e,onChange:o},e)}))})]})]})};function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach((function(t){(0,Ue.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mr(e){return(0,ve.Z)("MuiPaper",e)}(0,me.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Ar=["className","component","elevation","square","variant"],Rr=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Lr=(0,ce.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],!r.square&&t.rounded,"elevation"===r.variant&&t["elevation".concat(r.elevation)]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===r.variant&&(0,i.Z)({boxShadow:t.shadows[r.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,We.Fq)("#fff",Rr(r.elevation)),", ").concat((0,We.Fq)("#fff",Rr(r.elevation)),")")}))})),Ir=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiPaper"}),n=r.className,o=r.component,s=void 0===o?"div":o,l=r.elevation,c=void 0===l?1:l,u=r.square,h=void 0!==u&&u,d=r.variant,p=void 0===d?"elevation":d,f=(0,oe.Z)(r,Ar),v=(0,i.Z)({},r,{component:s,elevation:c,square:h,variant:p}),m=function(e){var t=e.square,r=e.elevation,i=e.variant,n=e.classes,o={root:["root",i,!t&&"rounded","elevation"===i&&"elevation".concat(r)]};return(0,ae.Z)(o,Mr,n)}(v);return(0,a.jsx)(Lr,(0,i.Z)({as:s,ownerState:v,className:(0,se.Z)(m.root,n),ref:t},f))}));function Dr(e){return(0,ve.Z)("MuiCard",e)}(0,me.Z)("MuiCard",["root"]);var jr=["className","raised"],Br=(0,ce.ZP)(Ir,{name:"MuiCard",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(){return{overflow:"hidden"}})),Yr=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiCard"}),n=r.className,o=r.raised,s=void 0!==o&&o,l=(0,oe.Z)(r,jr),c=(0,i.Z)({},r,{raised:s}),u=function(e){var t=e.classes;return(0,ae.Z)({root:["root"]},Dr,t)}(c);return(0,a.jsx)(Br,(0,i.Z)({className:(0,se.Z)(u.root,n),elevation:s?8:void 0,ref:t,ownerState:c},l))})),zr=__webpack_require__(1694),Fr=__webpack_require__.n(zr);var Xr="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function Zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Gr(e,t,r){return t&&Ur(e.prototype,t),r&&Ur(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Jr=function(){function e(t,r,i){Zr(this,e),this.spec=t,this.monitor=r,this.connector=i}return Gr(e,[{key:"beginDrag",value:function(){var e=this.spec,t=this.monitor,r=null;return null!==(r="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{})&&void 0!==r?r:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var r=this.spec,i=this.monitor,n=r.isDragging;return n?n(i):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,r=this.connector,i=e.end;i&&i(t.getItem(),t),r.reconnect()}}]),e}();function Hr(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];if(Vr()&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(t.replace(/%s/g,(function(){return i[s++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}function Vr(){return"undefined"!==typeof process&&!0}var qr=(0,t.createContext)({dragDropManager:void 0});function Wr(){var e=(0,t.useContext)(qr).dragDropManager;return Hr(null!=e,"Expected drag drop context"),e}function $r(e,r,i){var n=Wr(),o=function(e,r,i){var n=(0,t.useMemo)((function(){return new Jr(e,r,i)}),[r,i]);return(0,t.useEffect)((function(){n.spec=e}),[e]),n}(e,r,i),s=function(e){return(0,t.useMemo)((function(){var t=e.type;return Hr(null!=t,"spec.type must be defined"),t}),[e])}(e);Xr((function(){if(null!=s){var e=function(e,t,r){var i=r.getRegistry(),n=i.addSource(e,t);return[n,function(){return i.removeSource(n)}]}(s,o,n),t=(0,m.Z)(e,2),a=t[0],l=t[1];return r.receiveHandlerId(a),i.receiveHandlerId(a),l}}),[n,r,i,o,s])}function Kr(e,r){var i=(0,Ce.Z)(r||[]);return null==r&&"function"!==typeof e&&i.push(e),(0,t.useMemo)((function(){return"function"===typeof e?e():e}),i)}var Qr=!1,ei=!1,ti=function(){function e(t){Zr(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}return Gr(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Hr(!Qr,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Qr=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Qr=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Hr(!ei,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ei=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ei=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function ri(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function ii(e){var r={};return Object.keys(e).forEach((function(i){var n=e[i];if(i.endsWith("Ref"))r[i]=e[i];else{var o=function(e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,t.isValidElement)(r)){var n=r;return e(n,i),n}var o=r;ri(o);var s=i?function(t){return e(t,i)}:e;return oi(o,s)}}(n);r[i]=function(){return o}}})),r}function ni(e,t){"function"===typeof e?e(t):e.current=t}function oi(e,r){var i=e.ref;return Hr("string"!==typeof i,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),i?(0,t.cloneElement)(e,{ref:function(e){ni(i,e),ni(r,e)}}):(0,t.cloneElement)(e,{ref:r})}function si(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ai(e,t,r,i){var n=r?r.call(i,e,t):void 0;if(void 0!==n)return!!n;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],h=t[c];if(!1===(n=r?r.call(i,u,h,c):void 0)||void 0===n&&u!==h)return!1}return!0}var li=function(){function e(t){var r=this;Zr(this,e),this.hooks=ii({dragSource:function(e,t){r.clearDragSource(),r.dragSourceOptions=t||null,si(e)?r.dragSourceRef=e:r.dragSourceNode=e,r.reconnectDragSource()},dragPreview:function(e,t){r.clearDragPreview(),r.dragPreviewOptions=t||null,si(e)?r.dragPreviewRef=e:r.dragPreviewNode=e,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}return Gr(e,[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){var e=this.reconnectDragSource();this.reconnectDragPreview(e)}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}},{key:"reconnectDragPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!ai(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!ai(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();var ci=__webpack_require__(8262);function ui(e,r,i){var n=function(e,r,i){var n=(0,t.useState)((function(){return r(e)})),o=(0,m.Z)(n,2),s=o[0],a=o[1],l=(0,t.useCallback)((function(){var t=r(e);ci(s,t)||(a(t),i&&i())}),[s,e,i]);return Xr(l),[s,l]}(e,r,i),o=(0,m.Z)(n,2),s=o[0],a=o[1];return Xr((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})}),[e,a]),s}function hi(e,t,r){return ui(t,e||function(){return{}},(function(){return r.reconnect()}))}function di(e){return(0,t.useMemo)((function(){return e.hooks.dragSource()}),[e])}function pi(e){return(0,t.useMemo)((function(){return e.hooks.dragPreview()}),[e])}function fi(e,r){var i=Kr(e,r);Hr(!i.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=function(){var e=Wr();return(0,t.useMemo)((function(){return new ti(e)}),[e])}(),o=function(e,r){var i=Wr(),n=(0,t.useMemo)((function(){return new li(i.getBackend())}),[i]);return Xr((function(){return n.dragSourceOptions=e||null,n.reconnect(),function(){return n.disconnectDragSource()}}),[n,e]),Xr((function(){return n.dragPreviewOptions=r||null,n.reconnect(),function(){return n.disconnectDragPreview()}}),[n,r]),n}(i.options,i.previewOptions);return $r(i,n,o),[hi(i.collect,n,o),di(o),pi(o)]}var vi="DragableCard_answerCard__6oVaO",mi="DragableCard_isDragging__wuGus",gi="DragableCard_isHidden__zQdVO",bi=function(e){var r,i=e.name,n=e.color,o=e.isGame,s=e.children,l=(0,t.useState)(!1),c=(0,m.Z)(l,2),u=c[0],h=c[1],d=function(){var e=(0,t.useState)({width:void 0,height:void 0}),r=(0,m.Z)(e,2),i=r[0],n=r[1];return(0,t.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),i}().width,p=fi((function(){return{type:"box",item:{name:i},end:function(e,t){var r=t.getDropResult();e&&r&&e.name===r.name&&h(!0)},collect:function(e){return{isDragging:e.isDragging(),handlerId:e.getHandlerId()}}}})),f=(0,m.Z)(p,2),v=f[0].isDragging,g=f[1],b={left:"".concat(Math.random()*(d-70-300),"px"),top:"".concat(160*Math.random(),"px"),transform:"rotate(".concat(7*(Math.random()-.5),"deg)")};return(0,a.jsx)(Yr,{ref:g,className:Fr()((r={},(0,Ue.Z)(r,vi,!0),(0,Ue.Z)(r,mi,v),(0,Ue.Z)(r,gi,!o||u),r)),style:Nr(Nr({},b),{},{backgroundColor:n}),"data-testid":"box-".concat(i),children:s})};var yi=function(){function e(t,r){Zr(this,e),this.spec=t,this.monitor=r}return Gr(e,[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}]),e}();function _i(e,r,i){var n=Wr(),o=function(e,r){var i=(0,t.useMemo)((function(){return new yi(e,r)}),[r]);return(0,t.useEffect)((function(){i.spec=e}),[e]),i}(e,r),s=function(e){var r=e.accept;return(0,t.useMemo)((function(){return Hr(null!=e.accept,"accept must be defined"),Array.isArray(r)?r:[r]}),[r])}(e);Xr((function(){var e=function(e,t,r){var i=r.getRegistry(),n=i.addTarget(e,t);return[n,function(){return i.removeTarget(n)}]}(s,o,n),t=(0,m.Z)(e,2),a=t[0],l=t[1];return r.receiveHandlerId(a),i.receiveHandlerId(a),l}),[n,r,o,i,s.map((function(e){return e.toString()})).join("|")])}var Ci=!1,xi=function(){function e(t){Zr(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}return Gr(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Hr(!Ci,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ci=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ci=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();var wi=function(){function e(t){var r=this;Zr(this,e),this.hooks=ii({dropTarget:function(e,t){r.clearDropTarget(),r.dropTargetOptions=t,si(e)?r.dropTargetRef=e:r.dropTargetNode=e,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}return Gr(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!ai(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function Pi(e){return(0,t.useMemo)((function(){return e.hooks.dropTarget()}),[e])}function Si(e,r){var i=Kr(e,r),n=function(){var e=Wr();return(0,t.useMemo)((function(){return new xi(e)}),[e])}(),o=function(e){var r=Wr(),i=(0,t.useMemo)((function(){return new wi(r.getBackend())}),[r]);return Xr((function(){return i.dropTargetOptions=e||null,i.reconnect(),function(){return i.disconnectDropTarget()}}),[e]),i}(i.options);return _i(i,n,o),[hi(i.collect,n,o),Pi(o)]}var Ei="Dustbin_dustbin__jlbhi",Oi="Dustbin_isDragging__dAdv-",Ti="Dustbin_isVisible__1AKMF",ki=function(e){var r,i=e.name,n=e.isGame,o=e.decrementCounter,s=e.children,l=(0,t.useState)(!1),c=(0,m.Z)(l,2),u=c[0],h=c[1],d=Si((function(){return{accept:"box",drop:function(e,t){if(!t.didDrop())return i===e.name&&(h(!0),o()),{name:i}},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop(),handlerId:e.getHandlerId()}}}})),p=(0,m.Z)(d,2),f=p[0],v=f.canDrop,g=f.isOver,b=p[1],y=v&&g;return(0,t.useEffect)((function(){h(!1)}),[n]),(0,a.jsx)(mr,{ref:b,className:Fr()((r={},(0,Ue.Z)(r,Ei,!0),(0,Ue.Z)(r,Oi,y),(0,Ue.Z)(r,Ti,!n||u),r)),children:s})},Ni=__webpack_require__(5735);function Mi(e){return(0,ve.Z)("MuiButton",e)}var Ai=(0,me.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Ri=t.createContext({}),Li=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ii=function(e){return(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Di=(0,ce.ZP)(Yt,{shouldForwardProp:function(e){return(0,ce.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,de.Z)(r.color))],t["size".concat((0,de.Z)(r.size))],t["".concat(r.variant,"Size").concat((0,de.Z)(r.size))],"inherit"===r.color&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})((function(e){var t,r=e.theme,n=e.ownerState;return(0,i.Z)({},r.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:r.shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:(0,We.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:(0,We.Fq)(r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat(r.palette[n.color].main),backgroundColor:(0,We.Fq)(r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:r.palette.grey.A100,boxShadow:r.shadows[4],"@media (hover: none)":{boxShadow:r.shadows[2],backgroundColor:r.palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:r.palette[n.color].dark,"@media (hover: none)":{backgroundColor:r.palette[n.color].main}}),"&:active":(0,i.Z)({},"contained"===n.variant&&{boxShadow:r.shadows[8]})},(0,Ue.Z)(t,"&.".concat(Ai.focusVisible),(0,i.Z)({},"contained"===n.variant&&{boxShadow:r.shadows[6]})),(0,Ue.Z)(t,"&.".concat(Ai.disabled),(0,i.Z)({color:r.palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat(r.palette.action.disabledBackground)},"outlined"===n.variant&&"secondary"===n.color&&{border:"1px solid ".concat(r.palette.action.disabled)},"contained"===n.variant&&{color:r.palette.action.disabled,boxShadow:r.shadows[0],backgroundColor:r.palette.action.disabledBackground})),t),"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===r.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].main,border:"1px solid ".concat((0,We.Fq)(r.palette[n.color].main,.5))},"contained"===n.variant&&{color:r.palette.getContrastText(r.palette.grey[300]),backgroundColor:r.palette.grey[300],boxShadow:r.shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:r.palette[n.color].contrastText,backgroundColor:r.palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,Ue.Z)(t,"&.".concat(Ai.focusVisible),{boxShadow:"none"}),(0,Ue.Z)(t,"&:active",{boxShadow:"none"}),(0,Ue.Z)(t,"&.".concat(Ai.disabled),{boxShadow:"none"}),t)})),ji=(0,ce.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var r=e.ownerState;return[t.startIcon,t["iconSize".concat((0,de.Z)(r.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Ii(t))})),Bi=(0,ce.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var r=e.ownerState;return[t.endIcon,t["iconSize".concat((0,de.Z)(r.size))]]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Ii(t))})),Yi=t.forwardRef((function(e,r){var n=t.useContext(Ri),o=(0,Ni.Z)(n,e),s=(0,le.Z)({props:o,name:"MuiButton"}),l=s.children,c=s.color,u=void 0===c?"primary":c,h=s.component,d=void 0===h?"button":h,p=s.className,f=s.disabled,v=void 0!==f&&f,m=s.disableElevation,g=void 0!==m&&m,b=s.disableFocusRipple,y=void 0!==b&&b,_=s.endIcon,C=s.focusVisibleClassName,x=s.fullWidth,w=void 0!==x&&x,P=s.size,S=void 0===P?"medium":P,E=s.startIcon,O=s.type,T=s.variant,k=void 0===T?"text":T,N=(0,oe.Z)(s,Li),M=(0,i.Z)({},s,{color:u,component:d,disabled:v,disableElevation:g,disableFocusRipple:y,fullWidth:w,size:S,type:O,variant:k}),A=function(e){var t=e.color,r=e.disableElevation,n=e.fullWidth,o=e.size,s=e.variant,a=e.classes,l={root:["root",s,"".concat(s).concat((0,de.Z)(t)),"size".concat((0,de.Z)(o)),"".concat(s,"Size").concat((0,de.Z)(o)),"inherit"===t&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,de.Z)(o))],endIcon:["endIcon","iconSize".concat((0,de.Z)(o))]},c=(0,ae.Z)(l,Mi,a);return(0,i.Z)({},a,c)}(M),R=E&&(0,a.jsx)(ji,{className:A.startIcon,ownerState:M,children:E}),L=_&&(0,a.jsx)(Bi,{className:A.endIcon,ownerState:M,children:_});return(0,a.jsxs)(Di,(0,i.Z)({ownerState:M,className:(0,se.Z)(p,n.className),component:d,disabled:v,focusRipple:!y,focusVisibleClassName:(0,se.Z)(A.focusVisible,C),ref:r,type:O},N,{classes:A,children:[R,l,L]}))}));function zi(e){return(0,ve.Z)("MuiCardMedia",e)}(0,me.Z)("MuiCardMedia",["root","media","img"]);var Fi=["children","className","component","image","src","style"],Xi=(0,ce.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState,i=r.isMediaComponent,n=r.isImageComponent;return[t.root,i&&t.media,n&&t.img]}})((function(e){var t=e.ownerState;return(0,i.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),Zi=["video","audio","picture","iframe","img"],Ui=["picture","img"],Gi=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiCardMedia"}),n=r.children,o=r.className,s=r.component,l=void 0===s?"div":s,c=r.image,u=r.src,h=r.style,d=(0,oe.Z)(r,Fi),p=-1!==Zi.indexOf(l),f=!p&&c?(0,i.Z)({backgroundImage:'url("'.concat(c,'")')},h):h,v=(0,i.Z)({},r,{component:l,isMediaComponent:p,isImageComponent:-1!==Ui.indexOf(l)}),m=function(e){var t=e.classes,r={root:["root",e.isMediaComponent&&"media",e.isImageComponent&&"img"]};return(0,ae.Z)(r,zi,t)}(v);return(0,a.jsx)(Xi,(0,i.Z)({className:(0,se.Z)(m.root,o),as:l,role:!p&&c?"img":void 0,ref:t,style:f,ownerState:v,src:p?c||u:void 0},d,{children:n}))}));function Ji(e){return(0,ve.Z)("MuiButtonGroup",e)}var Hi=(0,me.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]),Vi=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],qi=(0,ce.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[(0,Ue.Z)({},"& .".concat(Hi.grouped),t.grouped),(0,Ue.Z)({},"& .".concat(Hi.grouped),t["grouped".concat((0,de.Z)(r.orientation))]),(0,Ue.Z)({},"& .".concat(Hi.grouped),t["grouped".concat((0,de.Z)(r.variant))]),(0,Ue.Z)({},"& .".concat(Hi.grouped),t["grouped".concat((0,de.Z)(r.variant)).concat((0,de.Z)(r.orientation))]),(0,Ue.Z)({},"& .".concat(Hi.grouped),t["grouped".concat((0,de.Z)(r.variant)).concat((0,de.Z)(r.color))]),t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({display:"inline-flex",borderRadius:t.shape.borderRadius},"contained"===r.variant&&{boxShadow:t.shadows[2]},r.disableElevation&&{boxShadow:"none"},r.fullWidth&&{width:"100%"},"vertical"===r.orientation&&{flexDirection:"column"},(0,Ue.Z)({},"& .".concat(Hi.grouped),(0,i.Z)({minWidth:40,"&:not(:first-of-type)":(0,i.Z)({},"horizontal"===r.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===r.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===r.variant&&"horizontal"===r.orientation&&{marginLeft:-1},"outlined"===r.variant&&"vertical"===r.orientation&&{marginTop:-1}),"&:not(:last-of-type)":(0,i.Z)({},"horizontal"===r.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===r.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===r.variant&&"horizontal"===r.orientation&&{borderRight:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===r.variant&&"vertical"===r.orientation&&{borderBottom:"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"text"===r.variant&&"inherit"!==r.color&&{borderColor:(0,We.Fq)(t.palette[r.color].main,.5)},"outlined"===r.variant&&"horizontal"===r.orientation&&{borderRightColor:"transparent"},"outlined"===r.variant&&"vertical"===r.orientation&&{borderBottomColor:"transparent"},"contained"===r.variant&&"horizontal"===r.orientation&&(0,Ue.Z)({borderRight:"1px solid ".concat(t.palette.grey[400])},"&.".concat(Hi.disabled),{borderRight:"1px solid ".concat(t.palette.action.disabled)}),"contained"===r.variant&&"vertical"===r.orientation&&(0,Ue.Z)({borderBottom:"1px solid ".concat(t.palette.grey[400])},"&.".concat(Hi.disabled),{borderBottom:"1px solid ".concat(t.palette.action.disabled)}),"contained"===r.variant&&"inherit"!==r.color&&{borderColor:t.palette[r.color].dark},{"&:hover":(0,i.Z)({},"outlined"===r.variant&&"horizontal"===r.orientation&&{borderRightColor:"currentColor"},"outlined"===r.variant&&"vertical"===r.orientation&&{borderBottomColor:"currentColor"})}),"&:hover":(0,i.Z)({},"contained"===r.variant&&{boxShadow:"none"})},"contained"===r.variant&&{boxShadow:"none"})))})),Wi=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiButtonGroup"}),o=n.children,s=n.className,l=n.color,c=void 0===l?"primary":l,u=n.component,h=void 0===u?"div":u,d=n.disabled,p=void 0!==d&&d,f=n.disableElevation,v=void 0!==f&&f,m=n.disableFocusRipple,g=void 0!==m&&m,b=n.disableRipple,y=void 0!==b&&b,_=n.fullWidth,C=void 0!==_&&_,x=n.orientation,w=void 0===x?"horizontal":x,P=n.size,S=void 0===P?"medium":P,E=n.variant,O=void 0===E?"outlined":E,T=(0,oe.Z)(n,Vi),k=(0,i.Z)({},n,{color:c,component:h,disabled:p,disableElevation:v,disableFocusRipple:g,disableRipple:y,fullWidth:C,orientation:w,size:S,variant:O}),N=function(e){var t=e.classes,r=e.color,i=e.disabled,n=e.disableElevation,o=e.fullWidth,s=e.orientation,a=e.variant,l={root:["root",a,"vertical"===s&&"vertical",o&&"fullWidth",n&&"disableElevation"],grouped:["grouped","grouped".concat((0,de.Z)(s)),"grouped".concat((0,de.Z)(a)),"grouped".concat((0,de.Z)(a)).concat((0,de.Z)(s)),"grouped".concat((0,de.Z)(a)).concat((0,de.Z)(r)),i&&"disabled"]};return(0,ae.Z)(l,Ji,t)}(k),M=t.useMemo((function(){return{className:N.grouped,color:c,disabled:p,disableElevation:v,disableFocusRipple:g,disableRipple:y,fullWidth:C,size:S,variant:O}}),[c,p,v,g,y,C,S,O,N.grouped]);return(0,a.jsx)(qi,(0,i.Z)({as:h,role:"group",className:(0,se.Z)(N.root,s),ref:r,ownerState:k},T,{children:(0,a.jsx)(Ri.Provider,{value:M,children:o})}))})),$i=__webpack_require__(7122),Ki=__webpack_require__(6843),Qi=__webpack_require__(722),en=__webpack_require__(4737),tn=__webpack_require__(1156),rn="Controls_control__x9y4V",nn="Controls_cat__np2S7",on=function(e){var r=e.startGame,i=e.isFinish,n=e.openSettingsModal,o=e.openHeroesModal,s=e.updateTime,l=(0,Qi.useStopwatch)({autoStart:!1}),c=l.seconds,u=l.minutes,h=l.hours,d=l.isRunning,p=l.start,f=l.pause,v=function(e){return e<10?"0".concat(e):"".concat(e)},m=(0,t.useCallback)((function(e,t,r){return"".concat(v(r),":").concat(v(t),":").concat(v(e))}),[]);return(0,t.useEffect)((function(){i&&s(m(c,u,h))}),[i,c,u,h,s,m]),(0,a.jsxs)(mr,{className:rn,children:[(0,a.jsx)(Yi,{size:"large",variant:"contained",children:m(c,u,h)}),(0,a.jsx)(mr,{children:(0,a.jsx)(Gi,{component:"img",image:d?tn:en,className:nn,alt:"cat_sleeps"})}),(0,a.jsxs)(Wi,{variant:"contained","aria-label":"outlined primary button group",children:[(0,a.jsx)(Yi,{onClick:n,children:(0,a.jsx)($i.Z,{})}),(0,a.jsx)(Yi,{onClick:function(){d?f():p(),r()},children:d?"PAUSE":"START"}),(0,a.jsx)(Yi,{onClick:o,children:(0,a.jsx)(Ki.Z,{})})]})]})},sn=__webpack_require__(6189),an=__webpack_require__(7563),ln=__webpack_require__(7979),cn=__webpack_require__(3981),un=__webpack_require__(5721),hn=["onChange","maxRows","minRows","style","value"];function dn(e,t){return parseInt(e[t],10)||0}var pn={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},fn=t.forwardRef((function(e,r){var n=e.onChange,o=e.maxRows,s=e.minRows,l=void 0===s?1:s,c=e.style,u=e.value,h=(0,oe.Z)(e,hn),d=t.useRef(null!=u).current,p=t.useRef(null),f=(0,an.Z)(r,p),v=t.useRef(null),g=t.useRef(0),b=t.useState({}),y=(0,m.Z)(b,2),_=y[0],C=y[1],x=t.useCallback((function(){var t=p.current,r=(0,ln.Z)(t).getComputedStyle(t);if("0px"!==r.width){var i=v.current;i.style.width=r.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var n=r["box-sizing"],s=dn(r,"padding-bottom")+dn(r,"padding-top"),a=dn(r,"border-bottom-width")+dn(r,"border-top-width"),c=i.scrollHeight;i.value="x";var u=i.scrollHeight,h=c;l&&(h=Math.max(Number(l)*u,h)),o&&(h=Math.min(Number(o)*u,h));var d=(h=Math.max(h,u))+("border-box"===n?s+a:0),f=Math.abs(h-c)<=1;C((function(e){return g.current<20&&(d>0&&Math.abs((e.outerHeightStyle||0)-d)>1||e.overflow!==f)?(g.current+=1,{overflow:f,outerHeightStyle:d}):e}))}}),[o,l,e.placeholder]);t.useEffect((function(){var e,t=(0,cn.Z)((function(){g.current=0,x()})),r=(0,ln.Z)(p.current);return r.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),r.removeEventListener("resize",t),e&&e.disconnect()}}),[x]),(0,un.Z)((function(){x()})),t.useEffect((function(){g.current=0}),[u]);return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)("textarea",(0,i.Z)({value:u,onChange:function(e){g.current=0,d||x(),n&&n(e)},ref:f,rows:l,style:(0,i.Z)({height:_.outerHeightStyle,overflow:_.overflow?"hidden":null},c)},h)),(0,a.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:(0,i.Z)({},pn,c,{padding:0})})]})}));var vn=function(e){return"string"===typeof e},mn=__webpack_require__(162);function gn(e){var t=e.styles,r=e.defaultTheme,i=void 0===r?{}:r,n="function"===typeof t?function(e){return t(void 0===(r=e)||null===r||0===Object.keys(r).length?i:e);var r}:t;return(0,a.jsx)(dt,{styles:n})}var bn=__webpack_require__(6482);var yn=function(e){return(0,a.jsx)(gn,(0,i.Z)({},e,{defaultTheme:bn.Z}))};function _n(e){return(0,ve.Z)("MuiInputBase",e)}var Cn=(0,me.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),xn=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],wn=function(e,t){var r=e.ownerState;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t["color".concat((0,de.Z)(r.color))],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},Pn=function(e,t){var r=e.ownerState;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},Sn=(0,ce.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wn})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({},t.typography.body1,(0,Ue.Z)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(Cn.disabled),{color:t.palette.text.disabled,cursor:"default"}),r.multiline&&(0,i.Z)({padding:"4px 0 5px"},"small"===r.size&&{paddingTop:1}),r.fullWidth&&{width:"100%"})})),En=(0,ce.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Pn})((function(e){var t,r=e.theme,n=e.ownerState,o="light"===r.palette.mode,s={color:"currentColor",opacity:o?.42:.5,transition:r.transitions.create("opacity",{duration:r.transitions.duration.shorter})},a={opacity:"0 !important"},l={opacity:o?.42:.5};return(0,i.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,Ue.Z)(t,"label[data-shrink=false] + .".concat(Cn.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l}),(0,Ue.Z)(t,"&.".concat(Cn.disabled),{opacity:1,WebkitTextFillColor:r.palette.text.disabled}),(0,Ue.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),On=(0,a.jsx)(yn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Tn=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiInputBase"}),o=n["aria-describedby"],s=n.autoComplete,l=n.autoFocus,c=n.className,u=n.components,h=void 0===u?{}:u,d=n.componentsProps,p=void 0===d?{}:d,f=n.defaultValue,v=n.disabled,g=n.disableInjectingGlobalStyles,b=n.endAdornment,y=n.fullWidth,_=void 0!==y&&y,C=n.id,x=n.inputComponent,w=void 0===x?"input":x,P=n.inputProps,S=void 0===P?{}:P,E=n.inputRef,O=n.maxRows,T=n.minRows,k=n.multiline,N=void 0!==k&&k,M=n.name,A=n.onBlur,R=n.onChange,L=n.onClick,I=n.onFocus,D=n.onKeyDown,j=n.onKeyUp,B=n.placeholder,Y=n.readOnly,z=n.renderSuffix,F=n.rows,X=n.startAdornment,Z=n.type,U=void 0===Z?"text":Z,G=n.value,J=(0,oe.Z)(n,xn),H=null!=S.value?S.value:G,V=t.useRef(null!=H).current,q=t.useRef(),W=t.useCallback((function(e){0}),[]),$=(0,Be.Z)(S.ref,W),K=(0,Be.Z)(E,$),Q=(0,Be.Z)(q,K),ee=t.useState(!1),te=(0,m.Z)(ee,2),re=te[0],ie=te[1],ne=Re();var ce=Le({props:n,muiFormControl:ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=ne?ne.focused:re,t.useEffect((function(){!ne&&v&&re&&(ie(!1),A&&A())}),[ne,v,re,A]);var ue=ne&&ne.onFilled,pe=ne&&ne.onEmpty,ve=t.useCallback((function(e){he(e)?ue&&ue():pe&&pe()}),[ue,pe]);(0,mn.Z)((function(){V&&ve({value:H})}),[H,ve,V]);t.useEffect((function(){ve(q.current)}),[]);var me=w,ge=S;N&&"input"===me&&(ge=F?(0,i.Z)({type:void 0,minRows:F,maxRows:F},ge):(0,i.Z)({type:void 0,maxRows:O,minRows:T},ge),me=fn);t.useEffect((function(){ne&&ne.setAdornedStart(Boolean(X))}),[ne,X]);var be=(0,i.Z)({},n,{color:ce.color||"primary",disabled:ce.disabled,endAdornment:b,error:ce.error,focused:ce.focused,formControl:ne,fullWidth:_,hiddenLabel:ce.hiddenLabel,multiline:N,size:ce.size,startAdornment:X,type:U}),ye=function(e){var t=e.classes,r=e.color,i=e.disabled,n=e.error,o=e.endAdornment,s=e.focused,a=e.formControl,l=e.fullWidth,c=e.hiddenLabel,u=e.multiline,h=e.size,d=e.startAdornment,p=e.type,f={root:["root","color".concat((0,de.Z)(r)),i&&"disabled",n&&"error",l&&"fullWidth",s&&"focused",a&&"formControl","small"===h&&"sizeSmall",u&&"multiline",d&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel"],input:["input",i&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,ae.Z)(f,_n,t)}(be),_e=h.Root||Sn,Ce=p.root||{},xe=h.Input||En;return ge=(0,i.Z)({},ge,p.input),(0,a.jsxs)(t.Fragment,{children:[!g&&On,(0,a.jsxs)(_e,(0,i.Z)({},Ce,!vn(_e)&&{ownerState:(0,i.Z)({},be,Ce.ownerState)},{ref:r,onClick:function(e){q.current&&e.currentTarget===e.target&&q.current.focus(),L&&L(e)}},J,{className:(0,se.Z)(ye.root,Ce.className,c),children:[X,(0,a.jsx)(fe.Provider,{value:null,children:(0,a.jsx)(xe,(0,i.Z)({ownerState:be,"aria-invalid":ce.error,"aria-describedby":o,autoComplete:s,autoFocus:l,defaultValue:f,disabled:ce.disabled,id:C,onAnimationStart:function(e){ve("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:M,placeholder:B,readOnly:Y,required:ce.required,rows:F,value:H,onKeyDown:D,onKeyUp:j,type:U},ge,!vn(xe)&&{as:me,ownerState:(0,i.Z)({},be,ge.ownerState)},{ref:Q,className:(0,se.Z)(ye.input,ge.className),onBlur:function(e){A&&A(e),S.onBlur&&S.onBlur(e),ne&&ne.onBlur?ne.onBlur(e):ie(!1)},onChange:function(e){if(!V){var t=e.target||q.current;if(null==t)throw new Error((0,sn.Z)(1));ve({value:t.value})}for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];S.onChange&&S.onChange.apply(S,[e].concat(i)),R&&R.apply(void 0,[e].concat(i))},onFocus:function(e){ce.disabled?e.stopPropagation():(I&&I(e),S.onFocus&&S.onFocus(e),ne&&ne.onFocus?ne.onFocus(e):ie(!0))}}))}),b,z?z((0,i.Z)({},ce,{startAdornment:X})):null]}))]})})),kn=Tn;function Nn(e){return(0,ve.Z)("MuiInput",e)}var Mn=(0,i.Z)({},Cn,(0,me.Z)("MuiInput",["root","underline","input"])),An=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Rn=(0,ce.ZP)(Sn,{shouldForwardProp:function(e){return(0,ce.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[].concat((0,Ce.Z)(wn(e,t)),[!r.disableUnderline&&t.underline])}})((function(e){var t,r=e.theme,n=e.ownerState,o="light"===r.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,i.Z)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(r.palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},(0,Ue.Z)(t,"&.".concat(Mn.focused,":after"),{transform:"scaleX(1)"}),(0,Ue.Z)(t,"&.".concat(Mn.error,":after"),{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"}),(0,Ue.Z)(t,"&:before",{borderBottom:"1px solid ".concat(o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),(0,Ue.Z)(t,"&:hover:not(.".concat(Mn.disabled,"):before"),{borderBottom:"2px solid ".concat(r.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(o)}}),(0,Ue.Z)(t,"&.".concat(Mn.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),Ln=(0,ce.ZP)(En,{name:"MuiInput",slot:"Input",overridesResolver:Pn})({}),In=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiInput"}),n=r.disableUnderline,o=r.components,s=void 0===o?{}:o,l=r.componentsProps,c=r.fullWidth,u=void 0!==c&&c,h=r.inputComponent,d=void 0===h?"input":h,p=r.multiline,f=void 0!==p&&p,v=r.type,m=void 0===v?"text":v,g=(0,oe.Z)(r,An),b=function(e){var t=e.classes,r={root:["root",!e.disableUnderline&&"underline"],input:["input"]},n=(0,ae.Z)(r,Nn,t);return(0,i.Z)({},t,n)}(r),y={root:{ownerState:{disableUnderline:n}}},_=l?(0,xe.Z)(l,y):y;return(0,a.jsx)(kn,(0,i.Z)({components:(0,i.Z)({Root:Rn,Input:Ln},s),componentsProps:_,fullWidth:u,inputComponent:d,multiline:f,ref:t,type:m},g,{classes:b}))}));In.muiName="Input";var Dn=In,jn=__webpack_require__(2503),Bn=__webpack_require__(7223),Yn=__webpack_require__(4286),zn=__webpack_require__.n(Yn),Fn="Victory_container__C7fqc",Xn="Victory_content__VKjEi",Zn="Victory_name__Y5QE8",Un="Victory_input__y4OX9",Gn="Victory_cat__hOT5O",Jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Array(t-e+1).fill(0).map((function(t,r){return r+e}))},Hn=function(e,t){return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},Vn=function(e){var r=e.time,i=e.startNewGame,n=e.openHeroesModal,o=Hn("multiplyTableGame.heroes",[]),s=(0,t.useState)("\u041a\u0430\u043a \u0442\u0435\u0431\u044f \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c?"),l=(0,m.Z)(s,2),c=l[0],u=l[1];return(0,a.jsxs)(mr,{className:Fn,children:[(0,a.jsxs)(mr,{className:Xn,children:[(0,a.jsx)(Me,{variant:"h5",children:"\u041c\u043e\u043b\u043e\u0434\u0435\u0446! \u0422\u0432\u043e\u0451 \u0432\u0440\u0435\u043c\u044f: ".concat(r)}),(0,a.jsx)(Me,{variant:"h6",children:"\u0422\u044b \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438 \u0438 \u043f\u043e\u043f\u0430\u0434\u0451\u0448\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0440\u0435\u043a\u043e\u0440\u0434\u043e\u0432!"}),(0,a.jsxs)(mr,{className:Zn,children:[(0,a.jsx)(Dn,{label:"",id:"standard-size-large",value:c,variant:"filled",className:Un,onChange:function(e){u(e.target.value)},onFocus:function(){u("")},onBlur:function(){var e={name:c,date:(new Date).toLocaleDateString("Ru-ru"),time:r};o.push(e);var t=zn()(o,["time"]);localStorage.setItem("multiplyTableGame.heroes",JSON.stringify(t))}}),(0,a.jsx)(Yi,{size:"large",variant:"contained",startIcon:(0,a.jsx)(jn.Z,{}),onClick:i,children:"\u0418\u0433\u0440\u0430\u0442\u044c \u0435\u0449\u0451"}),(0,a.jsx)(Yi,{size:"large",variant:"contained",startIcon:(0,a.jsx)(Ki.Z,{}),onClick:n,children:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0440\u0435\u043a\u043e\u0440\u0434\u044b"})]})]}),(0,a.jsx)(mr,{children:(0,a.jsx)(Gi,{component:"img",image:Bn,className:Gn,alt:"cat_agrees"})})]})},qn="MultiplyTableGame_container__t8T7p",Wn="MultiplyTableGame_topSection__Xy7jd",$n="MultiplyTableGame_tasks__XSeCO",Kn="MultiplyTableGame_list__T76kz",Qn="MultiplyTableGame_task__WBWVr",eo="MultiplyTableGame_answers__OebBs",to=(0,Jt.Z)((0,a.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ro=(0,Jt.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),io=(0,Jt.Z)((0,a.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function no(e){return(0,ve.Z)("MuiCheckbox",e)}var oo=(0,me.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),so=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],ao=(0,ce.ZP)(Gt,{shouldForwardProp:function(e){return(0,ce.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.indeterminate&&t.indeterminate,"default"!==r.color&&t["color".concat((0,de.Z)(r.color))]]}})((function(e){var t,r=e.theme,n=e.ownerState;return(0,i.Z)({color:r.palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:(0,We.Fq)("default"===n.color?r.palette.action.active:r.palette[n.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&(t={},(0,Ue.Z)(t,"&.".concat(oo.checked,", &.").concat(oo.indeterminate),{color:r.palette[n.color].main}),(0,Ue.Z)(t,"&.".concat(oo.disabled),{color:r.palette.action.disabled}),t))})),lo=(0,a.jsx)(ro,{}),co=(0,a.jsx)(to,{}),uo=(0,a.jsx)(io,{}),ho=t.forwardRef((function(e,r){var n,o,s=(0,le.Z)({props:e,name:"MuiCheckbox"}),l=s.checkedIcon,c=void 0===l?lo:l,u=s.color,h=void 0===u?"primary":u,d=s.icon,p=void 0===d?co:d,f=s.indeterminate,v=void 0!==f&&f,m=s.indeterminateIcon,g=void 0===m?uo:m,b=s.inputProps,y=s.size,_=void 0===y?"medium":y,C=(0,oe.Z)(s,so),x=v?g:p,w=v?g:c,P=(0,i.Z)({},s,{color:h,indeterminate:v,size:_}),S=function(e){var t=e.classes,r=e.indeterminate,n=e.color,o={root:["root",r&&"indeterminate","color".concat((0,de.Z)(n))]},s=(0,ae.Z)(o,no,t);return(0,i.Z)({},t,s)}(P);return(0,a.jsx)(ao,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":v},b),icon:t.cloneElement(x,{fontSize:null!=(n=x.props.fontSize)?n:_}),checkedIcon:t.cloneElement(w,{fontSize:null!=(o=w.props.fontSize)?o:_}),ownerState:P,ref:r},C,{classes:S}))})),po=__webpack_require__(9823),fo=__webpack_require__(9723),vo=__webpack_require__(8956),mo=__webpack_require__(8949),go=__webpack_require__(2971);var bo=t.forwardRef((function(e,r){var i=e.children,n=e.container,o=e.disablePortal,s=void 0!==o&&o,a=t.useState(null),l=(0,m.Z)(a,2),c=l[0],u=l[1],h=(0,an.Z)(t.isValidElement(i)?i.ref:null,r);return(0,un.Z)((function(){s||u(function(e){return"function"===typeof e?e():e}(n)||document.body)}),[n,s]),(0,un.Z)((function(){if(c&&!s)return(0,go.Z)(r,c),function(){(0,go.Z)(r,null)}}),[r,c,s]),s?t.isValidElement(i)?t.cloneElement(i,{ref:h}):i:c?v.createPortal(i,c):c}));function yo(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function _o(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Co(e){return parseInt((0,ln.Z)(e).getComputedStyle(e).paddingRight,10)||0}function xo(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,o=[t,r].concat((0,Ce.Z)(i)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===o.indexOf(e)&&-1===s.indexOf(e.tagName)&&_o(e,n)}))}function wo(e,t){var r=-1;return e.some((function(e,i){return!!t(e)&&(r=i,!0)})),r}function Po(e,t){var r=[],i=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,fo.Z)(e);return t.body===e?(0,ln.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){var n=yo((0,fo.Z)(i));r.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight="".concat(Co(i)+n,"px");var o=(0,fo.Z)(i).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){r.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Co(e)+n,"px")}))}var s=i.parentElement,a=(0,ln.Z)(i),l="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===a.getComputedStyle(s).overflowY?s:i;r.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return function(){r.forEach((function(e){var t=e.value,r=e.el,i=e.property;t?r.style.setProperty(i,t):r.style.removeProperty(i)}))}}var So=function(){function e(){Zr(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Gr(e,[{key:"add",value:function(e,t){var r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&_o(e.modalRef,!1);var i=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);xo(t,e.mount,e.modalRef,i,!0);var n=wo(this.containers,(function(e){return e.container===t}));return-1!==n?(this.containers[n].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}},{key:"mount",value:function(e,t){var r=wo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];i.restore||(i.restore=Po(i,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var r=wo(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&_o(e.modalRef,!0),xo(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var n=i.modals[i.modals.length-1];n.modalRef&&_o(n.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Eo=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Oo(e){var t=[],r=[];return Array.from(e.querySelectorAll(Eo)).forEach((function(e,i){var n=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==n&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},r=t('[name="'.concat(e.name,'"]:checked'));return r||(r=t('[name="'.concat(e.name,'"]'))),r!==e}(e))}(e)&&(0===n?t.push(e):r.push({documentOrder:i,tabIndex:n,node:e}))})),r.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function To(){return!0}var ko=function(e){var r=e.children,i=e.disableAutoFocus,n=void 0!==i&&i,o=e.disableEnforceFocus,s=void 0!==o&&o,l=e.disableRestoreFocus,c=void 0!==l&&l,u=e.getTabbable,h=void 0===u?Oo:u,d=e.isEnabled,p=void 0===d?To:d,f=e.open,v=t.useRef(),m=t.useRef(null),g=t.useRef(null),b=t.useRef(null),y=t.useRef(null),_=t.useRef(!1),C=t.useRef(null),x=(0,an.Z)(r.ref,C),w=t.useRef(null);t.useEffect((function(){f&&C.current&&(_.current=!n)}),[n,f]),t.useEffect((function(){if(f&&C.current){var e=(0,fo.Z)(C.current);return C.current.contains(e.activeElement)||(C.current.hasAttribute("tabIndex")||C.current.setAttribute("tabIndex",-1),_.current&&C.current.focus()),function(){c||(b.current&&b.current.focus&&(v.current=!0,b.current.focus()),b.current=null)}}}),[f]),t.useEffect((function(){if(f&&C.current){var e=(0,fo.Z)(C.current),t=function(t){var r=C.current;if(null!==r)if(e.hasFocus()&&!s&&p()&&!v.current){if(!r.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!_.current)return;var i=[];if(e.activeElement!==m.current&&e.activeElement!==g.current||(i=h(C.current)),i.length>0){var n,o,a=Boolean((null==(n=w.current)?void 0:n.shiftKey)&&"Tab"===(null==(o=w.current)?void 0:o.key)),l=i[0],c=i[i.length-1];a?c.focus():l.focus()}else r.focus()}}else v.current=!1},r=function(t){w.current=t,!s&&p()&&"Tab"===t.key&&e.activeElement===C.current&&t.shiftKey&&(v.current=!0,g.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",r,!0);var i=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(i),e.removeEventListener("focusin",t),e.removeEventListener("keydown",r,!0)}}}),[n,s,c,p,f,h]);var P=function(e){null===b.current&&(b.current=e.relatedTarget),_.current=!0};return(0,a.jsxs)(t.Fragment,{children:[(0,a.jsx)("div",{tabIndex:0,onFocus:P,ref:m,"data-test":"sentinelStart"}),t.cloneElement(r,{ref:x,onFocus:function(e){null===b.current&&(b.current=e.relatedTarget),_.current=!0,y.current=e.target;var t=r.props.onFocus;t&&t(e)}}),(0,a.jsx)("div",{tabIndex:0,onFocus:P,ref:g,"data-test":"sentinelEnd"})]})};function No(e){return(0,ve.Z)("MuiModal",e)}(0,me.Z)("MuiModal",["root","hidden"]);var Mo=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var Ao=new So,Ro=t.forwardRef((function(e,r){var n=e.BackdropComponent,o=e.BackdropProps,s=e.children,l=e.classes,c=e.className,u=e.closeAfterTransition,h=void 0!==u&&u,d=e.component,p=void 0===d?"div":d,f=e.components,v=void 0===f?{}:f,g=e.componentsProps,b=void 0===g?{}:g,y=e.container,_=e.disableAutoFocus,C=void 0!==_&&_,x=e.disableEnforceFocus,w=void 0!==x&&x,P=e.disableEscapeKeyDown,S=void 0!==P&&P,E=e.disablePortal,O=void 0!==E&&E,T=e.disableRestoreFocus,k=void 0!==T&&T,N=e.disableScrollLock,M=void 0!==N&&N,A=e.hideBackdrop,R=void 0!==A&&A,L=e.keepMounted,I=void 0!==L&&L,D=e.manager,j=void 0===D?Ao:D,B=e.onBackdropClick,Y=e.onClose,z=e.onKeyDown,F=e.open,X=e.theme,Z=e.onTransitionEnter,U=e.onTransitionExited,G=(0,oe.Z)(e,Mo),J=t.useState(!0),H=(0,m.Z)(J,2),V=H[0],q=H[1],W=t.useRef({}),$=t.useRef(null),K=t.useRef(null),Q=(0,an.Z)(K,r),ee=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),te=function(){return W.current.modalRef=K.current,W.current.mountNode=$.current,W.current},re=function(){j.mount(te(),{disableScrollLock:M}),K.current.scrollTop=0},ie=(0,vo.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(y)||(0,fo.Z)($.current).body;j.add(te(),e),K.current&&re()})),ne=t.useCallback((function(){return j.isTopModal(te())}),[j]),le=(0,vo.Z)((function(e){$.current=e,e&&(F&&ne()?re():_o(K.current,!0))})),ce=t.useCallback((function(){j.remove(te())}),[j]);t.useEffect((function(){return function(){ce()}}),[ce]),t.useEffect((function(){F?ie():ee&&h||ce()}),[F,ce,ee,h,ie]);var ue=(0,i.Z)({},e,{classes:l,closeAfterTransition:h,disableAutoFocus:C,disableEnforceFocus:w,disableEscapeKeyDown:S,disablePortal:O,disableRestoreFocus:k,disableScrollLock:M,exited:V,hideBackdrop:R,keepMounted:I}),he=function(e){var t=e.open,r=e.exited,i=e.classes,n={root:["root",!t&&r&&"hidden"]};return(0,ae.Z)(n,No,i)}(ue);if(!I&&!F&&(!ee||V))return null;var de={};void 0===s.props.tabIndex&&(de.tabIndex="-1"),ee&&(de.onEnter=(0,mo.Z)((function(){q(!1),Z&&Z()}),s.props.onEnter),de.onExited=(0,mo.Z)((function(){q(!0),U&&U(),h&&ce()}),s.props.onExited));var pe=v.Root||p,fe=b.root||{};return(0,a.jsx)(bo,{ref:le,container:y,disablePortal:O,children:(0,a.jsxs)(pe,(0,i.Z)({role:"presentation"},fe,!vn(pe)&&{as:p,ownerState:(0,i.Z)({},ue,fe.ownerState),theme:X},G,{ref:Q,onKeyDown:function(e){z&&z(e),"Escape"===e.key&&ne()&&(S||(e.stopPropagation(),Y&&Y(e,"escapeKeyDown")))},className:(0,se.Z)(he.root,fe.className,c),children:[!R&&n?(0,a.jsx)(n,(0,i.Z)({"aria-hidden":!0,open:F,onClick:function(e){e.target===e.currentTarget&&(B&&B(e),Y&&Y(e,"backdropClick"))}},o)):null,(0,a.jsx)(ko,{disableEnforceFocus:w,disableAutoFocus:C,disableRestoreFocus:k,isEnabled:ne,open:F,children:t.cloneElement(s,de)})]}))})})),Lo=Ro,Io=!1,Do="unmounted",jo="exited",Bo="entering",Yo="entered",zo="exiting",Fo=function(e){function r(t,r){var i;i=e.call(this,t,r)||this;var n,o=r&&!r.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(n=jo,i.appearStatus=Bo):n=Yo:n=t.unmountOnExit||t.mountOnEnter?Do:jo,i.state={status:n},i.nextCallback=null,i}tt(r,e),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Do?{status:jo}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==Bo&&r!==Yo&&(t=Bo):r!==Bo&&r!==Yo||(t=zo)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,r,i=this.props.timeout;return e=t=r=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,r=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:r}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Bo?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===jo&&this.setState({status:Do})},i.performEnter=function(e){var t=this,r=this.props.enter,i=this.context?this.context.isMounting:e,n=this.props.nodeRef?[i]:[v.findDOMNode(this),i],o=n[0],s=n[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!r||Io?this.safeSetState({status:Yo},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Bo},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:Yo},(function(){t.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:v.findDOMNode(this);t&&!Io?(this.props.onExit(i),this.safeSetState({status:zo},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:jo},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:jo},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(i){r&&(r=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:v.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=n[0],s=n[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Do)return null;var r=this.props,i=r.children,n=(r.in,r.mountOnEnter,r.unmountOnExit,r.appear,r.enter,r.exit,r.timeout,r.addEndListener,r.onEnter,r.onEntering,r.onEntered,r.onExit,r.onExiting,r.onExited,r.nodeRef,(0,oe.Z)(r,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(rt.Provider,{value:null},"function"===typeof i?i(e,n):t.cloneElement(t.Children.only(i),n))},r}(t.Component);function Xo(){}Fo.contextType=rt,Fo.propTypes={},Fo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xo,onEntering:Xo,onEntered:Xo,onExit:Xo,onExiting:Xo,onExited:Xo},Fo.UNMOUNTED=Do,Fo.EXITED=jo,Fo.ENTERING=Bo,Fo.ENTERED=Yo,Fo.EXITING=zo;var Zo=Fo;function Uo(){return(0,u.Z)(bn.Z)}var Go=function(e){return e.scrollTop};function Jo(e,t){var r,i,n=e.timeout,o=e.easing,s=e.style,a=void 0===s?{}:s;return{duration:null!=(r=a.transitionDuration)?r:"number"===typeof n?n:n[t.mode]||0,easing:null!=(i=a.transitionTimingFunction)?i:"object"===typeof o?o[t.mode]:o,delay:a.transitionDelay}}var Ho=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Vo={entering:{opacity:1},entered:{opacity:1}},qo=t.forwardRef((function(e,r){var n=Uo(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},s=e.addEndListener,l=e.appear,c=void 0===l||l,u=e.children,h=e.easing,d=e.in,p=e.onEnter,f=e.onEntered,v=e.onEntering,m=e.onExit,g=e.onExited,b=e.onExiting,y=e.style,_=e.timeout,C=void 0===_?o:_,x=e.TransitionComponent,w=void 0===x?Zo:x,P=(0,oe.Z)(e,Ho),S=t.useRef(null),E=(0,Be.Z)(u.ref,r),O=(0,Be.Z)(S,E),T=function(e){return function(t){if(e){var r=S.current;void 0===t?e(r):e(r,t)}}},k=T(v),N=T((function(e,t){Go(e);var r=Jo({style:y,timeout:C,easing:h},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),p&&p(e,t)})),M=T(f),A=T(b),R=T((function(e){var t=Jo({style:y,timeout:C,easing:h},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)})),L=T(g);return(0,a.jsx)(w,(0,i.Z)({appear:c,in:d,nodeRef:S,onEnter:N,onEntered:M,onEntering:k,onExit:R,onExited:L,onExiting:A,addEndListener:function(e){s&&s(S.current,e)},timeout:C},P,{children:function(e,r){return t.cloneElement(u,(0,i.Z)({style:(0,i.Z)({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},Vo[e],y,u.props.style),ref:O},r))}}))})),Wo=qo;function $o(e){return(0,ve.Z)("MuiBackdrop",e)}(0,me.Z)("MuiBackdrop",["root","invisible"]);var Ko=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Qo=(0,ce.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),es=t.forwardRef((function(e,t){var r,n,o=(0,le.Z)({props:e,name:"MuiBackdrop"}),s=o.children,l=o.component,c=void 0===l?"div":l,u=o.components,h=void 0===u?{}:u,d=o.componentsProps,p=void 0===d?{}:d,f=o.className,v=o.invisible,m=void 0!==v&&v,g=o.open,b=o.transitionDuration,y=o.TransitionComponent,_=void 0===y?Wo:y,C=(0,oe.Z)(o,Ko),x=(0,i.Z)({},o,{component:c,invisible:m}),w=function(e){var t=e.classes,r={root:["root",e.invisible&&"invisible"]};return(0,ae.Z)(r,$o,t)}(x);return(0,a.jsx)(_,(0,i.Z)({in:g,timeout:b},C,{children:(0,a.jsx)(Qo,{"aria-hidden":!0,as:null!=(r=h.Root)?r:c,className:(0,se.Z)(w.root,f),ownerState:(0,i.Z)({},x,null==(n=p.root)?void 0:n.ownerState),classes:w,ref:t,children:s})}))})),ts=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],rs=(0,ce.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.open&&r.exited&&t.hidden]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})})),is=(0,ce.ZP)(es,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),ns=t.forwardRef((function(e,r){var n,o=(0,le.Z)({name:"MuiModal",props:e}),s=o.BackdropComponent,l=void 0===s?is:s,c=o.closeAfterTransition,u=void 0!==c&&c,h=o.children,d=o.components,p=void 0===d?{}:d,f=o.componentsProps,v=void 0===f?{}:f,g=o.disableAutoFocus,b=void 0!==g&&g,y=o.disableEnforceFocus,_=void 0!==y&&y,C=o.disableEscapeKeyDown,x=void 0!==C&&C,w=o.disablePortal,P=void 0!==w&&w,S=o.disableRestoreFocus,E=void 0!==S&&S,O=o.disableScrollLock,T=void 0!==O&&O,k=o.hideBackdrop,N=void 0!==k&&k,M=o.keepMounted,A=void 0!==M&&M,R=(0,oe.Z)(o,ts),L=t.useState(!0),I=(0,m.Z)(L,2),D=I[0],j=I[1],B={closeAfterTransition:u,disableAutoFocus:b,disableEnforceFocus:_,disableEscapeKeyDown:x,disablePortal:P,disableRestoreFocus:E,disableScrollLock:T,hideBackdrop:N,keepMounted:A},Y=function(e){return e.classes}((0,i.Z)({},o,B,{exited:D}));return(0,a.jsx)(Lo,(0,i.Z)({components:(0,i.Z)({Root:rs},p),componentsProps:{root:(0,i.Z)({},v.root,(!p.Root||!vn(p.Root))&&{ownerState:(0,i.Z)({},null==(n=v.root)?void 0:n.ownerState)})},BackdropComponent:l,onTransitionEnter:function(){return j(!1)},onTransitionExited:function(){return j(!0)},ref:r},R,{classes:Y},B,{children:h}))}));function os(e){return(0,ve.Z)("MuiIconButton",e)}var ss=(0,me.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),as=["edge","children","className","color","disabled","disableFocusRipple","size"],ls=(0,ce.ZP)(Yt,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,"default"!==r.color&&t["color".concat((0,de.Z)(r.color))],r.edge&&t["edge".concat((0,de.Z)(r.edge))],t["size".concat((0,de.Z)(r.size))]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:(0,We.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===r.edge&&{marginLeft:"small"===r.size?-3:-12},"end"===r.edge&&{marginRight:"small"===r.size?-3:-12})}),(function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({},"inherit"===r.color&&{color:"inherit"},"inherit"!==r.color&&"default"!==r.color&&(0,i.Z)({color:t.palette[r.color].main},!r.disableRipple&&{"&:hover":{backgroundColor:(0,We.Fq)(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===r.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===r.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,Ue.Z)({},"&.".concat(ss.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),cs=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiIconButton"}),n=r.edge,o=void 0!==n&&n,s=r.children,l=r.className,c=r.color,u=void 0===c?"default":c,h=r.disabled,d=void 0!==h&&h,p=r.disableFocusRipple,f=void 0!==p&&p,v=r.size,m=void 0===v?"medium":v,g=(0,oe.Z)(r,as),b=(0,i.Z)({},r,{edge:o,color:u,disabled:d,disableFocusRipple:f,size:m}),y=function(e){var t=e.classes,r=e.disabled,i=e.color,n=e.edge,o=e.size,s={root:["root",r&&"disabled","default"!==i&&"color".concat((0,de.Z)(i)),n&&"edge".concat((0,de.Z)(n)),"size".concat((0,de.Z)(o))]};return(0,ae.Z)(s,os,t)}(b);return(0,a.jsx)(ls,(0,i.Z)({className:(0,se.Z)(y.root,l),centerRipple:!0,focusRipple:!f,disabled:d,ref:t,ownerState:b},g,{children:s}))})),us="normal",hs="small",ds="Modal_container__dLtu4",ps="Modal_modal__a7IXU",fs="Modal_modalSmall__nmCV1",vs="Modal_modalWithLabel__SKam7",ms="Modal_title__ydHPh",gs="Modal_titleCenter__czYDL",bs="Modal_cross__LlJa2",ys="Modal_crossWithLabel__yyYHx",_s="Modal_modalButtons__uxtee",Cs=function(e){var t=e.cancelButtonLabel,r=e.actionButtonLabel,i=e.onClose,n=e.onConfirm,o=e.isActionButtonDisabled;return t?(0,a.jsxs)(mr,{className:_s,children:[(0,a.jsx)(Yi,{variant:"outlined",color:"primary",onClick:i,sx:{mr:2,flexGrow:1},children:t}),(0,a.jsx)(Yi,{sx:{flexGrow:1},variant:"contained",color:"primary",onClick:n,disabled:o,children:r})]}):(0,a.jsx)(Yi,{sx:{mt:3},variant:"contained",color:"primary",onClick:n,fullWidth:!0,disabled:o,children:r})};Cs.defaultProps={cancelButtonLabel:null,onClose:null,isActionButtonDisabled:!1};var xs=Cs,ws=hs,Ps=function(e){var t,r,i,n=e.isOpen,o=e.onClose,s=e.title,l=e.children,c=e.onConfirm,u=e.cancelButtonLabel,h=e.actionButtonLabel,d=e.isActionButtonDisabled,p=e.size,f=Boolean(h)&&Boolean(c),v=p===ws,m=s&&!v;return(0,a.jsx)(ns,{open:n,className:ds,onClose:o,children:(0,a.jsxs)(mr,{className:Fr()((t={},(0,Ue.Z)(t,ps,!0),(0,Ue.Z)(t,vs,m),(0,Ue.Z)(t,fs,v),t)),children:[s&&(0,a.jsx)(Me,{variant:v?"h5":"h4",component:"h2",className:Fr()((r={},(0,Ue.Z)(r,ms,!v),(0,Ue.Z)(r,gs,v),r)),children:s}),(0,a.jsx)(cs,{className:Fr()((i={},(0,Ue.Z)(i,bs,!0),(0,Ue.Z)(i,ys,m),i)),color:"primary",onClick:o,size:"small",children:(0,a.jsx)(po.Z,{})}),l,f&&(0,a.jsx)(xs,{cancelButtonLabel:u,actionButtonLabel:h,onClose:o,onConfirm:c,isActionButtonDisabled:d})]})})};Ps.defaultProps={title:null,onConfirm:null,actionButtonLabel:null,cancelButtonLabel:null,size:us,isActionButtonDisabled:!1};var Ss=Ps,Es=__webpack_require__(9594),Os={numbers:"SettingsModal_numbers__c25Cp",number:"SettingsModal_number__meKf1",image:"SettingsModal_image__GxWo2",cat:"SettingsModal_cat__VG+pU"},Ts=function(e){var r=e.item,i=e.changeSettings,n=(0,t.useState)(r.checked),o=(0,m.Z)(n,2),s=o[0],l=o[1];return(0,a.jsxs)(mr,{className:Os.number,children:[(0,a.jsx)(ho,{checked:s,onChange:function(){l(!s),i(r.name)}}),(0,a.jsx)(Me,{className:Os.number,children:r.name})]},r.name)},ks=function(e){var r=e.settings,i=e.isModalOpen,n=e.closeModal,o=e.changeSettings,s=(0,t.useState)(r),l=(0,m.Z)(s,2),c=l[0],u=l[1],h=r.numbers,d=r.includingMultiplicationByOne,p=r.includingMultiplicationByTen,f=function(e){var t=c.numbers.map((function(t){return t.name===e?Nr(Nr({},t),{},{checked:!t.checked}):t}));u(Nr(Nr({},c),{},{numbers:t}))};return(0,a.jsx)(Ss,{isOpen:i,onClose:n,size:hs,onConfirm:function(){localStorage.setItem("multiplyTableGame.settings",JSON.stringify(c)),o(c),n()},cancelButtonLabel:"\u041e\u0442\u043c\u0435\u043d\u0430",actionButtonLabel:"\u0414\u0430",children:(0,a.jsxs)(mr,{className:Os.modalContent,children:[(0,a.jsx)(mr,{className:Os.image,children:(0,a.jsx)(Gi,{component:"img",image:Es,className:Os.cat,alt:"cat_settings"})}),(0,a.jsx)(Me,{className:Os.title,children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u043c \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f:"}),(0,a.jsx)(mr,{className:Os.numbers,children:h.map((function(e){return(0,a.jsx)(Ts,{item:e,changeSettings:f},e.name)}))}),(0,a.jsxs)(mr,{className:Os.number,children:[(0,a.jsx)(ho,{checked:d}),(0,a.jsx)(Me,{children:"\u0412\u043a\u043b\u044e\u0447\u0430\u044f \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 1"})]}),(0,a.jsxs)(mr,{className:Os.number,children:[(0,a.jsx)(ho,{checked:p}),(0,a.jsx)(Me,{children:"\u0412\u043a\u043b\u044e\u0447\u0430\u044f \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 10"})]})]})})},Ns={numbers:Jn().map((function(e){return{name:e,checked:1!==e&&10!==e}})),includingMultiplicationByOne:!1,includingMultiplicationByTen:!1},Ms={1:"#e1bee7",2:"#ef5350",3:"#ffb74d",4:"#d4e157",5:"#9ccc65",6:"#69f0ae",7:"#40c4ff",8:"#3d5afe",9:"#7e57c2",10:"#e1bee7"},As="AnswerCard_answerCard__750ra",Rs="AnswerCard_exerciseCard__n3dwc",Ls=function(e){var t=e.text,r=e.color;return(0,a.jsx)(Yr,{className:As,style:{backgroundColor:r},children:t})},Is=function(e){var t=e.text,r=e.color;return(0,a.jsx)(Yr,{className:Rs,style:{backgroundColor:r},children:t})},Ds=__webpack_require__(7247),js=__webpack_require__(5244),Bs={content:"HeroesModal_content__7Zdc3",image:"HeroesModal_image__QZeWj",table:"HeroesModal_table__u27eA",hero:"HeroesModal_hero__ANw1f",id:"HeroesModal_id__GKFwj",name:"HeroesModal_name__hoH83",date:"HeroesModal_date__2hW0j",time:"HeroesModal_time__Ki3tS",cat:"HeroesModal_cat__4O-QL"},Ys=function(e){var t=e.isModalOpen,r=e.closeModal,i=Hn("multiplyTableGame.heroes",[]);return(0,a.jsx)(Ss,{isOpen:t,onClose:r,size:us,children:(0,a.jsxs)(mr,{className:Bs.content,children:[(0,a.jsxs)(mr,{className:Bs.image,children:[(0,a.jsx)(Gi,{component:"img",image:js,className:Bs.cat,alt:"cat_settings"}),(0,a.jsx)(Yi,{size:"large",variant:"contained",startIcon:(0,a.jsx)(Ds.Z,{}),onClick:function(){localStorage.removeItem("multiplyTableGame.heroes")},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})]}),(0,a.jsxs)(mr,{className:Bs.table,children:[(0,a.jsx)(Me,{className:Bs.title,variant:"h6",children:"\u041d\u0430\u0448\u0438 \u0433\u0435\u0440\u043e\u0438:"}),i.map((function(e,t){return(0,a.jsxs)(mr,{className:Bs.hero,children:[(0,a.jsx)(Me,{className:Bs.id,children:"".concat(t+1,".")}),(0,a.jsx)(Me,{className:Bs.name,children:e.name}),(0,a.jsx)(Me,{className:Bs.date,children:e.date}),(0,a.jsx)(Me,{className:Bs.time,children:e.time})]},t)}))]})]})})},zs=function(){var e=0,r=(0,t.useState)(!1),i=(0,m.Z)(r,2),n=i[0],o=i[1],s=(0,t.useState)(!1),l=(0,m.Z)(s,2),c=l[0],u=l[1],h=(0,t.useState)("start"),d=(0,m.Z)(h,2),p=d[0],f=d[1],v=(0,t.useState)(Hn("multiplyTableGame.settings",Ns)),g=(0,m.Z)(v,2),b=g[0],y=g[1],_=b.numbers,C=function(e,t){return Jn(e?1:2,t?10:9)}(b.includingMultiplicationByOne,b.includingMultiplicationByTen),x=_.filter((function(e){return e.checked})),w=(0,t.useState)(!1),P=(0,m.Z)(w,2),S=P[0],E=P[1],O=(0,t.useState)(!1),T=(0,m.Z)(O,2),k=T[0],N=T[1],M=(0,t.useState)(!1),A=(0,m.Z)(M,2),R=A[0],L=A[1],I=x.length*C.length,D=function(){(e+=1)===I&&(N(!0),e=0)},j=function(){u(!0)};return(0,a.jsxs)(mr,{className:qn,children:[(0,a.jsx)(ks,{settings:b,isModalOpen:n,closeModal:function(){o(!1)},changeSettings:function(e){y(e)}}),(0,a.jsx)(Ys,{isModalOpen:c,closeModal:function(){u(!1)}}),(0,a.jsx)(mr,{className:Wn,children:R?(0,a.jsx)(Vn,{time:p,startNewGame:function(){E(!1),N(!1),L(!1)},openHeroesModal:j}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(mr,{className:eo,children:x.map((function(e){return C.map((function(t){return(0,a.jsx)(bi,{name:e.name*t,color:Ms[e.name],isGame:S,children:(0,a.jsx)(Ls,{text:e.name*t,color:Ms[e.name]})},t)}))}))}),(0,a.jsx)(on,{startGame:function(){E(!0)},isFinish:k,openSettingsModal:function(){o(!0)},openHeroesModal:j,updateTime:function(e){f(e),L(!0)}})]})}),(0,a.jsx)(mr,{className:$n,children:x.map((function(e){return(0,a.jsx)(mr,{className:Kn,children:C.map((function(t){return(0,a.jsxs)(mr,{className:Qn,children:[(0,a.jsx)(Is,{text:"".concat(e.name," x ").concat(t," ="),color:Ms[e.name]}),(0,a.jsx)(ki,{name:e.name*t,isGame:S,decrementCounter:D,children:(0,a.jsx)(Ls,{text:e.name*t,color:Ms[e.name]})})]},t)}))},e.name)}))})]})},Fs="MultiplyTablePage_container__bP2oy",Xs=function(){return(0,a.jsx)(mr,{className:Fs,children:(0,a.jsx)(zs,{numbers:[3]})})},Zs="dnd-core/INIT_COORDS",Us="dnd-core/BEGIN_DRAG",Gs="dnd-core/PUBLISH_DRAG_SOURCE",Js="dnd-core/HOVER",Hs="dnd-core/DROP",Vs="dnd-core/END_DRAG";function qs(e,t){return{type:Zs,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Ws(e,t,r){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:r||null}),e)}function $s(e,t){return e.filter((function(e){return e!==t}))}function Ks(e){return"object"===typeof e}function Qs(e,t){var r=new Map,i=function(e){r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(i),t.forEach(i);var n=[];return r.forEach((function(e,t){1===e&&n.push(t)})),n}var ea={type:Zs,payload:{clientOffset:null,sourceClientOffset:null}};function ta(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},i=r.publishSource,n=void 0===i||i,o=r.clientOffset,s=r.getSourceClientOffset,a=e.getMonitor(),l=e.getRegistry();e.dispatch(qs(o)),ra(t,a,l);var c=oa(t,a);if(null!=c){var u=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");ia(s),u=s(c)}e.dispatch(qs(o,u));var h=l.getSource(c),d=h.beginDrag(a,c);if(null!=d){na(d),l.pinSource(c);var p=l.getSourceType(c);return{type:Us,payload:{itemType:p,item:d,sourceId:c,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!n}}}}else e.dispatch(ea)}}function ra(e,t,r){Hr(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Hr(r.getSource(e),"Expected sourceIds to be registered.")}))}function ia(e){Hr("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function na(e){Hr(Ks(e),"Item must be an object.")}function oa(e,t){for(var r=null,i=e.length-1;i>=0;i--)if(t.canDragSource(e[i])){r=e[i];break}return r}function sa(e){return function(){if(e.getMonitor().isDragging())return{type:Gs}}}function aa(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function la(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.clientOffset;ca(t);var n=t.slice(0),o=e.getMonitor(),s=e.getRegistry();ua(n,o,s);var a=o.getItemType();return ha(n,s,a),da(n,o,s),{type:Js,payload:{targetIds:n,clientOffset:i||null}}}}function ca(e){Hr(Array.isArray(e),"Expected targetIds to be an array.")}function ua(e,t,r){Hr(t.isDragging(),"Cannot call hover while not dragging."),Hr(!t.didDrop(),"Cannot call hover after drop.");for(var i=0;i<e.length;i++){var n=e[i];Hr(e.lastIndexOf(n)===i,"Expected targetIds to be unique in the passed array."),Hr(r.getTarget(n),"Expected targetIds to be registered.")}}function ha(e,t,r){for(var i=e.length-1;i>=0;i--){var n=e[i];aa(t.getTargetType(n),r)||e.splice(i,1)}}function da(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}function pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){pa(e,t,r[t])}))}return e}function va(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.getMonitor(),i=e.getRegistry();ma(r);var n=ba(r);n.forEach((function(n,o){var s=ga(n,o,i,r),a={type:Hs,payload:{dropResult:fa({},t,s)}};e.dispatch(a)}))}}function ma(e){Hr(e.isDragging(),"Cannot call drop while not dragging."),Hr(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ga(e,t,r,i){var n=r.getTarget(e),o=n?n.drop(i,e):void 0;return function(e){Hr("undefined"===typeof e||Ks(e),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===t?{}:i.getDropResult()),o}function ba(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function ya(e){return function(){var t=e.getMonitor(),r=e.getRegistry();!function(e){Hr(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var i=t.getSourceId();null!=i&&(r.getSource(i,!0).endDrag(t,i),r.unpinSource());return{type:Vs}}}var _a=function(){function e(t,r){var i=this;Zr(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=i.store.getState().refCount>0;i.backend&&(e&&!i.isSetUp?(i.backend.setup(),i.isSetUp=!0):!e&&i.isSetUp&&(i.backend.teardown(),i.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}return Gr(e,[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;var r=function(e){return{beginDrag:ta(e),publishDragSource:sa(e),hover:la(e),drop:va(e),endDrag:ya(e)}}(this);return Object.keys(r).reduce((function(i,n){var o,s=r[n];return i[n]=(o=s,function(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=o.apply(e,i);"undefined"!==typeof s&&t(s)}),i}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}]),e}();function Ca(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var xa="function"===typeof Symbol&&Symbol.observable||"@@observable",wa=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pa={INIT:"@@redux/INIT"+wa(),REPLACE:"@@redux/REPLACE"+wa(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wa()}};function Sa(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ea(e,t,r){var i;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(Ca(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(Ca(1));return r(Ea)(e,t)}if("function"!==typeof e)throw new Error(Ca(2));var n=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Ca(3));return o}function h(e){if("function"!==typeof e)throw new Error(Ca(4));if(l)throw new Error(Ca(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(Ca(6));t=!1,c();var r=a.indexOf(e);a.splice(r,1),s=null}}}function d(e){if(!Sa(e))throw new Error(Ca(7));if("undefined"===typeof e.type)throw new Error(Ca(8));if(l)throw new Error(Ca(9));try{l=!0,o=n(o,e)}finally{l=!1}for(var t=s=a,r=0;r<t.length;r++){(0,t[r])()}return e}function p(e){if("function"!==typeof e)throw new Error(Ca(10));n=e,d({type:Pa.REPLACE})}function f(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ca(11));function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[xa]=function(){return this},e}return d({type:Pa.INIT}),(i={dispatch:d,subscribe:h,getState:u,replaceReducer:p})[xa]=f,i}var Oa=function(e,t){return e===t};function Ta(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function ka(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oa;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(!r(e[i],t[i]))return!1;return!0}function Na(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){Na(e,t,r[t])}))}return e}var Aa={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Aa,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Zs:case Us:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Js:return Ta(e.clientOffset,r.clientOffset)?e:Ma({},e,{clientOffset:r.clientOffset});case Vs:case Hs:return Aa;default:return e}}var La="dnd-core/ADD_SOURCE",Ia="dnd-core/ADD_TARGET",Da="dnd-core/REMOVE_SOURCE",ja="dnd-core/REMOVE_TARGET";function Ba(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){Ba(e,t,r[t])}))}return e}var za={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Fa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Us:return Ya({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Gs:return Ya({},e,{isSourcePublic:!0});case Js:return Ya({},e,{targetIds:r.targetIds});case ja:return-1===e.targetIds.indexOf(r.targetId)?e:Ya({},e,{targetIds:$s(e.targetIds,r.targetId)});case Hs:return Ya({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Vs:return Ya({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case La:case Ia:return e+1;case Da:case ja:return e-1;default:return e}}var Za=[],Ua=[];function Ga(e,t){return e!==Za&&(e===Ua||"undefined"===typeof t||(r=e,t.filter((function(e){return r.indexOf(e)>-1}))).length>0);var r}function Ja(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Js:break;case La:case Ia:case ja:case Da:return Za;default:return Ua}var t=e.payload,r=t.targetIds,i=void 0===r?[]:r,n=t.prevTargetIds,o=void 0===n?[]:n,s=Qs(i,o),a=s.length>0||!ka(i,o);if(!a)return Za;var l=o[o.length-1],c=i[i.length-1];return l!==c&&(l&&s.push(l),c&&s.push(c)),s}function Ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){Va(e,t,r[t])}))}return e}function Wa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ja(e.dirtyHandlerIds,{type:t.type,payload:qa({},t.payload,{prevTargetIds:Ws(e,"dragOperation.targetIds",[])})}),dragOffset:Ra(e.dragOffset,t),refCount:Xa(e.refCount,t),dragOperation:Fa(e.dragOperation,t),stateId:Ha(e.stateId)}}function $a(e,t){return{x:e.x-t.x,y:e.y-t.y}}Za.__IS_NONE__=!0,Ua.__IS_ALL__=!0;var Ka,Qa=function(){function e(t,r){Zr(this,e),this.store=t,this.registry=r}return Gr(e,[{key:"subscribeToStateChange",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.handlerIds;Hr("function"===typeof e,"listener must be a function."),Hr("undefined"===typeof i||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var n=this.store.getState().stateId,o=function(){var r=t.store.getState(),o=r.stateId;try{o===n||o===n+1&&!Ga(r.dirtyHandlerIds,i)||e()}finally{n=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Hr("function"===typeof e,"listener must be a function.");var r=this.store.getState().dragOffset;return this.store.subscribe((function(){var i=t.store.getState().dragOffset;i!==r&&(r=i,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Hr(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Hr(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&(aa(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Hr(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var r=t.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(e),n=this.getItemType();if(n&&!aa(i,n))return!1;var o=this.getTargetIds();if(!o.length)return!1;var s=o.indexOf(e);return r?s===o.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,r,i=e.clientOffset,n=e.initialClientOffset,o=e.initialSourceClientOffset;return i&&n&&o?$a((r=o,{x:(t=i).x+r.x,y:t.y+r.y}),n):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,r=e.initialClientOffset;return t&&r?$a(t,r):null}(this.store.getState().dragOffset)}}]),e}(),el=0;function tl(e,t){t&&Array.isArray(e)?e.forEach((function(e){return tl(e,!1)})):Hr("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Ka||(Ka={}));var rl="undefined"!==typeof global?global:self,il=rl.MutationObserver||rl.WebKitMutationObserver;function nl(e){return function(){var t=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(t),clearInterval(r),e()}}}var ol="function"===typeof il?function(e){var t=1,r=new il(e),i=document.createTextNode("");return r.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}:nl,sl=function(){function e(){var t=this;Zr(this,e),this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=function(){for(var e=t.queue;t.index<e.length;){var r=t.index;if(t.index++,e[r].call(),t.index>t.capacity){for(var i=0,n=e.length-t.index;i<n;i++)e[i]=e[i+t.index];e.length-=t.index,t.index=0}}e.length=0,t.index=0,t.flushing=!1},this.registerPendingError=function(e){t.pendingErrors.push(e),t.requestErrorThrow()},this.requestFlush=ol(this.flush),this.requestErrorThrow=nl((function(){if(t.pendingErrors.length)throw t.pendingErrors.shift()}))}return Gr(e,[{key:"enqueueTask",value:function(e){var t=this.queue,r=this.requestFlush;t.length||(r(),this.flushing=!0),t[t.length]=e}}]),e}(),al=function(){function e(t,r){Zr(this,e),this.onError=t,this.release=r,this.task=null}return Gr(e,[{key:"call",value:function(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}}]),e}(),ll=function(){function e(t){Zr(this,e),this.onError=t,this.freeTasks=[]}return Gr(e,[{key:"create",value:function(e){var t=this.freeTasks,r=t.length?t.pop():new al(this.onError,(function(e){return t[t.length]=e}));return r.task=e,r}}]),e}(),cl=new sl,ul=new ll(cl.registerPendingError);function hl(e){var t=(el++).toString();switch(e){case Ka.SOURCE:return"S".concat(t);case Ka.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function dl(e){switch(e[0]){case"S":return Ka.SOURCE;case"T":return Ka.TARGET;default:throw new Error("Cannot parse handler ID: ".concat(e))}}function pl(e,t){var r=e.entries(),i=!1;do{var n=r.next(),o=n.done;if((0,m.Z)(n.value,2)[1]===t)return!0;i=!!o}while(!i);return!1}var fl=function(){function e(t){Zr(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}return Gr(e,[{key:"addSource",value:function(e,t){tl(e),function(e){Hr("function"===typeof e.canDrag,"Expected canDrag to be a function."),Hr("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Hr("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var r=this.addHandler(Ka.SOURCE,e,t);return this.store.dispatch(function(e){return{type:La,payload:{sourceId:e}}}(r)),r}},{key:"addTarget",value:function(e,t){tl(e,!0),function(e){Hr("function"===typeof e.canDrop,"Expected canDrop to be a function."),Hr("function"===typeof e.hover,"Expected hover to be a function."),Hr("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var r=this.addHandler(Ka.TARGET,e,t);return this.store.dispatch(function(e){return{type:Ia,payload:{targetId:e}}}(r)),r}},{key:"containsHandler",value:function(e){return pl(this.dragSources,e)||pl(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Hr(this.isSourceId(e),"Expected a valid source ID.");var r=t&&e===this.pinnedSourceId,i=r?this.pinnedSource:this.dragSources.get(e);return i}},{key:"getTarget",value:function(e){return Hr(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Hr(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Hr(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return dl(e)===Ka.SOURCE}},{key:"isTargetId",value:function(e){return dl(e)===Ka.TARGET}},{key:"removeSource",value:function(e){var t,r=this;Hr(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Da,payload:{sourceId:e}}}(e)),t=function(){r.dragSources.delete(e),r.types.delete(e)},cl.enqueueTask(ul.create(t))}},{key:"removeTarget",value:function(e){Hr(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ja,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Hr(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Hr(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,r){var i=hl(e);return this.types.set(i,t),e===Ka.SOURCE?this.dragSources.set(i,r):e===Ka.TARGET&&this.dropTargets.set(i,r),i}}]),e}();function vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=ml(i),o=new Qa(n,new fl(n)),s=new _a(n,o),a=e(s,t,r);return s.receiveBackend(a),s}function ml(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ea(Wa,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function gl(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var bl=0,yl=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),_l=(0,t.memo)((function(e){var r=e.children,i=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cl(),r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,n=t;n[yl]||(n[yl]={dragDropManager:vl(e,t,r,i)});return n[yl]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(gl(e,["children"])),n=(0,m.Z)(i,2),o=n[0],s=n[1];return(0,t.useEffect)((function(){if(s){var e=Cl();return++bl,function(){0===--bl&&(e[yl]=null)}}}),[]),(0,a.jsx)(qr.Provider,{value:o,children:r})}));function Cl(){return"undefined"!==typeof global?global:window}function xl(e){var t=null;return function(){return null==t&&(t=e()),t}}var wl=function(){function e(t){Zr(this,e),this.entered=[],this.isNodeInDocument=t}return Gr(e,[{key:"enter",value:function(e){var t=this,r=this.entered.length;return this.entered=function(e,t){var r=new Set,i=function(e){return r.add(e)};e.forEach(i),t.forEach(i);var n=[];return r.forEach((function(e){return n.push(e)})),n}(this.entered.filter((function(r){return t.isNodeInDocument(r)&&(!r.contains||r.contains(e))})),[e]),0===r&&this.entered.length>0}},{key:"leave",value:function(e){var t,r,i=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),r=e,t.filter((function(e){return e!==r}))),i>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}(),Pl=xl((function(){return/firefox/i.test(navigator.userAgent)})),Sl=xl((function(){return Boolean(window.safari)})),El=function(){function e(t,r){Zr(this,e);for(var i=t.length,n=[],o=0;o<i;o++)n.push(o);n.sort((function(e,r){return t[e]<t[r]?-1:1}));for(var s,a,l=[],c=[],u=[],h=0;h<i-1;h++)s=t[h+1]-t[h],a=r[h+1]-r[h],c.push(s),l.push(a),u.push(a/s);for(var d=[u[0]],p=0;p<c.length-1;p++){var f=u[p],v=u[p+1];if(f*v<=0)d.push(0);else{s=c[p];var m=c[p+1],g=s+m;d.push(3*g/((g+m)/f+(g+s)/v))}}d.push(u[u.length-1]);for(var b,y=[],_=[],C=0;C<d.length-1;C++){b=u[C];var x=d[C],w=1/c[C],P=x+d[C+1]-b-b;y.push((b-x-P)*w),_.push(P*w*w)}this.xs=t,this.ys=r,this.c1s=d,this.c2s=y,this.c3s=_}return Gr(e,[{key:"interpolate",value:function(e){var t=this.xs,r=this.ys,i=this.c1s,n=this.c2s,o=this.c3s,s=t.length-1;if(e===t[s])return r[s];for(var a,l=0,c=o.length-1;l<=c;){var u=t[a=Math.floor(.5*(l+c))];if(u<e)l=a+1;else{if(!(u>e))return r[a];c=a-1}}var h=e-t[s=Math.max(0,c)],d=h*h;return r[s]+i[s]*h+n[s]*d+o[s]*h*d}}]),e}();function Ol(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),i=r.top;return{x:r.left,y:i}}function Tl(e){return{x:e.clientX,y:e.clientY}}function kl(e,t,r,i,n){var o=function(e){var t;return"IMG"===e.nodeName&&(Pl()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),s=Ol(o?e:t),a={x:r.x-s.x,y:r.y-s.y},l=e.offsetWidth,c=e.offsetHeight,u=i.anchorX,h=i.anchorY,d=function(e,t,r,i){var n=e?t.width:r,o=e?t.height:i;return Sl()&&e&&(o/=window.devicePixelRatio,n/=window.devicePixelRatio),{dragPreviewWidth:n,dragPreviewHeight:o}}(o,t,l,c),p=d.dragPreviewWidth,f=d.dragPreviewHeight,v=n.offsetX,m=n.offsetY,g=0===m||m;return{x:0===v||v?v:new El([0,.5,1],[a.x,a.x/l*p,a.x+p-l]).interpolate(u),y:g?m:function(){var e=new El([0,.5,1],[a.y,a.y/c*f,a.y+f-c]).interpolate(h);return Sl()&&o&&(e+=(window.devicePixelRatio-1)*f),e}()}}var Nl,Ml="__NATIVE_FILE__",Al="__NATIVE_URL__",Rl="__NATIVE_TEXT__",Ll="__NATIVE_HTML__";function Il(e,t,r){var i=t.reduce((function(t,r){return t||e.getData(r)}),"");return null!=i?i:r}var Dl=(Nl={},(0,Ue.Z)(Nl,Ml,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),(0,Ue.Z)(Nl,Ll,{exposeProperties:{html:function(e,t){return Il(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),(0,Ue.Z)(Nl,Al,{exposeProperties:{urls:function(e,t){return Il(e,t,"").split("\n")},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),(0,Ue.Z)(Nl,Rl,{exposeProperties:{text:function(e,t){return Il(e,t,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),Nl),jl=function(){function e(t){Zr(this,e),this.config=t,this.item={},this.initializeExposedProperties()}return Gr(e,[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var r={};Object.keys(this.config.exposeProperties).forEach((function(i){var n=t.config.exposeProperties[i];null!=n&&(r[i]={value:n(e,t.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,r)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function Bl(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Dl).filter((function(e){var r=Dl[e];return!!(null===r||void 0===r?void 0:r.matchesTypes)&&r.matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}var Yl=function(){function e(t,r){Zr(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}return Gr(e,[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}]),e}();function zl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){zl(e,t,r[t])}))}return e}var Xl=function(){function t(e,r,i){var n=this;Zr(this,t),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=function(e){var t=n.sourceNodes.get(e);return t&&Ol(t)||null},this.endDragNativeItem=function(){n.isDraggingNativeItem()&&(n.actions.endDrag(),n.currentNativeHandle&&n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&n.document&&n.document.body&&n.document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=n.currentDragSourceNode;null==e||n.isNodeInDocument(e)||(n.clearCurrentDragSourceNode()&&n.monitor.isDragging()&&n.actions.endDrag(),n.cancelHover())},this.scheduleHover=function(e){null===n.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(n.hoverRafId=requestAnimationFrame((function(){n.monitor.isDragging()&&n.actions.hover(e||[],{clientOffset:n.lastClientOffset}),n.hoverRafId=null})))},this.cancelHover=function(){null!==n.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(n.hoverRafId),n.hoverRafId=null)},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=n.dragStartSourceIds;n.dragStartSourceIds=null;var r=Tl(e);n.monitor.isDragging()&&(n.actions.endDrag(),n.cancelHover()),n.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:r});var i=e.dataTransfer,o=Bl(i);if(n.monitor.isDragging()){if(i&&"function"===typeof i.setDragImage){var s=n.monitor.getSourceId(),a=n.sourceNodes.get(s),l=n.sourcePreviewNodes.get(s)||a;if(l){var c=n.getCurrentSourcePreviewNodeOptions(),u=kl(a,l,r,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(l,u.x,u.y)}}try{null===i||void 0===i||i.setData("application/json",{})}catch(h){}n.setCurrentDragSourceNode(e.target),n.getCurrentSourcePreviewNodeOptions().captureDraggingState?n.actions.publishDragSource():setTimeout((function(){return n.actions.publishDragSource()}),0)}else if(o)n.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.monitor.isDragging()&&n.actions.endDrag(),n.cancelHover()},this.handleTopDragEnterCapture=function(e){var t;(n.dragEnterTargetIds=[],n.isDraggingNativeItem())&&(null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(n.enterLeaveCounter.enter(e.target)&&!n.monitor.isDragging()){var r=e.dataTransfer,i=Bl(r);i&&n.beginDragNativeItem(i,r)}},this.handleTopDragEnter=function(e){var t=n.dragEnterTargetIds;(n.dragEnterTargetIds=[],n.monitor.isDragging())&&(n.altKeyPressed=e.altKey,t.length>0&&n.actions.hover(t,{clientOffset:Tl(e)}),t.some((function(e){return n.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(e){var t;(n.dragOverTargetIds=[],n.isDraggingNativeItem())&&(null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=function(e){var t=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));n.altKeyPressed=e.altKey,n.lastClientOffset=Tl(e),n.scheduleHover(t),(t||[]).some((function(e){return n.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){n.isDraggingNativeItem()&&e.preventDefault(),n.enterLeaveCounter.leave(e.target)&&(n.isDraggingNativeItem()&&setTimeout((function(){return n.endDragNativeItem()}),0),n.cancelHover())},this.handleTopDropCapture=function(e){var t;(n.dropTargetIds=[],n.isDraggingNativeItem())?(e.preventDefault(),null===(t=n.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Bl(e.dataTransfer)&&e.preventDefault();n.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(t,{clientOffset:Tl(e)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.monitor.isDragging()&&n.actions.endDrag(),n.cancelHover()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Yl(r,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new wl(this.isNodeInDocument)}return Gr(t,[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,r){var i=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){i.sourcePreviewNodes.delete(e),i.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,r){var i=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);var n=function(t){return i.handleDragStart(t,e)},o=function(e){return i.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",o),function(){i.sourceNodes.delete(e),i.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var r=this,i=function(t){return r.handleDragEnter(t,e)},n=function(t){return r.handleDragOver(t,e)},o=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",i),t.addEventListener("dragover",n),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",i),t.removeEventListener("dragover",n),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Fl({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Fl({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var t=this.monitor.getItemType();return Object.keys(e).some((function(r){return e[r]===t}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var r=Dl[e];if(!r)throw new Error("native type ".concat(e," has no configuration"));var i=new jl(r);return i.loadDataTransfer(t),i}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}]),t}(),Zl=function(e,t,r){return new Xl(e,t,r)};function Ul(e){return(0,ve.Z)("MuiAppBar",e)}(0,me.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var Gl=["className","color","enableColorOnDark","position"],Jl=(0,ce.ZP)(Ir,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["position".concat((0,de.Z)(r.position))],t["color".concat((0,de.Z)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState,n="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,i.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},"default"===r.color&&{backgroundColor:n,color:t.palette.getContrastText(n)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,i.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),Hl=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiAppBar"}),n=r.className,o=r.color,s=void 0===o?"primary":o,l=r.enableColorOnDark,c=void 0!==l&&l,u=r.position,h=void 0===u?"fixed":u,d=(0,oe.Z)(r,Gl),p=(0,i.Z)({},r,{color:s,position:h,enableColorOnDark:c}),f=function(e){var t=e.color,r=e.position,i=e.classes,n={root:["root","color".concat((0,de.Z)(t)),"position".concat((0,de.Z)(r))]};return(0,ae.Z)(n,Ul,i)}(p);return(0,a.jsx)(Jl,(0,i.Z)({square:!0,component:"header",ownerState:p,elevation:4,className:(0,se.Z)(f.root,n,"fixed"===h&&"mui-fixed"),ref:t},d))}));function Vl(e){return(0,ve.Z)("MuiToolbar",e)}(0,me.Z)("MuiToolbar",["root","gutters","regular","dense"]);var ql=["className","component","disableGutters","variant"],Wl=(0,ce.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.disableGutters&&t.gutters,t[r.variant]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({position:"relative",display:"flex",alignItems:"center"},!r.disableGutters&&(0,Ue.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===r.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),$l=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiToolbar"}),n=r.className,o=r.component,s=void 0===o?"div":o,l=r.disableGutters,c=void 0!==l&&l,u=r.variant,h=void 0===u?"regular":u,d=(0,oe.Z)(r,ql),p=(0,i.Z)({},r,{component:s,disableGutters:c,variant:h}),f=function(e){var t=e.classes,r={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,ae.Z)(r,Vl,t)}(p);return(0,a.jsx)(Wl,(0,i.Z)({as:s,className:(0,se.Z)(f.root,n),ref:t,ownerState:p},d))})),Kl=(__webpack_require__(7441),__webpack_require__(8301));var Ql=t.createContext({});function ec(e){return(0,ve.Z)("MuiList",e)}(0,me.Z)("MuiList",["root","padding","dense","subheader"]);var tc=["children","className","component","dense","disablePadding","subheader"],rc=(0,ce.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),ic=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiList"}),o=n.children,s=n.className,l=n.component,c=void 0===l?"ul":l,u=n.dense,h=void 0!==u&&u,d=n.disablePadding,p=void 0!==d&&d,f=n.subheader,v=(0,oe.Z)(n,tc),m=t.useMemo((function(){return{dense:h}}),[h]),g=(0,i.Z)({},n,{component:c,dense:h,disablePadding:p}),b=function(e){var t=e.classes,r={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,ae.Z)(r,ec,t)}(g);return(0,a.jsx)(Ql.Provider,{value:m,children:(0,a.jsxs)(rc,(0,i.Z)({as:c,className:(0,se.Z)(b.root,s),ref:r,ownerState:g},v,{children:[f,o]}))})})),nc=yo,oc=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function sc(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function ac(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function lc(e,t){if(void 0===t)return!0;var r=e.innerText;return void 0===r&&(r=e.textContent),0!==(r=r.trim().toLowerCase()).length&&(t.repeating?r[0]===t.keys[0]:0===r.indexOf(t.keys.join("")))}function cc(e,t,r,i,n,o){for(var s=!1,a=n(e,t,!!t&&r);a;){if(a===e.firstChild){if(s)return!1;s=!0}var l=!i&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&lc(a,o)&&!l)return a.focus(),!0;a=n(e,a,r)}return!1}var uc=t.forwardRef((function(e,r){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,l=e.autoFocusItem,c=void 0!==l&&l,u=e.children,h=e.className,d=e.disabledItemsFocusable,p=void 0!==d&&d,f=e.disableListWrap,v=void 0!==f&&f,m=e.onKeyDown,g=e.variant,b=void 0===g?"selectedMenu":g,y=(0,oe.Z)(e,oc),_=t.useRef(null),C=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,mn.Z)((function(){s&&_.current.focus()}),[s]),t.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var r=!_.current.style.width;if(e.clientHeight<_.current.clientHeight&&r){var i="".concat(nc((0,Kl.Z)(e)),"px");_.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=i,_.current.style.width="calc(100% + ".concat(i,")")}return _.current}}}),[]);var x=(0,Be.Z)(_,r),w=-1;t.Children.forEach(u,(function(e,r){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===w)&&(w=r))}));var P=t.Children.map(u,(function(e,r){if(r===w){var i={};return c&&(i.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(i.tabIndex=0),t.cloneElement(e,i)}return e}));return(0,a.jsx)(ic,(0,i.Z)({role:"menu",ref:x,className:h,onKeyDown:function(e){var t=_.current,r=e.key,i=(0,Kl.Z)(t).activeElement;if("ArrowDown"===r)e.preventDefault(),cc(t,i,v,p,sc);else if("ArrowUp"===r)e.preventDefault(),cc(t,i,v,p,ac);else if("Home"===r)e.preventDefault(),cc(t,null,v,p,sc);else if("End"===r)e.preventDefault(),cc(t,null,v,p,ac);else if(1===r.length){var n=C.current,o=r.toLowerCase(),s=performance.now();n.keys.length>0&&(s-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&o!==n.keys[0]&&(n.repeating=!1)),n.lastTime=s,n.keys.push(o);var a=i&&!n.repeating&&lc(i,n);n.previousKeyMatched&&(a||cc(t,i,!1,p,sc,n))?e.preventDefault():n.previousKeyMatched=!1}m&&m(e)},tabIndex:s?0:-1},y,{children:P}))})),hc=uc,dc=__webpack_require__(3199),pc=__webpack_require__(7602),fc=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function vc(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var mc={entering:{opacity:1,transform:vc(1)},entered:{opacity:1,transform:"none"}},gc="undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&/version\/15\.[4-9]/i.test(navigator.userAgent),bc=t.forwardRef((function(e,r){var n=e.addEndListener,o=e.appear,s=void 0===o||o,l=e.children,c=e.easing,u=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,f=e.onExit,v=e.onExited,m=e.onExiting,g=e.style,b=e.timeout,y=void 0===b?"auto":b,_=e.TransitionComponent,C=void 0===_?Zo:_,x=(0,oe.Z)(e,fc),w=t.useRef(),P=t.useRef(),S=Uo(),E=t.useRef(null),O=(0,Be.Z)(l.ref,r),T=(0,Be.Z)(E,O),k=function(e){return function(t){if(e){var r=E.current;void 0===t?e(r):e(r,t)}}},N=k(p),M=k((function(e,t){Go(e);var r,i=Jo({style:g,timeout:y,easing:c},{mode:"enter"}),n=i.duration,o=i.delay,s=i.easing;"auto"===y?(r=S.transitions.getAutoHeightDuration(e.clientHeight),P.current=r):r=n,e.style.transition=[S.transitions.create("opacity",{duration:r,delay:o}),S.transitions.create("transform",{duration:gc?r:.666*r,delay:o,easing:s})].join(","),h&&h(e,t)})),A=k(d),R=k(m),L=k((function(e){var t,r=Jo({style:g,timeout:y,easing:c},{mode:"exit"}),i=r.duration,n=r.delay,o=r.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),P.current=t):t=i,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:n}),S.transitions.create("transform",{duration:gc?t:.666*t,delay:gc?n:n||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=vc(.75),f&&f(e)})),I=k(v);return t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,a.jsx)(C,(0,i.Z)({appear:s,in:u,nodeRef:E,onEnter:M,onEntered:A,onEntering:N,onExit:L,onExited:I,onExiting:R,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,P.current||0)),n&&n(E.current,e)},timeout:"auto"===y?null:y},x,{children:function(e,r){return t.cloneElement(l,(0,i.Z)({style:(0,i.Z)({opacity:0,transform:vc(.75),visibility:"exited"!==e||u?void 0:"hidden"},mc[e],g,l.props.style),ref:T},r))}}))}));bc.muiSupportAuto=!0;var yc=bc;function _c(e){return(0,ve.Z)("MuiPopover",e)}(0,me.Z)("MuiPopover",["root","paper"]);var Cc=["onEntering"],xc=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function wc(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function Pc(e,t){var r=0;return"number"===typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function Sc(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function Ec(e){return"function"===typeof e?e():e}var Oc=(0,ce.ZP)(ns,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Tc=(0,ce.ZP)(Ir,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),kc=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiPopover"}),o=n.action,s=n.anchorEl,l=n.anchorOrigin,c=void 0===l?{vertical:"top",horizontal:"left"}:l,u=n.anchorPosition,h=n.anchorReference,d=void 0===h?"anchorEl":h,p=n.children,f=n.className,v=n.container,m=n.elevation,g=void 0===m?8:m,b=n.marginThreshold,y=void 0===b?16:b,_=n.open,C=n.PaperProps,x=void 0===C?{}:C,w=n.transformOrigin,P=void 0===w?{vertical:"top",horizontal:"left"}:w,S=n.TransitionComponent,E=void 0===S?yc:S,O=n.transitionDuration,T=void 0===O?"auto":O,k=n.TransitionProps,N=(k=void 0===k?{}:k).onEntering,M=(0,oe.Z)(n.TransitionProps,Cc),A=(0,oe.Z)(n,xc),R=t.useRef(),L=(0,Be.Z)(R,x.ref),I=(0,i.Z)({},n,{anchorOrigin:c,anchorReference:d,elevation:g,marginThreshold:y,PaperProps:x,transformOrigin:P,TransitionComponent:E,transitionDuration:T,TransitionProps:M}),D=function(e){var t=e.classes;return(0,ae.Z)({root:["root"],paper:["paper"]},_c,t)}(I),j=t.useCallback((function(){if("anchorPosition"===d)return u;var e=Ec(s),t=(e&&1===e.nodeType?e:(0,Kl.Z)(R.current).body).getBoundingClientRect();return{top:t.top+wc(t,c.vertical),left:t.left+Pc(t,c.horizontal)}}),[s,c.horizontal,c.vertical,u,d]),B=t.useCallback((function(e){return{vertical:wc(e,P.vertical),horizontal:Pc(e,P.horizontal)}}),[P.horizontal,P.vertical]),Y=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},r=B(t);if("none"===d)return{top:null,left:null,transformOrigin:Sc(r)};var i=j(),n=i.top-r.vertical,o=i.left-r.horizontal,a=n+t.height,l=o+t.width,c=(0,pc.Z)(Ec(s)),u=c.innerHeight-y,h=c.innerWidth-y;if(n<y){var p=n-y;n-=p,r.vertical+=p}else if(a>u){var f=a-u;n-=f,r.vertical+=f}if(o<y){var v=o-y;o-=v,r.horizontal+=v}else if(l>h){var m=l-h;o-=m,r.horizontal+=m}return{top:"".concat(Math.round(n),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:Sc(r)}}),[s,d,j,B,y]),z=t.useCallback((function(){var e=R.current;if(e){var t=Y(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[Y]);t.useEffect((function(){_&&z()})),t.useImperativeHandle(o,(function(){return _?{updatePosition:function(){z()}}:null}),[_,z]),t.useEffect((function(){if(_){var e=(0,dc.Z)((function(){z()})),t=(0,pc.Z)(s);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[s,_,z]);var F=T;"auto"!==T||E.muiSupportAuto||(F=void 0);var X=v||(s?(0,Kl.Z)(Ec(s)).body:void 0);return(0,a.jsx)(Oc,(0,i.Z)({BackdropProps:{invisible:!0},className:(0,se.Z)(D.root,f),container:X,open:_,ref:r,ownerState:I},A,{children:(0,a.jsx)(E,(0,i.Z)({appear:!0,in:_,onEntering:function(e,t){N&&N(e,t),z()},timeout:F},M,{children:(0,a.jsx)(Tc,(0,i.Z)({elevation:g},x,{ref:L,className:(0,se.Z)(D.paper,x.className),children:p}))}))}))}));function Nc(e){return(0,ve.Z)("MuiMenu",e)}(0,me.Z)("MuiMenu",["root","paper","list"]);var Mc=["onEntering"],Ac=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Rc={vertical:"top",horizontal:"right"},Lc={vertical:"top",horizontal:"left"},Ic=(0,ce.ZP)(kc,{shouldForwardProp:function(e){return(0,ce.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Dc=(0,ce.ZP)(Ir,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),jc=(0,ce.ZP)(hc,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Bc=t.forwardRef((function(e,r){var n=(0,le.Z)({props:e,name:"MuiMenu"}),o=n.autoFocus,s=void 0===o||o,l=n.children,c=n.disableAutoFocusItem,u=void 0!==c&&c,h=n.MenuListProps,d=void 0===h?{}:h,p=n.onClose,f=n.open,v=n.PaperProps,m=void 0===v?{}:v,g=n.PopoverClasses,b=n.transitionDuration,y=void 0===b?"auto":b,_=n.TransitionProps,C=(_=void 0===_?{}:_).onEntering,x=n.variant,w=void 0===x?"selectedMenu":x,P=(0,oe.Z)(n.TransitionProps,Mc),S=(0,oe.Z)(n,Ac),E=Uo(),O="rtl"===E.direction,T=(0,i.Z)({},n,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:d,onEntering:C,PaperProps:m,transitionDuration:y,TransitionProps:P,variant:w}),k=function(e){var t=e.classes;return(0,ae.Z)({root:["root"],paper:["paper"],list:["list"]},Nc,t)}(T),N=s&&!u&&f,M=t.useRef(null),A=-1;return t.Children.map(l,(function(e,r){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===w&&e.props.selected||-1===A)&&(A=r))})),(0,a.jsx)(Ic,(0,i.Z)({classes:g,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:O?"right":"left"},transformOrigin:O?Rc:Lc,PaperProps:(0,i.Z)({component:Dc},m,{classes:(0,i.Z)({},m.classes,{root:k.paper})}),className:k.root,open:f,ref:r,transitionDuration:y,TransitionProps:(0,i.Z)({onEntering:function(e,t){M.current&&M.current.adjustStyleForScrollbar(e,E),C&&C(e,t)}},P),ownerState:T},S,{children:(0,a.jsx)(jc,(0,i.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:M,autoFocus:s&&(-1===A||u),autoFocusItem:N,variant:w},d,{className:(0,se.Z)(k.list,d.className),children:l}))}))})),Yc=Bc,zc=__webpack_require__(8008);function Fc(e){return(0,ve.Z)("MuiContainer",e)}(0,me.Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var Xc=["className","component","disableGutters","fixed","maxWidth"],Zc=(0,ce.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["maxWidth".concat((0,de.Z)(String(r.maxWidth)))],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!r.disableGutters&&(0,Ue.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,r){var i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,r=e.ownerState;return(0,i.Z)({},"xs"===r.maxWidth&&(0,Ue.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),r.maxWidth&&"xs"!==r.maxWidth&&(0,Ue.Z)({},t.breakpoints.up(r.maxWidth),{maxWidth:"".concat(t.breakpoints.values[r.maxWidth]).concat(t.breakpoints.unit)}))})),Uc=t.forwardRef((function(e,t){var r=(0,le.Z)({props:e,name:"MuiContainer"}),n=r.className,o=r.component,s=void 0===o?"div":o,l=r.disableGutters,c=void 0!==l&&l,u=r.fixed,h=void 0!==u&&u,d=r.maxWidth,p=void 0===d?"lg":d,f=(0,oe.Z)(r,Xc),v=(0,i.Z)({},r,{component:s,disableGutters:c,fixed:h,maxWidth:p}),m=function(e){var t=e.classes,r=e.fixed,i=e.disableGutters,n=e.maxWidth,o={root:["root",n&&"maxWidth".concat((0,de.Z)(String(n))),r&&"fixed",i&&"disableGutters"]};return(0,ae.Z)(o,Fc,t)}(v);return(0,a.jsx)(Zc,(0,i.Z)({as:s,ownerState:v,className:(0,se.Z)(m.root,n),ref:t},f))}));var Gc=__webpack_require__.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg",Jc={header:"Header_header__HhMT5",link:"Header_link__qGWoy",active:"Header_active__vHati",logo:"Header_logo__N59bP","logo-spin":"Header_logo-spin__iNFD-"},Hc=[{name:"Home",path:"/"},{name:"Geometry",path:"/Geometry"},{name:"Charts",path:"/Charts"},{name:"Games",path:"/Games"}],Vc=function(){var e=t.useState(null),r=(0,m.Z)(e,2),i=r[0],n=r[1],o=window.location.pathname;return(0,a.jsx)(Hl,{position:"static",className:Jc.header,children:(0,a.jsx)(Uc,{children:(0,a.jsxs)($l,{disableGutters:!0,children:[(0,a.jsx)("img",{src:Gc,className:Jc.logo,alt:"logo"}),(0,a.jsx)(Me,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},className:Jc.title,children:"SIMPLE MATH"}),(0,a.jsxs)(mr,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,a.jsx)(cs,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)},color:"inherit",children:(0,a.jsx)(zc.Z,{})}),(0,a.jsx)(Yc,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(i),onClose:function(){n(null)},sx:{display:{xs:"block",md:"none"}},children:Hc.map((function(e){var t;return(0,a.jsx)(ne,{end:!0,to:e.path,className:Fr()((t={},(0,Ue.Z)(t,Jc.link,!0),(0,Ue.Z)(t,Jc.active,o===e.path),t)),children:(0,a.jsx)(Me,{textAlign:"center",children:e.name})},"".concat(e.name))}))})]}),(0,a.jsx)(Me,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"SIMPLE MATH"}),(0,a.jsx)(mr,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:Hc.map((function(e){var t;return(0,a.jsx)(ne,{end:!0,to:e.path,className:Fr()((t={},(0,Ue.Z)(t,Jc.link,!0),(0,Ue.Z)(t,Jc.active,o===e.path),t)),children:(0,a.jsx)(Me,{textAlign:"center",children:e.name})},"".concat(e.name))}))})]})})})},qc="Layout_container__yGoAR",Wc=function(e){var t=e.children;return(0,a.jsxs)("div",{className:qc,children:[(0,a.jsx)(Vc,{}),t]})},$c="App_app__RZr3W";var Kc=function(){return(0,a.jsx)("div",{className:$c,children:(0,a.jsx)(_l,{backend:Zl,children:(0,a.jsx)(Wc,{children:(0,a.jsxs)(W,{children:[(0,a.jsx)(V,{exact:!0,path:"/Games",element:(0,a.jsx)(Xs,{})}),(0,a.jsx)(V,{exact:!0,path:"/Geometry",element:(0,a.jsx)(Tr,{})}),(0,a.jsx)(V,{exact:!0,path:"/Geometry/:name",element:(0,a.jsx)(Tr,{})})]})})})})},Qc=function(e){e&&e instanceof Function&&__webpack_require__.e(787).then(__webpack_require__.bind(__webpack_require__,787)).then((function(t){var r=t.getCLS,i=t.getFID,n=t.getFCP,o=t.getLCP,s=t.getTTFB;r(e),i(e),n(e),o(e),s(e)}))},eu=(0,f.Z)({palette:{secondary:{main:"#fff",dark:"#ccc",light:"#fff"}},typography:{htmlFontSize:10}});v.render((0,a.jsx)(t.StrictMode,{children:(0,a.jsx)(p,{theme:eu,children:(0,a.jsx)(re,{children:(0,a.jsx)(Kc,{})})})}),document.getElementById("root")),Qc()}()})();
//# sourceMappingURL=main.613aed49.js.map